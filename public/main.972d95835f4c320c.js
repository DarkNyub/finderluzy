"use strict";(self.webpackChunkfinderluzy=self.webpackChunkfinderluzy||[]).push([[179],{160:(mm,eA,xd)=>{function be(t){return"function"==typeof t}function ym(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const _m=ym(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Nd(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class fn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(s){e=s instanceof _m?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{rA(s)}catch(o){e=e??[],o instanceof _m?e=[...e,...o.errors]:e.push(o)}}if(e)throw new _m(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rA(e);else{if(e instanceof fn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Nd(n,e)}remove(e){const{_finalizers:n}=this;n&&Nd(n,e),e instanceof fn&&e._removeParent(this)}}fn.EMPTY=(()=>{const t=new fn;return t.closed=!0,t})();const tA=fn.EMPTY;function nA(t){return t instanceof fn||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function rA(t){be(t)?t():t.unsubscribe()}const bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rd={setTimeout(t,e,...n){const{delegate:r}=Rd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Rd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function iA(t){Rd.setTimeout(()=>{const{onUnhandledError:e}=bs;if(!e)throw t;e(t)})}function vm(){}const EG=wm("C",void 0,void 0);function wm(t,e,n){return{kind:t,value:e,error:n}}let Ts=null;function kd(t){if(bs.useDeprecatedSynchronousErrorHandling){const e=!Ts;if(e&&(Ts={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ts;if(Ts=null,n)throw r}}else t()}class Im extends fn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nA(e)&&e.add(this)):this.destination=MG}static create(e,n,r){return new Fu(e,n,r)}next(e){this.isStopped?Dm(function CG(t){return wm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Dm(function DG(t){return wm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dm(EG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const TG=Function.prototype.bind;function Em(t,e){return TG.call(t,e)}class SG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Od(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Od(r)}else Od(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Od(n)}}}class Fu extends Im{constructor(e,n,r){let i;if(super(),be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&bs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Em(e.next,s),error:e.error&&Em(e.error,s),complete:e.complete&&Em(e.complete,s)}):i=e}this.destination=new SG(i)}}function Od(t){bs.useDeprecatedSynchronousErrorHandling?function bG(t){bs.useDeprecatedSynchronousErrorHandling&&Ts&&(Ts.errorThrown=!0,Ts.error=t)}(t):iA(t)}function Dm(t,e){const{onStoppedNotification:n}=bs;n&&Rd.setTimeout(()=>n(t,e))}const MG={closed:!0,next:vm,error:function AG(t){throw t},complete:vm},Cm="function"==typeof Symbol&&Symbol.observable||"@@observable";function ki(t){return t}function sA(t){return 0===t.length?ki:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ze=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function RG(t){return t&&t instanceof Im||function NG(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&nA(t)}(n)?n:new Fu(n,r,i);return kd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=oA(r))((i,s)=>{const o=new Fu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Cm](){return this}pipe(...n){return sA(n)(this)}toPromise(n){return new(n=oA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function oA(t){var e;return null!==(e=t??bs.Promise)&&void 0!==e?e:Promise}const kG=ym(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pn=(()=>{class t extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new aA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new kG}next(n){kd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){kd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){kd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?tA:(this.currentObservers=null,s.push(n),new fn(()=>{this.currentObservers=null,Nd(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ze;return n.source=this,n}}return t.create=(e,n)=>new aA(e,n),t})();class aA extends pn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:tA}}function uA(t){return be(t?.lift)}function ht(t){return e=>{if(uA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,r,i){return new OG(t,e,n,r,i)}class OG extends Im{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Te(t,e){return ht((n,r)=>{let i=0;n.subscribe(at(r,s=>{r.next(t.call(e,s,i++))}))})}function Sm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}function hA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Mm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const fA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function pA(t){return be(t?.then)}function gA(t){return be(t[Cm])}function mA(t){return Symbol.asyncIterator&&be(t?.[Symbol.asyncIterator])}function yA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _A=function t4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vA(t){return be(t?.[_A])}function wA(t){return function dA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Oi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Oi(n.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{n.releaseLock()}})}function IA(t){return be(t?.getReader)}function Nn(t){if(t instanceof ze)return t;if(null!=t){if(gA(t))return function n4(t){return new ze(e=>{const n=t[Cm]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(fA(t))return function r4(t){return new ze(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(pA(t))return function i4(t){return new ze(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,iA)})}(t);if(mA(t))return EA(t);if(vA(t))return function s4(t){return new ze(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(IA(t))return function o4(t){return EA(wA(t))}(t)}throw yA(t)}function EA(t){return new ze(e=>{(function a4(t,e){var n,r,i,s;return function cA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=hA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Zr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function St(t,e,n=1/0){return be(e)?St((r,i)=>Te((s,o)=>e(r,s,i,o))(Nn(t(r,i))),n):("number"==typeof e&&(n=e),ht((r,i)=>function u4(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;Nn(n(g,l++)).subscribe(at(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Zr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(at(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ro(t=1/0){return St(ki,t)}const Er=new ze(t=>t.complete());function xm(t){return t[t.length-1]}function DA(t){return be(xm(t))?t.pop():void 0}function Lu(t){return function l4(t){return t&&be(t.schedule)}(xm(t))?t.pop():void 0}function Pd(t,e=0){return ht((n,r)=>{n.subscribe(at(r,i=>Zr(r,t,()=>r.next(i),e),()=>Zr(r,t,()=>r.complete(),e),i=>Zr(r,t,()=>r.error(i),e)))})}function Fd(t,e=0){return ht((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function CA(t,e){if(!t)throw new Error("Iterable cannot be null");return new ze(n=>{Zr(n,e,()=>{const r=t[Symbol.asyncIterator]();Zr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vt(t,e){return e?function y4(t,e){if(null!=t){if(gA(t))return function h4(t,e){return Nn(t).pipe(Fd(e),Pd(e))}(t,e);if(fA(t))return function p4(t,e){return new ze(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(pA(t))return function f4(t,e){return Nn(t).pipe(Fd(e),Pd(e))}(t,e);if(mA(t))return CA(t,e);if(vA(t))return function g4(t,e){return new ze(n=>{let r;return Zr(n,e,()=>{r=t[_A](),Zr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}(t,e);if(IA(t))return function m4(t,e){return CA(wA(t),e)}(t,e)}throw yA(t)}(t,e):Nn(t)}class qn extends pn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function W(...t){return vt(t,Lu(t))}function bA(t={}){const{connector:e=(()=>new pn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ht((g,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Nm(p,i))}),w.subscribe(y),!o&&c>0&&(o=new Fu({next:_=>w.next(_),error:_=>{d=!0,h(),a=Nm(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=Nm(f,r),w.complete()}}),Nn(g).subscribe(o))})(s)}}function Nm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Fu({next:()=>{r.unsubscribe(),t()}});return Nn(e(...n)).subscribe(r)}function Dr(t,e){return ht((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(at(r,u=>{i?.unsubscribe();let c=0;const l=s++;Nn(t(u,l)).subscribe(i=at(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function w4(t,e){return t===e}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function Ld(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Rm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const I4=ve({__forward_ref__:ve});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return ft(this())},t}function q(t){return km(t)?t():t}function km(t){return"function"==typeof t&&t.hasOwnProperty(I4)&&t.__forward_ref__===Me}function Om(t){return t&&!!t.\u0275providers}const TA="https://g.co/ng/security#xss";class b extends Error{constructor(e,n){super(function Vd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Q(t){return"string"==typeof t?t:null==t?"":String(t)}function Pm(t,e){throw new b(-201,!1)}function Wn(t,e){null==t&&function G(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bd(t){return SA(t,jd)||SA(t,AA)}function SA(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ud(t){return t&&(t.hasOwnProperty(Fm)||t.hasOwnProperty(M4))?t[Fm]:null}const jd=ve({\u0275prov:ve}),Fm=ve({\u0275inj:ve}),AA=ve({ngInjectableDef:ve}),M4=ve({ngInjectorDef:ve});var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{});let Lm;function gn(t){const e=Lm;return Lm=t,e}function xA(t,e,n){const r=Bd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&re.Optional?null:void 0!==e?e:void Pm(ft(t))}const xe=globalThis,Vu={},$m="__NG_DI_FLAG__",$d="ngTempTokenPath",R4=/\n/gm,RA="__source";let ko;function Pi(t){const e=ko;return ko=t,e}function P4(t,e=re.Default){if(void 0===ko)throw new b(-203,!1);return null===ko?xA(t,void 0,e):ko.get(t,e&re.Optional?null:void 0,e)}function U(t,e=re.Default){return(function MA(){return Lm}()||P4)(q(t),e)}function O(t,e=re.Default){return U(t,Hd(e))}function Hd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hm(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){const a=r[o],u=F4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function Bu(t,e){return t[$m]=e,t.prototype[$m]=e,t}function F4(t){return t[$m]}function ei(t){return{toString:t}.toString()}var Gd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gd||{}),ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ar||{});const Cr={},ge=[],zd=ve({\u0275cmp:ve}),Gm=ve({\u0275dir:ve}),zm=ve({\u0275pipe:ve}),OA=ve({\u0275mod:ve}),ti=ve({\u0275fac:ve}),Uu=ve({__NG_ELEMENT_ID__:ve}),PA=ve({__NG_ENV_ID__:ve});function FA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function qm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];VA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function LA(t){return 3===t||4===t||6===t}function VA(t){return 64===t.charCodeAt(0)}function ju(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||BA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function BA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const UA="ng-template";function B4(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==FA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function jA(t){return 4===t.type&&t.value!==UA}function U4(t,e,n){return e===(4!==t.type||n?t.value:UA)}function j4(t,e,n){let r=4;const i=t.attrs||[],s=function G4(t){for(let e=0;e<t.length;e++)if(LA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!U4(t,u,n)||""===u&&1===e.length){if(ur(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!B4(t.attrs,c,n)){if(ur(r))return!1;o=!0}continue}const d=$4(8&r?"class":u,i,jA(t),n);if(-1===d){if(ur(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==FA(f,c,0)||2&r&&c!==h){if(ur(r))return!1;o=!0}}}}else{if(!o&&!ur(r)&&!ur(u))return!1;if(o&&ur(u))continue;o=!1,r=u|1&r}}return ur(r)||o}function ur(t){return 0==(1&t)}function $4(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function z4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function $A(t,e,n=!1){for(let r=0;r<e.length;r++)if(j4(t,e[r],n))return!0;return!1}function HA(t,e){return t?":not("+e.trim()+")":e}function W4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ur(o)&&(e+=HA(s,i),i=""),r=o,s=s||!ur(r);n++}return""!==i&&(e+=HA(s,i)),e}function Oo(t){return ei(()=>{const e=zA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ar.Emulated,styles:t.styles||ge,_:null,schemas:t.schemas||null,tView:null,id:""};qA(n);const r=t.dependencies;return n.directiveDefs=qd(r,!1),n.pipeDefs=qd(r,!0),n.id=function tz(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function J4(t){return ae(t)||At(t)}function X4(t){return null!==t}function mn(t){return ei(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function GA(t,e){if(null==t)return Cr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function H(t){return ei(()=>{const e=zA(t);return qA(e),e})}function ae(t){return t[zd]||null}function At(t){return t[Gm]||null}function en(t){return t[zm]||null}function kn(t,e){const n=t[OA]||null;if(!n&&!0===e)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function zA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Cr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:GA(t.inputs,e),outputs:GA(t.outputs)}}function qA(t){t.features?.forEach(e=>e(t))}function qd(t,e){if(!t)return null;const n=e?en:J4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(X4)}const qe=0,R=1,ee=2,Be=3,cr=4,$u=5,jt=6,Fo=7,Xe=8,Fi=9,Lo=10,Y=11,Hu=12,WA=13,Vo=14,Ze=15,Gu=16,Bo=17,br=18,zu=19,KA=20,Li=21,ni=22,qu=23,Wu=24,ie=25,Wm=1,QA=2,Tr=7,Uo=9,Mt=11;function _n(t){return Array.isArray(t)&&"object"==typeof t[Wm]}function tn(t){return Array.isArray(t)&&!0===t[Wm]}function Km(t){return 0!=(4&t.flags)}function As(t){return t.componentOffset>-1}function Kd(t){return 1==(1&t.flags)}function lr(t){return!!t.template}function Qm(t){return 0!=(512&t[ee])}function Ms(t,e){return t.hasOwnProperty(ti)?t[ti]:null}let xt=null,Qd=!1;function Kn(t){const e=xt;return xt=t,e}const XA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function eM(t){if(!Qu(t)||t.dirty){if(!t.producerMustRecompute(t)&&!rM(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function nM(t){t.dirty=!0,function tM(t){if(void 0===t.liveConsumerNode)return;const e=Qd;Qd=!0;try{for(const n of t.liveConsumerNode)n.dirty||nM(n)}finally{Qd=e}}(t),t.consumerMarkedDirty?.(t)}function Jm(t){return t&&(t.nextProducerIndex=0),Kn(t)}function Xm(t,e){if(Kn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Qu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rM(t){jo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(eM(n),r!==n.version))return!0}return!1}function iM(t){if(jo(t),Qu(t))for(let e=0;e<t.producerNode.length;e++)Yd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yd(t,e){if(function oM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),jo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Yd(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];jo(i),i.producerIndexOfThis[r]=e}}function Qu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let aM=null;const dM=()=>{},pz=(()=>({...XA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:dM}))();class gz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function On(){return hM}function hM(t){return t.type.prototype.ngOnChanges&&(t.setInput=yz),mz}function mz(){const t=pM(this),e=t?.current;if(e){const n=t.previous;if(n===Cr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function yz(t,e,n,r){const i=this.declaredInputs[n],s=pM(t)||function _z(t,e){return t[fM]=e}(t,{previous:Cr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new gz(u&&u.currentValue,e,a===Cr),t[r]=e}On.ngInherit=!0;const fM="__ngSimpleChanges__";function pM(t){return t[fM]||null}const Sr=function(t,e,n){};function Ne(t){for(;Array.isArray(t);)t=t[qe];return t}function Jd(t,e){return Ne(e[t])}function vn(t,e){return Ne(e[t.index])}function yM(t,e){return t.data[e]}function Pn(t,e){const n=e[t];return _n(n)?n:n[qe]}function Bi(t,e){return null==e?null:t[e]}function _M(t){t[Bo]=0}function Cz(t){1024&t[ee]||(t[ee]|=1024,wM(t,1))}function vM(t){1024&t[ee]&&(t[ee]&=-1025,wM(t,-1))}function wM(t,e){let n=t[Be];if(null===n)return;n[$u]+=e;let r=n;for(n=n[Be];null!==n&&(1===e&&1===r[$u]||-1===e&&0===r[$u]);)n[$u]+=e,r=n,n=n[Be]}const z={lFrame:NM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function DM(){return z.bindingsEnabled}function E(){return z.lFrame.lView}function ue(){return z.lFrame.tView}function ry(t){return z.lFrame.contextLView=t,t[Xe]}function iy(t){return z.lFrame.contextLView=null,t}function Nt(){let t=CM();for(;null!==t&&64===t.type;)t=t.parent;return t}function CM(){return z.lFrame.currentTNode}function Ar(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function sy(){return z.lFrame.isParent}function Go(){return z.lFrame.bindingIndex++}function Fz(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,ay(e)}function ay(t){z.lFrame.currentDirectiveIndex=t}function cy(t){z.lFrame.currentQueryIndex=t}function Vz(t){const e=t[R];return 2===e.type?e.declTNode:1===e.type?t[jt]:null}function MM(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&re.Host||(i=Vz(s),null===i||(s=s[Vo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=xM();return r.currentTNode=e,r.lView=t,!0}function ly(t){const e=xM(),n=t[R];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xM(){const t=z.lFrame,e=null===t?null:t.child;return null===e?NM(t):e}function NM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function RM(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const kM=RM;function dy(){const t=RM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rn(){return z.lFrame.selectedIndex}function xs(t){z.lFrame.selectedIndex=t}function $e(){const t=z.lFrame;return yM(t.tView,t.selectedIndex)}let PM=!0;function Xd(){return PM}function Ui(t){PM=t}function Zd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function eh(t,e,n){FM(t,e,3,n)}function th(t,e,n,r){(3&t[ee])===n&&FM(t,e,n,r)}function hy(t,e){let n=t[ee];(3&n)===e&&(n&=8191,n+=1,t[ee]=n)}function FM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Bo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Bo]+=65536),(a<s||-1==s)&&(qz(t,n,e,u),t[Bo]=(4294901760&t[Bo])+u+2),u++}function LM(t,e){Sr(4,t,e);const n=Kn(null);try{e.call(t)}finally{Kn(n),Sr(5,t,e)}}function qz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ee]>>13<t[Bo]>>16&&(3&t[ee])===e&&(t[ee]+=8192,LM(a,s)):LM(a,s)}const zo=-1;class Ju{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function py(t){return t!==zo}function Xu(t){return 32767&t}function Zu(t,e){let n=function Yz(t){return t>>16}(t),r=e;for(;n>0;)r=r[Vo],n--;return r}let gy=!0;function nh(t){const e=gy;return gy=t,e}const VM=255,BM=5;let Jz=0;const Mr={};function rh(t,e){const n=UM(t,e);if(-1!==n)return n;const r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,my(r.data,t),my(e,null),my(r.blueprint,null));const i=ih(t,e),s=t.injectorIndex;if(py(i)){const o=Xu(i),a=Zu(i,e),u=a[R].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function my(t,e){t.push(0,0,0,0,0,0,0,0,e)}function UM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ih(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=WM(i),null===r)return zo;if(n++,i=i[Vo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return zo}function yy(t,e,n){!function Xz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Uu)&&(r=n[Uu]),null==r&&(r=n[Uu]=Jz++);const i=r&VM;e.data[t+(i>>BM)]|=1<<i}(t,e,n)}function jM(t,e,n){if(n&re.Optional||void 0!==t)return t;Pm()}function $M(t,e,n,r){if(n&re.Optional&&void 0===r&&(r=null),!(n&(re.Self|re.Host))){const i=t[Fi],s=gn(void 0);try{return i?i.get(e,r,n&re.Optional):xA(e,r,n&re.Optional)}finally{gn(s)}}return jM(r,0,n)}function HM(t,e,n,r=re.Default,i){if(null!==t){if(2048&e[ee]&&!(r&re.Self)){const o=function i3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ee]&&!(512&o[ee]);){const a=GM(s,o,n,r|re.Self,Mr);if(a!==Mr)return a;let u=s.parent;if(!u){const c=o[KA];if(c){const l=c.get(n,Mr,r);if(l!==Mr)return l}u=WM(o),o=o[Vo]}s=u}return i}(t,e,n,r,Mr);if(o!==Mr)return o}const s=GM(t,e,n,r,Mr);if(s!==Mr)return s}return $M(e,n,r,i)}function GM(t,e,n,r,i){const s=function t3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Uu)?t[Uu]:void 0;return"number"==typeof e?e>=0?e&VM:r3:e}(n);if("function"==typeof s){if(!MM(e,t,r))return r&re.Host?jM(i,0,r):$M(e,n,r,i);try{let o;if(o=s(r),null!=o||r&re.Optional)return o;Pm()}finally{kM()}}else if("number"==typeof s){let o=null,a=UM(t,e),u=zo,c=r&re.Host?e[Ze][jt]:null;for((-1===a||r&re.SkipSelf)&&(u=-1===a?ih(t,e):e[a+8],u!==zo&&qM(r,!1)?(o=e[R],a=Xu(u),e=Zu(u,e)):a=-1);-1!==a;){const l=e[R];if(zM(s,a,l.data)){const d=e3(a,e,n,o,r,c);if(d!==Mr)return d}u=e[a+8],u!==zo&&qM(r,e[R].data[a+8]===c)&&zM(s,a,e)?(o=l,a=Xu(u),e=Zu(u,e)):a=-1}}return i}function e3(t,e,n,r,i,s){const o=e[R],a=o.data[t+8],l=function sh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&lr(f)&&f.type===n)return u}return null}(a,o,n,null==r?As(a)&&gy:r!=o&&0!=(3&a.type),i&re.Host&&s===a);return null!==l?Ns(e,o,l,a):Mr}function Ns(t,e,n,r){let i=t[n];const s=e.data;if(function Wz(t){return t instanceof Ju}(i)){const o=i;o.resolving&&function E4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Q(t)}(s[n]));const a=nh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?gn(o.injectImpl):null;MM(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function zz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=hM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&gn(c),nh(a),o.resolving=!1,kM()}}return i}function zM(t,e,n){return!!(n[e+(t>>BM)]&1<<t)}function qM(t,e){return!(t&re.Self||t&re.Host&&e)}class sn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HM(this._tNode,this._lView,e,Hd(r),n)}}function r3(){return new sn(Nt(),E())}function Rt(t){return ei(()=>{const e=t.prototype.constructor,n=e[ti]||_y(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ti]||_y(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function _y(t){return km(t)?()=>{const e=_y(q(t));return e&&e()}:Ms(t)}function WM(t){const e=t[R],n=e.type;return 2===n?e.declTNode:1===n?t[jt]:null}const Wo="__parameters__";function Qo(t,e,n){return ei(()=>{const r=function vy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Wo)?u[Wo]:Object.defineProperty(u,Wo,{value:[]})[Wo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Jo(t,e){t.forEach(n=>Array.isArray(n)?Jo(n,e):e(n))}function QM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ah(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Fn(t,e,n){let r=Xo(t,e);return r>=0?t[1|r]=n:(r=~r,function d3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wy(t,e){const n=Xo(t,e);if(n>=0)return t[1|n]}function Xo(t,e){return function YM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const wn=Bu(Qo("Optional"),8),ch=Bu(Qo("SkipSelf"),4);function ph(t){return 128==(128&t.flags)}var ji=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ji||{});const by=new Map;let P3=0;const Sy="__ngContext__";function $t(t,e){_n(e)?(t[Sy]=e[zu],function L3(t){by.set(t[zu],t)}(e)):t[Sy]=e}let Ay;function My(t,e){return Ay(t,e)}function sc(t){const e=t[Be];return tn(e)?e[Be]:e}function mx(t){return _x(t[Hu])}function yx(t){return _x(t[cr])}function _x(t){for(;null!==t&&!tn(t);)t=t[cr];return t}function ta(t,e,n,r,i){if(null!=r){let s,o=!1;tn(r)?s=r:_n(r)&&(o=!0,r=r[qe]);const a=Ne(r);0===t&&null!==n?null==i?Ex(e,n,a):Rs(e,n,a,i||null,!0):1===t&&null!==n?Rs(e,n,a,i||null,!0):2===t?function Ih(t,e,n){const r=vh(t,e);r&&function nq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function sq(t,e,n,r,i){const s=n[Tr];s!==Ne(n)&&ta(e,t,r,s,i);for(let a=Mt;a<n.length;a++){const u=n[a];ac(u[R],u,t,e,r,s)}}(e,t,s,n,i)}}function yh(t,e,n){return t.createElement(e,n)}function wx(t,e){const n=t[Uo],r=n.indexOf(e);vM(e),n.splice(r,1)}function _h(t,e){if(t.length<=Mt)return;const n=Mt+e,r=t[n];if(r){const i=r[Gu];null!==i&&i!==t&&wx(i,r),e>0&&(t[n-1][cr]=r[cr]);const s=ah(t,Mt+e);!function K3(t,e){ac(t,e,e[Y],2,null,null),e[qe]=null,e[jt]=null}(r[R],r);const o=s[br];null!==o&&o.detachView(s[R]),r[Be]=null,r[cr]=null,r[ee]&=-129}return r}function Ny(t,e){if(!(256&e[ee])){const n=e[Y];e[qu]&&iM(e[qu]),e[Wu]&&iM(e[Wu]),n.destroyNode&&ac(t,e,n,3,null,null),function J3(t){let e=t[Hu];if(!e)return Ry(t[R],t);for(;e;){let n=null;if(_n(e))n=e[Hu];else{const r=e[Mt];r&&(n=r)}if(!n){for(;e&&!e[cr]&&e!==t;)_n(e)&&Ry(e[R],e),e=e[Be];null===e&&(e=t),_n(e)&&Ry(e[R],e),n=e&&e[cr]}e=n}}(e)}}function Ry(t,e){if(!(256&e[ee])){e[ee]&=-129,e[ee]|=256,function tq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ju)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Sr(4,a,u);try{u.call(a)}finally{Sr(5,a,u)}}else{Sr(4,i,s);try{s.call(i)}finally{Sr(5,i,s)}}}}}(t,e),function eq(t,e){const n=t.cleanup,r=e[Fo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Fo]=null);const i=e[Li];if(null!==i){e[Li]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[R].type&&e[Y].destroy();const n=e[Gu];if(null!==n&&tn(e[Be])){n!==e[Be]&&wx(n,e);const r=e[br];null!==r&&r.detachView(t)}!function V3(t){by.delete(t[zu])}(e)}}function ky(t,e,n){return function Ix(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[qe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ar.None||s===ar.Emulated)return null}return vn(r,n)}}(t,e.parent,n)}function Rs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ex(t,e,n){t.appendChild(e,n)}function Dx(t,e,n,r,i){null!==r?Rs(t,e,n,r,i):Ex(t,e,n)}function vh(t,e){return t.parentNode(e)}let Oy,Eh,Vy,Tx=function bx(t,e,n){return 40&t.type?vn(t,n):null};function wh(t,e,n,r){const i=ky(t,r,e),s=e[Y],a=function Cx(t,e,n){return Tx(t,e,n)}(r.parent||e[jt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Dx(s,i,n[u],a,!1);else Dx(s,i,n,a,!1);void 0!==Oy&&Oy(s,r,e,n,i)}function oc(t,e){if(null!==e){const n=e.type;if(3&n)return vn(e,t);if(4&n)return Py(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return oc(t,r);{const i=t[e.index];return tn(i)?Py(-1,i):Ne(i)}}if(32&n)return My(e,t)()||Ne(t[e.index]);{const r=Ax(t,e);return null!==r?Array.isArray(r)?r[0]:oc(sc(t[Ze]),r):oc(t,e.next)}}return null}function Ax(t,e){return null!==e?t[Ze][jt].projection[e.projection]:null}function Py(t,e){const n=Mt+t+1;if(n<e.length){const r=e[n],i=r[R].firstChild;if(null!==i)return oc(r,i)}return e[Tr]}function Fy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&$t(Ne(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Fy(t,e,n.child,r,i,s,!1),ta(e,t,i,a,s);else if(32&u){const c=My(n,r);let l;for(;l=c();)ta(e,t,i,l,s);ta(e,t,i,a,s)}else 16&u?xx(t,e,r,n,i,s):ta(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ac(t,e,n,r,i,s){Fy(n,r,t.firstChild,e,i,s,!1)}function xx(t,e,n,r,i,s){const o=n[Ze],u=o[jt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ta(e,t,i,u[c],s);else{let c=u;const l=o[Be];ph(r)&&(c.flags|=128),Fy(t,e,c,l,i,s,!0)}}function Nx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Rx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&qm(t,e,r),null!==i&&Nx(t,e,i),null!==s&&function aq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function na(t){return function Ly(){if(void 0===Eh&&(Eh=null,xe.trustedTypes))try{Eh=xe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Eh}()?.createHTML(t)||t}class ks{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TA})`}}class hq extends ks{getTypeName(){return"HTML"}}class fq extends ks{getTypeName(){return"Style"}}class pq extends ks{getTypeName(){return"Script"}}class gq extends ks{getTypeName(){return"URL"}}class mq extends ks{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof ks?t.changingThisBreaksApplicationSecurity:t}function xr(t,e){const n=function yq(t){return t instanceof ks&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${TA})`)}return n===e}class Dq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(na(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Cq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=na(e),n}}const Tq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ch(t){return(t=String(t)).match(Tq)?t:"unsafe:"+t}function si(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function uc(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Lx=si("area,br,col,hr,img,wbr"),Vx=si("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bx=si("rp,rt"),Uy=uc(Lx,uc(Vx,si("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uc(Bx,si("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uc(Bx,Vx)),jy=si("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ux=uc(jy,si("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),si("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sq=si("script,style,template");class Aq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Uy.hasOwnProperty(n))return this.sanitizedSomething=!0,!Sq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Ux.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;jy[a]&&(u=Ch(u)),this.buf.push(" ",o,'="',jx(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Uy.hasOwnProperty(n)&&!Lx.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(jx(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Mq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xq=/([^\#-~ |!])/g;function jx(t){return t.replace(/&/g,"&amp;").replace(Mq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(xq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bh;function $x(t,e){let n=null;try{bh=bh||function Fx(t){const e=new Cq(t);return function bq(){try{return!!(new window.DOMParser).parseFromString(na(""),"text/html")}catch{return!1}}()?new Dq(e):e}(t);let r=e?String(e):"";n=bh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=bh.getInertBodyElement(r)}while(r!==s);return na((new Aq).sanitizeChildren($y(n)||n))}finally{if(n){const r=$y(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function $y(t){return"content"in t&&function Nq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Yn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yn||{});function Hy(t){const e=function cc(){const t=E();return t&&t[Lo].sanitizer}();return e?e.sanitize(Yn.URL,t)||"":xr(t,"URL")?Ln(t):Ch(Q(t))}class P{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lc=new P("ENVIRONMENT_INITIALIZER"),zx=new P("INJECTOR",-1),qx=new P("INJECTOR_DEF_TYPES");class Gy{get(e,n=Vu){if(n===Vu){const r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}}function Vq(...t){return{\u0275providers:Kx(0,t),\u0275fromNgModule:!0}}function Kx(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Jo(e,o=>{const a=o;Th(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Qx(i,s),n}function Qx(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];zy(i,s=>{e(s,r)})}}function Th(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=Ud(t);const o=!s&&ae(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Ud(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Th(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Jo(s.imports,l=>{Th(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Qx(c,e)}if(!a){const c=Ms(i)||(()=>new i);e({provide:i,useFactory:c,deps:ge},i),e({provide:qx,useValue:i,multi:!0},i),e({provide:lc,useValue:()=>U(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;zy(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function zy(t,e){for(let n of t)Om(n)&&(n=n.\u0275providers),Array.isArray(n)?zy(n,e):e(n)}const Bq=ve({provide:String,useValue:ve});function qy(t){return null!==t&&"object"==typeof t&&Bq in t}function Os(t){return"function"==typeof t}const Wy=new P("Set Injector scope."),Sh={},jq={};let Ky;function Ah(){return void 0===Ky&&(Ky=new Gy),Ky}class Jn{}class Mh extends Jn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yy(e,o=>this.processProvider(o)),this.records.set(zx,ia(void 0,this)),i.has("environment")&&this.records.set(Jn,ia(void 0,this));const s=this.records.get(Wy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qx.multi,ge,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Pi(this),r=gn(void 0);try{return e()}finally{Pi(n),gn(r)}}get(e,n=Vu,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(PA))return e[PA](this);r=Hd(r);const s=Pi(this),o=gn(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function qq(t){return"function"==typeof t||"object"==typeof t&&t instanceof P}(e)&&Bd(e);u=c&&this.injectableDefInScope(c)?ia(Qy(e),Sh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&re.Self?Ah():this.parent).get(e,n=r&re.Optional&&n===Vu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[$d]=a[$d]||[]).unshift(ft(e)),s)throw a;return function L4(t,e,n,r){const i=t[$d];throw e[RA]&&i.unshift(e[RA]),t.message=function V4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ft(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(R4,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[$d]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{gn(o),Pi(s)}}resolveInjectorInitializers(){const e=Pi(this),n=gn(void 0);try{const i=this.get(lc.multi,ge,re.Self);for(const s of i)s()}finally{Pi(e),gn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=Os(e=q(e))?e:q(e&&e.provide);const r=function Hq(t){return qy(t)?ia(void 0,t.useValue):ia(Xx(t),Sh)}(e);if(Os(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ia(void 0,Sh,!0),i.factory=()=>Hm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Sh&&(n.value=jq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function zq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Qy(t){const e=Bd(t),n=null!==e?e.factory:Ms(t);if(null!==n)return n;if(t instanceof P)throw new b(204,!1);if(t instanceof Function)return function $q(t){const e=t.length;if(e>0)throw function nc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function A4(t){return t&&(t[jd]||t[AA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function Xx(t,e,n){let r;if(Os(t)){const i=q(t);return Ms(i)||Qy(i)}if(qy(t))r=()=>q(t.useValue);else if(function Jx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Hm(t.deps||[]));else if(function Yx(t){return!(!t||!t.useExisting)}(t))r=()=>U(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function Gq(t){return!!t.deps}(t))return Ms(i)||Qy(i);r=()=>new i(...Hm(t.deps))}return r}function ia(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Yy(t,e){for(const n of t)Array.isArray(n)?Yy(n,e):n&&Om(n)?Yy(n.\u0275providers,e):e(n)}const xh=new P("AppId",{providedIn:"root",factory:()=>Wq}),Wq="ng",Zx=new P("Platform Initializer"),$i=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eN=new P("CSP nonce",{providedIn:"root",factory:()=>function ra(){if(void 0!==Vy)return Vy;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let tN=(t,e,n)=>null;function i_(t,e,n=!1){return tN(t,e,n)}class r5{}class iN{}class s5{resolveComponentFactory(e){throw function i5(t){const e=Error(`No component factory found for ${ft(t)}.`);return e.ngComponent=t,e}(e)}}let fc=(()=>{class t{static#e=this.NULL=new s5}return t})();function o5(){return aa(Nt(),E())}function aa(t,e){return new En(vn(t,e))}let En=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=o5}return t})();class oN{}let Nr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function u5(){const t=E(),n=Pn(Nt().index,t);return(_n(n)?n:t)[Y]}()}return t})(),c5=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}return t})();class ua{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const aN=new ua("16.2.7"),a_={};function dN(t,e=null,n=null,r){const i=hN(t,e,n,r);return i.resolveInjectorInitializers(),i}function hN(t,e=null,n=null,r,i=new Set){const s=[n||ge,Vq(t)];return r=r||("object"==typeof t?void 0:ft(t)),new Mh(s,e||Ah(),r||null,i)}let Ht=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Vu;static#t=this.NULL=new Gy;static create(n,r){if(Array.isArray(n))return dN({name:""},r,n,"");{const i=n.name??"";return dN({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=j({token:t,providedIn:"any",factory:()=>U(zx)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function c_(t){return t.ngOriginalError}class oi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&c_(e);for(;n&&c_(n);)n=c_(n);return n||null}}function d_(t){return e=>{setTimeout(t,void 0,e)}}const ce=class m5 extends pn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=d_(s),i&&(i=d_(i)),o&&(o=d_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof fn&&e.add(a),a}};function pN(...t){}class we{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ce(!1),this.onMicrotaskEmpty=new ce(!1),this.onStable=new ce(!1),this.onError=new ce(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function y5(){const t="function"==typeof xe.requestAnimationFrame;let e=xe[t?"requestAnimationFrame":"setTimeout"],n=xe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function w5(t){const e=()=>{!function v5(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,f_(t),t.isCheckStableRunning=!0,h_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),f_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function E5(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return gN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),mN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return gN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),mN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,f_(t),h_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!we.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(we.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_5,pN,pN);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const _5={};function h_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function f_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function gN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mN(t){t._nesting--,h_(t)}class I5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ce,this.onMicrotaskEmpty=new ce,this.onStable=new ce,this.onError=new ce}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const yN=new P("",{providedIn:"root",factory:_N});function _N(){const t=O(we);let e=!0;return function _4(...t){const e=Lu(t),n=function d4(t,e){return"number"==typeof xm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Nn(r[0]):Ro(n)(vt(r,e)):Er}(new ze(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ze(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{we.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(bA()))}function ai(t){return t instanceof Function?t():t}let p_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function pc(t){for(;t;){t[ee]|=64;const e=sc(t);if(Qm(t)&&!e)return t;t=e}return null}const DN=new P("",{providedIn:"root",factory:()=>!1});let Lh=null;function SN(t,e){return t[e]??xN()}function AN(t,e){const n=xN();n.producerNode?.length&&(t[e]=Lh,n.lView=t,Lh=MN())}const R5={...XA,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pc(t.lView)},lView:null};function MN(){return Object.create(R5)}function xN(){return Lh??=MN(),Lh}const X={};function Gt(t){NN(ue(),E(),rn()+t,!1)}function NN(t,e,n,r){if(!r)if(3==(3&e[ee])){const s=t.preOrderCheckHooks;null!==s&&eh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&th(e,s,0,n)}xs(n)}function D(t,e=re.Default){const n=E();return null===n?U(t,e):HM(Nt(),n,q(t),e)}function Vh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[qe]=i,d[ee]=140|r,(null!==c||t&&2048&t[ee])&&(d[ee]|=2048),_M(d),d[Be]=d[Vo]=t,d[Xe]=n,d[Lo]=o||t&&t[Lo],d[Y]=a||t&&t[Y],d[Fi]=u||t&&t[Fi]||null,d[jt]=s,d[zu]=function F3(){return P3++}(),d[ni]=l,d[KA]=c,d[Ze]=2==e.type?t[Ze]:d,d}function da(t,e,n,r,i){let s=t.data[e];if(null===s)s=function g_(t,e,n,r,i){const s=CM(),o=sy(),u=t.data[e]=function U5(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Ho(){return null!==z.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Pz(){return z.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Yu(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ar(s,!0),s}function gc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function kN(t,e,n,r,i){const s=SN(e,qu),o=rn(),a=2&r;try{xs(-1),a&&e.length>ie&&NN(t,e,ie,!1),Sr(a?2:0,i);const c=a?s:null,l=Jm(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Xm(c,l)}}finally{a&&null===e[qu]&&AN(e,qu),xs(o),Sr(a?3:1,i)}}function m_(t,e,n){if(Km(e)){const r=Kn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Kn(r)}}}function y_(t,e,n){DM()&&(function W5(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;As(n)&&function e6(t,e,n){const r=vn(e,t),i=ON(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Bh(t,Vh(t,i,null,o,r,e,null,t[Lo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rh(n,e),$t(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ns(e,t,a,n);$t(c,e),null!==o&&t6(0,a-i,c,u,0,o),lr(u)&&(Pn(n.index,e)[Xe]=Ns(e,t,a,n))}}(t,e,n,vn(n,e)),64==(64&n.flags)&&BN(t,e,n))}function __(t,e,n=vn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ON(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=v_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function v_(t,e,n,r,i,s,o,a,u,c,l){const d=ie+r,h=d+i,f=function O5(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(d,h),p="function"==typeof c?c():c;return f[R]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let PN=t=>null;function FN(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?LN(n,e,i,s):r.hasOwnProperty(i)&&LN(n,e,r[i],s)}return n}function LN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Vn(t,e,n,r,i,s,o,a){const u=vn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(C_(t,n,l,r,i),As(e)&&function H5(t,e){const n=Pn(e,t);16&n[ee]||(n[ee]|=64)}(n,e.index)):3&e.type&&(r=function $5(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function w_(t,e,n,r){if(DM()){const i=null===r?null:{"":-1},s=function Q5(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if($A(e,o.selectors,!1))if(r||(r=[]),lr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),I_(t,e,a.length)}else r.unshift(o),I_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&VN(t,e,n,o,i,a),i&&function Y5(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=ju(n.mergedAttrs,n.attrs)}function VN(t,e,n,r,i,s){for(let c=0;c<r.length;c++)yy(rh(n,e),t,r[c].type);!function X5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=gc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=ju(n.mergedAttrs,l.hostAttrs),Z5(t,n,e,u,l),J5(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function j5(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=FN(d.inputs,l,u,h?h.inputs:null),c=FN(d.outputs,l,c,p);const g=null===u||null===o||jA(e)?null:n6(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function BN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Lz(){return z.lFrame.currentDirectiveIndex}();try{xs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];ay(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&K5(u,c)}}finally{xs(-1),ay(o)}}function K5(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function I_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function J5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function Z5(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ms(i.type)),o=new Ju(s,lr(i),D);t.blueprint[r]=o,n[r]=o,function z5(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function q5(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,gc(t,n,i.hostVars,X),i)}function t6(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)UN(r,n,o[a++],o[a++],o[a++])}function UN(t,e,n,r,i){const s=Kn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Kn(s)}}function n6(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function jN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function $N(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];cy(n[r]),o.contentQueries(2,e[s],s)}}}function Bh(t,e){return t[Hu]?t[WA][cr]=e:t[Hu]=e,t[WA]=e,e}function D_(t,e,n){cy(0);const r=Kn(null);try{e(t,n)}finally{Kn(r)}}function qN(t,e){const n=t[Fi],r=n?n.get(oi,null):null;r&&r.handleError(e)}function C_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];UN(t.data[o],e[o],r,a,i)}}function r6(t,e){const n=Pn(e,t),r=n[R];!function i6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[qe];null!==i&&null===n[ni]&&(n[ni]=i_(i,n[Fi])),b_(r,n,n[Xe])}function b_(t,e,n){ly(e);try{const r=t.viewQuery;null!==r&&D_(1,r,n);const i=t.template;null!==i&&kN(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$N(t,e),t.staticViewQueries&&D_(2,t.viewQuery,n);const s=t.components;null!==s&&function s6(t,e){for(let n=0;n<e.length;n++)r6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,dy()}}let WN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function fz(t,e,n){const r=Object.create(pz);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>nM(r),run:()=>{if(r.dirty=!1,r.hasRun&&!rM(r))return;r.hasRun=!0;const o=Jm(r);try{r.cleanupFn(),r.cleanupFn=dM,r.fn(i)}finally{Xm(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function Uh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Rm(i,a):2==s&&(r=Rm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function mc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Ne(s)),tn(s)&&KN(s,r);const o=n.type;if(8&o)mc(t,e,n.child,r);else if(32&o){const a=My(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Ax(e,n);if(Array.isArray(a))r.push(...a);else{const u=sc(e[Ze]);mc(u[R],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function KN(t,e){for(let n=Mt;n<t.length;n++){const r=t[n],i=r[R].firstChild;null!==i&&mc(r[R],r,i,e)}t[Tr]!==t[qe]&&e.push(t[Tr])}function jh(t,e,n,r=!0){const i=e[Lo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{QN(t,e,t.template,n)}catch(u){throw r&&qN(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function QN(t,e,n,r){const i=e[ee];if(256!=(256&i)){e[Lo].effectManager?.flush(),ly(e);try{_M(e),function TM(t){return z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&kN(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&eh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&th(e,c,0,null),hy(e,0)}if(function u6(t){for(let e=mx(t);null!==e;e=yx(e)){if(!e[QA])continue;const n=e[Uo];for(let r=0;r<n.length;r++){Cz(n[r])}}}(e),YN(e,2),null!==t.contentQueries&&$N(t,e),o){const c=t.contentCheckHooks;null!==c&&eh(e,c)}else{const c=t.contentHooks;null!==c&&th(e,c,1),hy(e,1)}!function k5(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=SN(e,Wu);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)xs(~s);else{const o=s,a=n[++i],u=n[++i];Fz(a,o),r.dirty=!1;const c=Jm(r);try{u(2,e[o])}finally{Xm(r,c)}}}}finally{null===e[Wu]&&AN(e,Wu),xs(-1)}}(t,e);const a=t.components;null!==a&&XN(e,a,0);const u=t.viewQuery;if(null!==u&&D_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&eh(e,c)}else{const c=t.viewHooks;null!==c&&th(e,c,2),hy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ee]&=-73,vM(e)}finally{dy()}}}function YN(t,e){for(let n=mx(t);null!==n;n=yx(n))for(let r=Mt;r<n.length;r++)JN(n[r],e)}function c6(t,e,n){JN(Pn(e,t),n)}function JN(t,e){if(!function Ez(t){return 128==(128&t[ee])}(t))return;const n=t[R],r=t[ee];if(80&r&&0===e||1024&r||2===e)QN(n,t,n.template,t[Xe]);else if(t[$u]>0){YN(t,1);const i=n.components;null!==i&&XN(t,i,1)}}function XN(t,e,n){for(let r=0;r<e.length;r++)c6(t,e[r],n)}class yc{get rootNodes(){const e=this._lView,n=e[R];return mc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xe]}set context(e){this._lView[Xe]=e}get destroyed(){return 256==(256&this._lView[ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Be];if(tn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(_h(e,r),ah(n,r))}this._attachedToViewContainer=!1}Ny(this._lView[R],this._lView)}onDestroy(e){!function IM(t,e){if(256==(256&t[ee]))throw new b(911,!1);null===t[Li]&&(t[Li]=[]),t[Li].push(e)}(this._lView,e)}markForCheck(){pc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ee]&=-129}reattach(){this._lView[ee]|=128}detectChanges(){jh(this._lView[R],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Y3(t,e){ac(t,e,e[Y],2,null,null)}(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class l6 extends yc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;jh(e[R],e,e[Xe],!1)}checkNoChanges(){}get context(){return null}}class ZN extends fc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ae(e);return new _c(n,this.ngModule)}}function eR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class h6{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hd(r);const i=this.injector.get(e,a_,r);return i!==a_||n===a_?i:this.parentInjector.get(e,n,r)}}class _c extends iN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=eR(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return eR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function K4(t){return t.map(W4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Jn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new h6(e,s):e,a=o.get(oN,null);if(null===a)throw new b(407,!1);const d={rendererFactory:a,sanitizer:o.get(c5,null),effectManager:o.get(WN,null),afterRenderEventManager:o.get(p_,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function P5(t,e,n,r){const s=r.get(DN,!1)||n===ar.ShadowDom,o=t.selectRootElement(e,s);return function F5(t){PN(t)}(o),o}(h,r,this.componentDef.encapsulation,o):yh(h,f,function d6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=i_(p,o,!0));const T=v_(0,null,null,1,0,null,null,null,null,null,null),k=Vh(null,T,null,w,null,null,d,h,o,null,_);let V,Z;ly(k);try{const Ae=this.componentDef;let Xt,Xr=null;Ae.findHostDirectiveDefs?(Xt=[],Xr=new Map,Ae.findHostDirectiveDefs(Ae,Xt,Xr),Xt.push(Ae)):Xt=[Ae];const ZS=function p6(t,e){const n=t[R],r=ie;return t[r]=e,da(n,r,2,"#host",null)}(k,p),Lpe=function g6(t,e,n,r,i,s,o){const a=i[R];!function m6(t,e,n,r){for(const i of t)e.mergedAttrs=ju(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Uh(e,e.mergedAttrs,!0),null!==n&&Rx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=i_(e,i[Fi]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Vh(i,ON(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&I_(a,t,r.length-1),Bh(i,d),i[t.index]=d}(ZS,p,Ae,Xt,k,d,h);Z=yM(T,ie),p&&function _6(t,e,n,r){if(r)qm(t,n,["ng-version",aN.full]);else{const{attrs:i,classes:s}=function Q4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ur(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&qm(t,n,i),s&&s.length>0&&Nx(t,n,s.join(" "))}}(h,Ae,p,r),void 0!==n&&function v6(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Z,this.ngContentSelectors,n),V=function y6(t,e,n,r,i,s){const o=Nt(),a=i[R],u=vn(o,i);VN(a,i,o,n,null,r);for(let l=0;l<n.length;l++)$t(Ns(i,a,o.directiveStart+l,o),i);BN(a,i,o),u&&$t(u,i);const c=Ns(i,a,o.directiveStart+o.componentOffset,o);if(t[Xe]=i[Xe]=c,null!==s)for(const l of s)l(c,e);return m_(a,o,t),c}(Lpe,Ae,Xt,Xr,k,[w6]),b_(T,k,null)}finally{dy()}return new f6(this.componentType,V,aa(Z,k),k,Z)}}class f6 extends r5{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new l6(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;C_(s[R],s,i,e,n),this.previousInputValues.set(e,n),pc(Pn(this._tNode.index,s))}}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function w6(){const t=Nt();Zd(E()[R],t)}function Ie(t){let e=function tR(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=$h(t.inputs),o.inputTransforms=$h(t.inputTransforms),o.declaredInputs=$h(t.declaredInputs),o.outputs=$h(t.outputs);const a=i.hostBindings;a&&C6(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&E6(t,u),c&&D6(t,c),Ld(t.inputs,i.inputs),Ld(t.declaredInputs,i.declaredInputs),Ld(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ld(o.inputTransforms,i.inputTransforms)),lr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ie&&(n=!1)}}e=Object.getPrototypeOf(e)}!function I6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ju(i.hostAttrs,n=ju(n,i.hostAttrs))}}(r)}function $h(t){return t===Cr?{}:t===ge?[]:t}function E6(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function D6(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function C6(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Hh(t){return!!function T_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function zt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function fa(t,e,n,r){return zt(t,Go(),n)?e+Q(n)+r:X}function R_(t,e,n,r,i,s,o,a){const u=E(),c=ue(),l=t+ie,d=c.firstCreatePass?function Q6(t,e,n,r,i,s,o,a,u){const c=e.consts,l=da(e,t,4,o||null,Bi(c,a));w_(e,n,l,Bi(c,u)),Zd(e,l);const d=l.tView=v_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Ar(d,!1);const h=_R(c,u,d,t);Xd()&&wh(c,u,h,d),$t(h,u),Bh(u,u[l]=jN(h,u,h,d)),Kd(d)&&y_(c,u,d),null!=o&&__(u,d,a)}let _R=function vR(t,e,n,r){return Ui(!0),e[Y].createComment("")};function dr(t,e,n){const r=E();return zt(r,Go(),e)&&Vn(ue(),$e(),r,t,e,r[Y],n,!1),dr}function k_(t,e,n,r,i){const o=i?"class":"style";C_(t,n,e.inputs[o],o,r)}function le(t,e,n,r){const i=E(),s=ue(),o=ie+t,a=i[Y],u=s.firstCreatePass?function e9(t,e,n,r,i,s){const o=e.consts,u=da(e,t,2,r,Bi(o,i));return w_(e,n,u,Bi(o,s)),null!==u.attrs&&Uh(u,u.attrs,!1),null!==u.mergedAttrs&&Uh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=wR(s,i,u,a,e,t);i[o]=c;const l=Kd(u);return Ar(u,!0),Rx(a,c,u),32!=(32&u.flags)&&Xd()&&wh(s,i,c,u),0===function Tz(){return z.lFrame.elementDepthCount}()&&$t(c,i),function Sz(){z.lFrame.elementDepthCount++}(),l&&(y_(s,i,u),m_(s,u,i)),null!==r&&__(i,u),le}function de(){let t=Nt();sy()?function oy(){z.lFrame.isParent=!1}():(t=t.parent,Ar(t,!1));const e=t;(function Mz(t){return z.skipHydrationRootTNode===t})(e)&&function kz(){z.skipHydrationRootTNode=null}(),function Az(){z.lFrame.elementDepthCount--}();const n=ue();return n.firstCreatePass&&(Zd(n,t),Km(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Kz(t){return 0!=(8&t.flags)}(e)&&k_(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Qz(t){return 0!=(16&t.flags)}(e)&&k_(n,e,E(),e.stylesWithoutHost,!1),de}function Hi(t,e,n,r){return le(t,e,n,r),de(),Hi}let wR=(t,e,n,r,i,s)=>(Ui(!0),yh(r,i,function OM(){return z.lFrame.currentNamespace}()));function Dc(t){return!!t&&"function"==typeof t.then}function CR(t){return!!t&&"function"==typeof t.subscribe}function et(t,e,n,r){const i=E(),s=ue(),o=Nt();return function TR(t,e,n,r,i,s,o){const a=Kd(r),c=t.firstCreatePass&&function GN(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Xe],d=function HN(t){return t[Fo]||(t[Fo]=[])}(e);let h=!0;if(3&r.type||o){const g=vn(r,e),y=o?o(g):g,w=d.length,_=o?k=>o(Ne(k[r.index])):r.index;let T=null;if(!o&&a&&(T=function o9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Fo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1;else{s=AR(r,e,l,s,!1);const k=n.listen(y,i,s);d.push(s,k),c&&c.push(i,_,w,w+1)}}else s=AR(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),Z=d.length;d.push(s,V),c&&c.push(i,r.index,Z,-(Z+1))}}}(s,i,i[Y],o,t,e,r),et}function SR(t,e,n,r){try{return Sr(6,e,n),!1!==n(r)}catch(i){return qN(t,i),!1}finally{Sr(7,e,n)}}function AR(t,e,n,r,i){return function s(o){if(o===Function)return r;pc(t.componentOffset>-1?Pn(t.index,e):e);let u=SR(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=SR(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function F_(t=1){return function Bz(t){return(z.lFrame.contextLView=function Uz(t,e){for(;t>0;)e=e[Vo],t--;return e}(t,z.lFrame.contextLView))[Xe]}(t)}function L_(t,e,n){return V_(t,"",e,"",n),L_}function V_(t,e,n,r,i){const s=E(),o=fa(s,e,n,r);return o!==X&&Vn(ue(),$e(),s,t,o,s[Y],i,!1),V_}function Kh(t,e){return t<<17|e<<2}function Gi(t){return t>>17&32767}function B_(t){return 2|t}function Fs(t){return(131068&t)>>2}function U_(t,e){return-131069&t|e<<2}function j_(t){return 1|t}function LR(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Gi(s):Fs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];g9(t[a],e)&&(u=!0,t[a+1]=r?j_(l):B_(l)),a=r?Gi(l):Fs(l)}u&&(t[n+1]=r?B_(s):j_(s))}function g9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Xo(t,e)>=0}function $_(t,e,n){return hr(t,e,n,!1),$_}function Qh(t,e){return hr(t,e,null,!0),Qh}function hr(t,e,n,r){const i=E(),s=ue(),o=function ii(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function zR(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[rn()],o=function GR(t,e){return e>=t.expandoStartIndex}(t,n);(function QR(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function C9(t,e,n,r){const i=function uy(t){const e=z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Cc(n=H_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=H_(i,t,e,n,r),null===s){let u=function b9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Fs(r))return t[Gi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=H_(null,t,e,u[1],r),u=Cc(u,e.attrs,r),function T9(t,e,n,r){t[Gi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function S9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Cc(r,t[s].hostAttrs,n);return Cc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function f9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Gi(o),u=Fs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Xo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Gi(t[a+1]);t[r+1]=Kh(h,a),0!==h&&(t[h+1]=U_(t[h+1],r)),t[a+1]=function d9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Kh(a,0),0!==a&&(t[a+1]=U_(t[a+1],r)),a=r;else t[r+1]=Kh(u,0),0===a?a=r:t[u+1]=U_(t[u+1],r),u=r;c&&(t[r+1]=B_(t[r+1])),LR(t,l,r,!0),LR(t,l,r,!1),function p9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Xo(s,e)>=0&&(n[r+1]=j_(n[r+1]))}(e,l,t,r,s),o=Kh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==X&&zt(i,o,e)&&function WR(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function h9(t){return 1==(1&t)}(c)?KR(u,e,n,i,Fs(c),o):void 0;Yh(l)||(Yh(s)||function l9(t){return 2==(2&t)}(c)&&(s=KR(u,null,n,i,a,o)),function oq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ji.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ji.Important),t.setStyle(n,r,i,s))}}(r,o,Jd(rn(),n),i,s))}(s,s.data[rn()],i,i[Y],t,i[o+1]=function N9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ft(Ln(t)))),t}(e,n),r,o)}function H_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Cc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Cc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fn(t,o,!!n||e[++s]))}return void 0===t?null:t}function KR(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===X&&(h=d?ge:void 0);let f=d?wy(h,r):l===r?h:void 0;if(c&&!Yh(f)&&(f=wy(u,r)),Yh(f)&&(a=f,o))return a;const p=t[i+1];i=o?Gi(p):Fs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=wy(u,r))}return a}function Yh(t){return void 0!==t}function tt(t,e=""){const n=E(),r=ue(),i=t+ie,s=r.firstCreatePass?da(r,i,1,e,null):r.data[i],o=YR(r,n,s,e,t);n[i]=o,Xd()&&wh(r,n,o,s),Ar(s,!1)}let YR=(t,e,n,r,i)=>(Ui(!0),function mh(t,e){return t.createText(e)}(e[Y],r));function bc(t){return Jh("",t,""),bc}function Jh(t,e,n){const r=E(),i=fa(r,t,e,n);return i!==X&&function ui(t,e,n){const r=Jd(e,t);!function vx(t,e,n){t.setValue(e,n)}(t[Y],r,n)}(r,rn(),i),Jh}const Da="en-US";let _k=Da;function q_(t,e,n,r,i){if(t=q(t),Array.isArray(t))for(let s=0;s<t.length;s++)q_(t[s],e,n,r,i);else{const s=ue(),o=E(),a=Nt();let u=Os(t)?t:q(t.provide);const c=Xx(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Os(t)||!t.multi){const f=new Ju(c,i,D),p=K_(u,e,i?l:l+h,d);-1===p?(yy(rh(a,o),s,u),W_(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=K_(u,e,l+h,d),p=K_(u,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){yy(rh(a,o),s,u);const w=function X7(t,e,n,r,i){const s=new Ju(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,Hk(s,i,r&&!n),s}(i?J7:Y7,n.length,i,r,c);!i&&y&&(n[p].providerFactory=w),W_(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),o.push(w)}else W_(s,t,f>-1?f:p,Hk(n[i?p:f],c,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function W_(t,e,n,r){const i=Os(e),s=function Uq(t){return!!t.useClass}(e);if(i||s){const u=(s?q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Hk(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function K_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Y7(t,e,n,r){return Q_(this.multi,[])}function J7(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ns(n,n[R],this.providerFactory.index,r);s=a.slice(0,o),Q_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Q_(i,s);return s}function Q_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ue(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Q7(t,e,n){const r=ue();if(r.firstCreatePass){const i=lr(t);q_(n,r.data,r.blueprint,i,!0),q_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Vs{}class Gk{}class Y_ extends Vs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ZN(this);const i=kn(e);this._bootstrapComponents=ai(i.bootstrap),this._r3Injector=hN(e,n,[{provide:Vs,useValue:this},{provide:fc,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class J_ extends Gk{constructor(e){super(),this.moduleType=e}create(e){return new Y_(this.moduleType,e,[])}}class zk extends Vs{constructor(e){super(),this.componentFactoryResolver=new ZN(this),this.instance=null;const n=new Mh([...e.providers,{provide:Vs,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],e.parent||Ah(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function X_(t,e,n=null){return new zk({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let tW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Kx(0,n.type),i=r.length>0?X_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(U(Jn))})}return t})();function qk(t){t.getStandaloneInjector=e=>e.get(tW).getOrCreateStandaloneInjector(t)}function Zk(t,e,n){const r=function nn(){const t=z.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=E();return i[r]===X?function kr(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function vc(t,e){return t[e]}(i,r)}function AW(t,e,n,r=!0){const i=e[R];if(function X3(t,e,n,r){const i=Mt+r,s=n.length;r>0&&(n[i-1][cr]=e),r<s-Mt?(e[cr]=n[i],QM(n,Mt+r,e)):(n.push(e),e[cr]=null),e[Be]=n;const o=e[Gu];null!==o&&n!==o&&function Z3(t,e){const n=t[Uo];e[Ze]!==e[Be][Be][Ze]&&(t[QA]=!0),null===n?t[Uo]=[e]:n.push(e)}(o,e);const a=e[br];null!==a&&a.insertView(t),e[ee]|=128}(i,e,t,n),r){const s=Py(n,t),o=e[Y],a=vh(o,t[Tr]);null!==a&&function Q3(t,e,n,r,i,s){r[qe]=i,r[jt]=e,ac(t,r,n,1,i,s)}(i,t[jt],o,e,a,s)}}Symbol;let ci=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=NW}return t})();const MW=ci,xW=class extends MW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function SW(t,e,n,r){const i=e.tView,a=Vh(t,i,n,4096&t[ee]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Gu]=t[e.index];const c=t[br];return null!==c&&(a[br]=c.createEmbeddedView(i)),b_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new yc(i)}};function NW(){return function nf(t,e){return 4&t.type?new xW(e,t,aa(t,e)):null}(Nt(),E())}let Bn=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=LW}return t})();function LW(){return function h1(t,e){let n;const r=e[t.index];return tn(r)?n=r:(n=jN(r,e,null,t),e[t.index]=n,Bh(e,n)),f1(n,e,t,r),new l1(n,t,e)}(Nt(),E())}const VW=Bn,l1=class extends VW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new sn(this._hostTNode,this._hostLView)}get parentInjector(){const e=ih(this._hostTNode,this._hostLView);if(py(e)){const n=Zu(e,this._hostLView),r=Xu(e);return new sn(n[R].data[r+8],n)}return new sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=d1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function tc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new _c(ae(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(Jn,null);y&&(s=y)}ae(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Dz(t){return tn(t[Be])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Be],l=new l1(c,c[jt],c[Be]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return AW(a,i,o,!r),e.attachToViewContainerRef(),QM(tv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=d1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=_h(this._lContainer,n);r&&(ah(tv(this._lContainer),n),Ny(r[R],r))}detach(e){const n=this._adjustIndex(e,-1),r=_h(this._lContainer,n);return r&&null!=ah(tv(this._lContainer),n)?new yc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function d1(t){return t[8]}function tv(t){return t[8]||(t[8]=[])}let f1=function p1(t,e,n,r){if(t[Tr])return;let i;i=8&n.type?Ne(r):function BW(t,e){const n=t[Y],r=n.createComment(""),i=vn(e,t);return Rs(n,vh(n,i),r,function rq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Tr]=i};const hv=new P("Application Initializer");let fv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(hv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Dc(s))n.push(s);else if(CR(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),B1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const li=new P("LocaleId",{providedIn:"root",factory:()=>O(li,re.Optional|re.SkipSelf)||function m8(){return typeof $localize<"u"&&$localize.locale||Da}()});let U1=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class v8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let j1=(()=>{class t{compileModuleSync(n){return new J_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ai(kn(n).declarations).reduce((o,a)=>{const u=ae(a);return u&&o.push(new _c(u)),o},[]);return new v8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const z1=new P(""),uf=new P("");let _v,mv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_v||(function B8(t){_v=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(U(we),U(yv),U(uf))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),yv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return _v?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),zi=null;const q1=new P("AllowMultipleToken"),vv=new P("PlatformDestroyListeners"),wv=new P("appBootstrapListener");class K1{constructor(e,n){this.name=e,this.token=n}}function Y1(t,e,n=[]){const r=`Platform: ${e}`,i=new P(r);return(s=[])=>{let o=Iv();if(!o||o.injector.get(q1,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function $8(t){if(zi&&!zi.get(q1,!1))throw new b(400,!1);(function W1(){!function uz(t){aM=t}(()=>{throw new b(600,!1)})})(),zi=t;const e=t.get(X1);(function Q1(t){t.get(Zx,null)?.forEach(n=>n())})(t)}(function J1(t=[],e){return Ht.create({name:e,providers:[{provide:Wy,useValue:"platform"},{provide:vv,useValue:new Set([()=>zi=null])},...t]})}(a,r))}return function G8(t){const e=Iv();if(!e)throw new b(401,!1);return e}()}}function Iv(){return zi?.get(X1)??null}let X1=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function z8(t="zone.js",e){return"noop"===t?new I5:"zone.js"===t?new we(e):t}(r?.ngZone,function Z1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function eW(t,e,n){return new Y_(t,e,n)}(n.moduleType,this.injector,function iO(t){return[{provide:we,useFactory:t},{provide:lc,multi:!0,useFactory:()=>{const e=O(W8,{optional:!0});return()=>e.initialize()}},{provide:rO,useFactory:q8},{provide:yN,useFactory:_N}]}(()=>i)),o=s.injector.get(oi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{cf(this._modules,s),a.unsubscribe()})}),function eO(t,e,n){try{const r=n();return Dc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(fv);return a.runInitializers(),a.donePromise.then(()=>(function vk(t){Wn(t,"Expected localeId to be defined"),"string"==typeof t&&(_k=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(li,Da)||Da),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=tO({},r);return function U8(t,e,n){const r=new J_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ta);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(vv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(U(Ht))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function tO(t,e){return Array.isArray(e)?e.reduce(tO,t):{...t,...e}}let Ta=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(rO),this.zoneIsStable=O(yN),this.componentTypes=[],this.components=[],this.isStable=O(U1).hasPendingTasks.pipe(Dr(n=>n?W(!1):this.zoneIsStable),function v4(t,e=ki){return t=t??w4,ht((n,r)=>{let i,s=!0;n.subscribe(at(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),bA()),this._injector=O(Jn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof iN;if(!this._injector.get(fv).done)throw!i&&function Po(t){const e=ae(t)||At(t)||en(t);return null!==e&&e.standalone}(n),new b(405,!1);let o;o=i?n:this._injector.get(fc).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function j8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Vs),c=o.create(Ht.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(z1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),cf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;cf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(wv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>cf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const rO=new P("",{providedIn:"root",factory:()=>O(oi).handleError.bind(void 0)});function q8(){const t=O(we),e=O(oi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let W8=(()=>{class t{constructor(){this.zone=O(we),this.applicationRef=O(Ta)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let lf=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Q8}return t})();function Q8(t){return function Y8(t,e,n){if(As(t)&&!n){const r=Pn(t.index,e);return new yc(r,r)}return 47&t.type?new yc(e[Ze],e):null}(Nt(),E(),16==(16&t))}class uO{constructor(){}supports(e){return Hh(e)}create(e){return new nK(e)}}const tK=(t,e)=>e;class nK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tK}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<lO(r,i,s)?n:r,a=lO(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Hh(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function N6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new rK(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new cO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class rK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class cO{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new iK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lO(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function hO(){return new ff([new uO])}let ff=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:hO});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||hO()),deps:[[t,new ch,new wn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new b(901,!1)}}return t})();const cK=Y1(null,"core",[]);let lK=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(U(Ta))};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=Zt({})}return t})();let Sv=null;function qi(){return Sv}class CK{}const bn=new P("DocumentToken");let Av=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return O(TK)},providedIn:"platform"})}return t})();const bK=new P("Location Initialized");let TK=(()=>{class t extends Av{constructor(){super(),this._doc=O(bn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qi().getBaseHref(this._doc)}onPopState(n){const r=qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Mv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function EO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function di(t){return t&&"?"!==t[0]?"?"+t:t}let Us=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return O(CO)},providedIn:"root"})}return t})();const DO=new P("appBaseHref");let CO=(()=>{class t extends Us{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(bn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Mv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Av),U(DO,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SK=(()=>{class t extends Us{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Mv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Av),U(DO,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),xv=(()=>{class t{constructor(n){this._subject=new ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function xK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(EO(bO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+di(r))}normalize(n){return t.stripTrailingSlash(function MK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,bO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=di;static#t=this.joinWithSlash=Mv;static#n=this.stripTrailingSlash=EO;static#r=this.\u0275fac=function(r){return new(r||t)(U(Us))};static#i=this.\u0275prov=j({token:t,factory:function(){return function AK(){return new xv(U(Us))}()},providedIn:"root"})}return t})();function bO(t){return t.replace(/\/index.html$/,"")}class yQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let FO=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new yQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),LO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{LO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(D(Bn),D(ci),D(ff))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function LO(t,e){t.context.$implicit=e.item}let zv=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=Zt({})}return t})();function $O(t){return"server"===t}let WQ=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new KQ(U(bn),window)})}return t})();class KQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function QQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class vY extends CK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Kv extends vY{static makeCurrent(){!function DK(t){Sv||(Sv=t)}(new Kv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function wY(){return Bc=Bc||document.querySelector("base"),Bc?Bc.getAttribute("href"):null}();return null==n?null:function IY(t){Sf=Sf||document.createElement("a"),Sf.setAttribute("href",t);const e=Sf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function pQ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Sf,Bc=null,DY=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const Qv=new P("EventManagerPlugins");let WO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(U(Qv),U(we))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class KO{constructor(e){this._doc=e}}const Yv="ng-app-id";let QO=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$O(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Yv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Yv),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Yv,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(U(bn),U(xh),U(eN,8),U($i))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const Jv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xv=/%COMP%/g,SY=new P("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function JO(t,e){return e.map(n=>n.replace(Xv,t))}let XO=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=$O(a),this.defaultRenderer=new Zv(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ar.ShadowDom&&(r={...r,encapsulation:ar.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof eP?i.applyToHost(n):i instanceof ew&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ar.Emulated:s=new eP(u,c,r,this.appId,l,o,a,d);break;case ar.ShadowDom:return new NY(u,c,n,r,o,a,this.nonce,d);default:s=new ew(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(U(WO),U(QO),U(xh),U(SY),U(bn),U($i),U(we),U(eN))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class Zv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Jv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ZO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ZO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Jv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Jv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ji.DashCase|ji.Important)?e.style.setProperty(n,r,i&ji.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ji.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=qi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function ZO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class NY extends Zv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=JO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ew extends Zv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?JO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class eP extends ew{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function AY(t){return"_ngcontent-%COMP%".replace(Xv,t)}(c),this.hostAttr=function MY(t){return"_nghost-%COMP%".replace(Xv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let RY=(()=>{class t extends KO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(U(bn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const tP=["alt","control","meta","shift"],kY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let PY=(()=>{class t extends KO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),tP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=kY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),tP.forEach(o=>{o!==i&&(0,OY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(U(bn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const rP=[{provide:$i,useValue:"browser"},{provide:Zx,useValue:function FY(){Kv.makeCurrent()},multi:!0},{provide:bn,useFactory:function VY(){return function dq(t){Vy=t}(document),document},deps:[]}],BY=Y1(cK,"browser",rP),UY=new P(""),iP=[{provide:uf,useClass:class EY{addToWindow(e){xe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new b(5103,!1);return s},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const i=xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?qi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:z1,useClass:mv,deps:[we,yv,uf]},{provide:mv,useClass:mv,deps:[we,yv,uf]}],sP=[{provide:Wy,useValue:"root"},{provide:oi,useFactory:function LY(){return new oi},deps:[]},{provide:Qv,useClass:RY,multi:!0,deps:[bn,we,$i]},{provide:Qv,useClass:PY,multi:!0,deps:[bn]},XO,QO,WO,{provide:oN,useExisting:XO},{provide:class YQ{},useClass:DY,deps:[]},[]];let jY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:xh,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(UY,12))};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=Zt({providers:[...sP,...iP],imports:[zv,lK]})}return t})(),oP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(U(bn))};static#t=this.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function HY(){return new oP(U(bn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let cP=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new(r||t):U(lP),i},providedIn:"root"})}return t})(),lP=(()=>{class t extends cP{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Yn.NONE:return r;case Yn.HTML:return xr(r,"HTML")?Ln(r):$x(this._doc,String(r)).toString();case Yn.STYLE:return xr(r,"Style")?Ln(r):r;case Yn.SCRIPT:if(xr(r,"Script"))return Ln(r);throw new b(5200,!1);case Yn.URL:return xr(r,"URL")?Ln(r):Ch(String(r));case Yn.RESOURCE_URL:if(xr(r,"ResourceURL"))return Ln(r);throw new b(5201,!1);default:throw new b(5202,!1)}}bypassSecurityTrustHtml(n){return function _q(t){return new hq(t)}(n)}bypassSecurityTrustStyle(n){return function vq(t){return new fq(t)}(n)}bypassSecurityTrustScript(n){return function wq(t){return new pq(t)}(n)}bypassSecurityTrustUrl(n){return function Iq(t){return new gq(t)}(n)}bypassSecurityTrustResourceUrl(n){return function Eq(t){return new mq(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(bn))};static#t=this.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function WY(t){return new lP(t.get(bn))}(U(Ht)),i},providedIn:"root"})}return t})();const{isArray:KY}=Array,{getPrototypeOf:QY,prototype:YY,keys:JY}=Object;function hP(t){if(1===t.length){const e=t[0];if(KY(e))return{args:e,keys:null};if(function XY(t){return t&&"object"==typeof t&&QY(t)===YY}(e)){const n=JY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:ZY}=Array;function fP(t){return Te(e=>function eJ(t,e){return ZY(e)?t(...e):t(e)}(t,e))}function pP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let gP=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(Nr),D(En))};static#t=this.\u0275dir=H({type:t})}return t})(),js=(()=>{class t extends gP{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Rt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,features:[Ie]})}return t})();const Lr=new P("NgValueAccessor"),rJ={provide:Lr,useExisting:Me(()=>Af),multi:!0},sJ=new P("CompositionEventMode");let Af=(()=>{class t extends gP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iJ(){const t=qi()?qi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(Nr),D(En),D(sJ,8))};static#t=this.\u0275dir=H({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&et("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ue([rJ]),Ie]})}return t})();const qt=new P("NgValidators"),Qi=new P("NgAsyncValidators");function TP(t){return null!=t}function SP(t){return Dc(t)?vt(t):t}function AP(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function MP(t,e){return e.map(n=>n(t))}function xP(t){return t.map(e=>function aJ(t){return!t.validate}(e)?e:n=>e.validate(n))}function nw(t){return null!=t?function NP(t){if(!t)return null;const e=t.filter(TP);return 0==e.length?null:function(n){return AP(MP(n,e))}}(xP(t)):null}function rw(t){return null!=t?function RP(t){if(!t)return null;const e=t.filter(TP);return 0==e.length?null:function(n){return function tJ(...t){const e=DA(t),{args:n,keys:r}=hP(t),i=new ze(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Nn(n[l]).subscribe(at(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?pP(r,a):a),s.complete())}))}});return e?i.pipe(fP(e)):i}(MP(n,e).map(SP)).pipe(Te(AP))}}(xP(t)):null}function kP(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iw(t){return t?Array.isArray(t)?t:[t]:[]}function xf(t,e){return Array.isArray(t)?t.includes(e):t===e}function FP(t,e){const n=iw(e);return iw(t).forEach(i=>{xf(n,i)||n.push(i)}),n}function LP(t,e){return iw(e).filter(n=>!xf(t,n))}class VP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class cn extends VP{get formDirective(){return null}get path(){return null}}class Yi extends VP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class BP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let UP=(()=>{class t extends BP{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(Yi,2))};static#t=this.\u0275dir=H({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Qh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ie]})}return t})(),jP=(()=>{class t extends BP{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(cn,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Qh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ie]})}return t})();const Uc="VALID",Rf="INVALID",Ma="PENDING",jc="DISABLED";function aw(t){return(kf(t)?t.validators:t)||null}function uw(t,e){return(kf(e)?e.asyncValidators:t)||null}function kf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class zP{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Uc}get invalid(){return this.status===Rf}get pending(){return this.status==Ma}get disabled(){return this.status===jc}get enabled(){return this.status!==jc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(FP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(FP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(LP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(LP(e,this._rawAsyncValidators))}hasValidator(e){return xf(this._rawValidators,e)}hasAsyncValidator(e){return xf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ma,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=jc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uc||this.status===Ma)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jc:Uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ma,this._hasOwnPendingAsyncValidator=!0;const n=SP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?jc:this.errors?Rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ma)?Ma:this._anyControlsHaveStatus(Rf)?Rf:Uc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function dJ(t){return Array.isArray(t)?nw(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function hJ(t){return Array.isArray(t)?rw(t):t||null}(this._rawAsyncValidators)}}class cw extends zP{constructor(e,n,r){super(aw(n),uw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function GP(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new b(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function HP(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const xa=new P("CallSetDisabledState",{providedIn:"root",factory:()=>Of}),Of="always";function $c(t,e,n=Of){lw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function gJ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&qP(t,e)})}(t,e),function yJ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function mJ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&qP(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function pJ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Lf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function lw(t,e){const n=function OP(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(kP(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function PP(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(kP(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Lf(e._rawValidators,i),Lf(e._rawAsyncValidators,i)}function qP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const EJ={provide:cn,useExisting:Me(()=>Bf)},Hc=(()=>Promise.resolve())();let Bf=(()=>{class t extends cn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ce,this.form=new cw({},nw(n),rw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Hc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),$c(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Hc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Hc.then(()=>{const r=this._findContainer(n.path),i=new cw({});(function WP(t,e){lw(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Hc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Hc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function KP(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(D(qt,10),D(Qi,10),D(xa,8))};static#t=this.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&et("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([EJ]),Ie]})}return t})();function QP(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function YP(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const JP=class extends zP{constructor(e=null,n,r){super(aw(n),uw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=YP(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){YP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},bJ={provide:Yi,useExisting:Me(()=>pw)},eF=(()=>Promise.resolve())();let pw=(()=>{class t extends Yi{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new JP,this._registered=!1,this.name="",this.update=new ce,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Af?n=s:function wJ(t){return Object.getPrototypeOf(t.constructor)===js}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function hw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$c(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){eF.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Sa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);eF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Pf(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(D(cn,9),D(qt,10),D(Qi,10),D(Lr,10),D(lf,8),D(xa,8))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([bJ]),Ie,On]})}return t})(),tF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),rF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=Zt({})}return t})(),QJ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=Zt({imports:[rF]})}return t})(),JJ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xa,useValue:n.callSetDisabledState??Of}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=Zt({imports:[QJ]})}return t})();function IF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){IF(s,r,i,o,a,"next",u)}function a(u){IF(s,r,i,o,a,"throw",u)}o(void 0)})}}const EF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ew={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new tX;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Na=function(t){return function(t){const e=EF(t);return Ew.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Uf=function(t){try{return Ew.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},jf=()=>{try{return function iX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},CF=()=>{var t;return null===(t=jf())||void 0===t?void 0:t.config};class $f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function jn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ji(){try{return"object"==typeof indexedDB}catch{return!1}}function Ra(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Cw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $n extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mr.prototype.create)}}class mr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function mX(t,e){return t.replace(yX,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new $n(i,`${this.serviceName}: ${o} (${i}).`,r)}}const yX=/\{\$([^}]+)}/g;function bw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(TF(s)&&TF(o)){if(!bw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TF(t){return null!==t&&"object"==typeof t}function SF(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class vX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function wX(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Tw),void 0===i.error&&(i.error=Tw),void 0===i.complete&&(i.complete=Tw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tw(){}const IX=1e3,EX=2,DX=144e5,CX=.5;function Aw(t,e=IX,n=EX){const r=e*Math.pow(n,t),i=Math.round(CX*r*(Math.random()-.5)*2);return Math.min(DX,r+i)}function Tn(t){return t&&t._delegate?t._delegate:t}class mt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hs="[DEFAULT]";class TX{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $f;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function AX(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Hs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class MX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Mw=[];var pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{});const AF={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},xX=pe.INFO,NX={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},RX=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=NX[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Gs{constructor(e){this.name=e,this._logLevel=xX,this._logHandler=RX,this._userLogHandler=null,Mw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?AF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const kX=(t,e)=>e.some(n=>t instanceof n);let MF,xF;const NF=new WeakMap,xw=new WeakMap,RF=new WeakMap,Nw=new WeakMap,Rw=new WeakMap;let kw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return xw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||RF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function UX(t){return"function"==typeof t?function BX(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function PX(){return xF||(xF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ow(this),e),Xi(NF.get(this))}:function(...e){return Xi(t.apply(Ow(this),e))}:function(e,...n){const r=t.call(Ow(this),e,...n);return RF.set(r,e.sort?e.sort():[e]),Xi(r)}}(t):(t instanceof IDBTransaction&&function LX(t){if(xw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xw.set(t,e)}(t),kX(t,function OX(){return MF||(MF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,kw):t)}function Xi(t){if(t instanceof IDBRequest)return function FX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NF.set(n,t)}).catch(()=>{}),Rw.set(e,t),e}(t);if(Nw.has(t))return Nw.get(t);const e=UX(t);return e!==t&&(Nw.set(t,e),Rw.set(e,t)),e}const Ow=t=>Rw.get(t);function kF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Xi(o.result),u.oldVersion,u.newVersion,Xi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jX=["get","getKey","getAll","getAllKeys","count"],$X=["put","add","delete","clear"],Pw=new Map;function OF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Pw.get(e))return Pw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$X.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!jX.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Pw.set(e,s),s}!function VX(t){kw=t(kw)}(t=>({...t,get:(e,n,r)=>OF(e,n)||t.get(e,n,r),has:(e,n)=>!!OF(e,n)||t.has(e,n)}));class HX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function GX(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Fw="@firebase/app",zs=new Gs("@firebase/app"),Gf="[DEFAULT]",mZ={[Fw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qs=new Map,zf=new Map;function yZ(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ka(t){const e=t.name;if(zf.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,t);for(const n of qs.values())yZ(n,t);return!0}const pi=new mr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const qf="9.23.0";function LF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Gf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=CF()),!n)throw pi.create("no-options");const s=qs.get(i);if(s){if(bw(n,s.options)&&bw(r,s.config))return s;throw pi.create("duplicate-app",{appName:i})}const o=new MX(i);for(const u of zf.values())o.addComponent(u);const a=new vZ(n,r,o);return qs.set(i,a),a}function VF(t=Gf){const e=qs.get(t);if(!e&&t===Gf&&CF())return LF();if(!e)throw pi.create("no-app",{appName:t});return e}function BF(){return Array.from(qs.values())}function tr(t,e,n){var r;let i=null!==(r=mZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void zs.warn(a.join(" "))}ka(new mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const wZ="firebase-heartbeat-database",IZ=1,Gc="firebase-heartbeat-store";let Vw=null;function UF(){return Vw||(Vw=kF(wZ,IZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Gc)}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Vw}function Bw(){return(Bw=m(function*(t){try{return yield(yield UF()).transaction(Gc).objectStore(Gc).get($F(t))}catch(e){if(e instanceof $n)zs.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}})).apply(this,arguments)}function jF(t,e){return Uw.apply(this,arguments)}function Uw(){return(Uw=m(function*(t,e){try{const r=(yield UF()).transaction(Gc,"readwrite");yield r.objectStore(Gc).put(e,$F(t)),yield r.done}catch(n){if(n instanceof $n)zs.warn(n.message);else{const r=pi.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}})).apply(this,arguments)}function $F(t){return`${t.name}!${t.options.appId}`}class bZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=HF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=HF(),{heartbeatsToSend:r,unsentEntries:i}=function TZ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),GF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Na(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function HF(){return(new Date).toISOString().substring(0,10)}class SZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Ji()&&Ra().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function EZ(t){return Bw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return jF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return jF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function GF(t){return Na(JSON.stringify({version:2,heartbeats:t})).length}!function AZ(t){ka(new mt("platform-logger",e=>new HX(e),"PRIVATE")),ka(new mt("heartbeat",e=>new bZ(e),"PRIVATE")),tr(Fw,"0.9.13",t),tr(Fw,"0.9.13","esm2017"),tr("fire-js","")}(""),tr("firebase","9.23.0","app");class NZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function RZ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const jw="@firebase/app",Ws=new Gs("@firebase/app"),iee={[jw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ks=new Map,Kf=new Map;function see(t,e){try{t.container.addComponent(e)}catch(n){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nr(t){const e=t.name;if(Kf.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,t);for(const n of Ks.values())see(n,t);return!0}function $w(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const gi=new mr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});function rr(t,e,n){var r;let i=null!==(r=iee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ws.warn(a.join(" "))}nr(new mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const lee="firebase-heartbeat-database",dee=1,zc="firebase-heartbeat-store";let Gw=null;function qF(){return Gw||(Gw=kF(lee,dee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(zc)}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),Gw}function zw(){return(zw=m(function*(t){try{return yield(yield qF()).transaction(zc).objectStore(zc).get(KF(t))}catch(e){if(e instanceof $n)Ws.warn(e.message);else{const n=gi.create("idb-get",{originalErrorMessage:e?.message});Ws.warn(n.message)}}})).apply(this,arguments)}function WF(t,e){return qw.apply(this,arguments)}function qw(){return(qw=m(function*(t,e){try{const r=(yield qF()).transaction(zc,"readwrite");yield r.objectStore(zc).put(e,KF(t)),yield r.done}catch(n){if(n instanceof $n)Ws.warn(n.message);else{const r=gi.create("idb-set",{originalErrorMessage:n?.message});Ws.warn(r.message)}}})).apply(this,arguments)}function KF(t){return`${t.name}!${t.options.appId}`}class gee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=QF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=QF(),{heartbeatsToSend:r,unsentEntries:i}=function mee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Na(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function QF(){return(new Date).toISOString().substring(0,10)}class yee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Ji()&&Ra().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function hee(t){return zw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return WF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return WF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function YF(t){return Na(JSON.stringify({version:2,heartbeats:t})).length}!function _ee(t){nr(new mt("platform-logger",e=>new NZ(e),"PRIVATE")),nr(new mt("heartbeat",e=>new gee(e),"PRIVATE")),rr(jw,"0.9.19",t),rr(jw,"0.9.19","esm2017"),rr("fire-js","")}("");const vee=(t,e)=>e.some(n=>t instanceof n);let JF,XF;const ZF=new WeakMap,Ww=new WeakMap,eL=new WeakMap,Kw=new WeakMap,Qw=new WeakMap;let Yw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ww.get(t);if("objectStoreNames"===e)return t.objectStoreNames||eL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Tee(t){return"function"==typeof t?function bee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Iee(){return XF||(XF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Jw(this),e),Zi(ZF.get(this))}:function(...e){return Zi(t.apply(Jw(this),e))}:function(e,...n){const r=t.call(Jw(this),e,...n);return eL.set(r,e.sort?e.sort():[e]),Zi(r)}}(t):(t instanceof IDBTransaction&&function Dee(t){if(Ww.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ww.set(t,e)}(t),vee(t,function wee(){return JF||(JF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Yw):t)}function Zi(t){if(t instanceof IDBRequest)return function Eee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZF.set(n,t)}).catch(()=>{}),Qw.set(e,t),e}(t);if(Kw.has(t))return Kw.get(t);const e=Tee(t);return e!==t&&(Kw.set(t,e),Qw.set(e,t)),e}const Jw=t=>Qw.get(t),Aee=["get","getKey","getAll","getAllKeys","count"],Mee=["put","add","delete","clear"],Xw=new Map;function tL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Xw.get(e))return Xw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Mee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Aee.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Xw.set(e,s),s}!function Cee(t){Yw=t(Yw)}(t=>({...t,get:(e,n,r)=>tL(e,n)||t.get(e,n,r),has:(e,n)=>!!tL(e,n)||t.has(e,n)}));const nL="@firebase/installations",Zw="0.6.4",rL=1e4,iL=`w:${Zw}`,sL="FIS_v2",xee="https://firebaseinstallations.googleapis.com/v1",Nee=36e5,mi=new mr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oL(t){return t instanceof $n&&t.code.includes("request-failed")}function eI({projectId:t}){return`${xee}/projects/${t}/installations`}function aL(t){return{token:t.token,requestStatus:2,expiresIn:Pee(t.expiresIn),creationTime:Date.now()}}function tI(t,e){return nI.apply(this,arguments)}function nI(){return(nI=m(function*(t,e){const r=(yield e.json()).error;return mi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function uL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function rI(t){return iI.apply(this,arguments)}function iI(){return(iI=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Pee(t){return Number(t.replace("s","000"))}function sI(){return(sI=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=eI(t),i=uL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:sL,appId:t.appId,sdkVersion:iL})},u=yield rI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:aL(c.authToken)}}throw yield tI("Create Installation",u)})).apply(this,arguments)}function lL(t){return new Promise(e=>{setTimeout(e,t)})}const Bee=/^[cdef][\w-]{21}$/,oI="";function Uee(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function jee(t){return function Vee(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Bee.test(n)?n:oI}catch{return oI}}function Oa(t){return`${t.appName}!${t.appId}`}const Pa=new Map;function dL(t,e){const n=Oa(t);hL(n,e),function Gee(t,e){const n=function fL(){return!Qs&&"BroadcastChannel"in self&&(Qs=new BroadcastChannel("[Firebase] FID Change"),Qs.onmessage=t=>{hL(t.data.key,t.data.fid)}),Qs}();n&&n.postMessage({key:t,fid:e}),function pL(){0===Pa.size&&Qs&&(Qs.close(),Qs=null)}()}(n,e)}function hL(t,e){const n=Pa.get(t);if(n)for(const r of n)r(e)}let Qs=null;const zee="firebase-installations-database",qee=1,Ys="firebase-installations-store";let aI=null;function uI(){return aI||(aI=function See(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Zi(o.result),u.oldVersion,u.newVersion,Zi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(zee,qee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ys)}})),aI}function Qf(t,e){return cI.apply(this,arguments)}function cI(){return(cI=m(function*(t,e){const n=Oa(t),i=(yield uI()).transaction(Ys,"readwrite"),s=i.objectStore(Ys),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&dL(t,e.fid),e})).apply(this,arguments)}function lI(t){return dI.apply(this,arguments)}function dI(){return(dI=m(function*(t){const e=Oa(t),r=(yield uI()).transaction(Ys,"readwrite");yield r.objectStore(Ys).delete(e),yield r.done})).apply(this,arguments)}function qc(t,e){return hI.apply(this,arguments)}function hI(){return(hI=m(function*(t,e){const n=Oa(t),i=(yield uI()).transaction(Ys,"readwrite"),s=i.objectStore(Ys),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&dL(t,a.fid),a})).apply(this,arguments)}function fI(t){return pI.apply(this,arguments)}function pI(){return pI=m(function*(t){let e;const n=yield qc(t.appConfig,r=>{const i=function Wee(t){return mL(t||{fid:Uee(),registrationStatus:0})}(r),s=function Kee(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(mi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Qee(t,e){return gI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Yee(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===oI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),pI.apply(this,arguments)}function gI(){return gI=m(function*(t,e){try{const n=yield function Lee(t,e){return sI.apply(this,arguments)}(t,e);return Qf(t.appConfig,n)}catch(n){throw oL(n)&&409===n.customData.serverCode?yield lI(t.appConfig):yield Qf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),gI.apply(this,arguments)}function Yee(t){return mI.apply(this,arguments)}function mI(){return(mI=m(function*(t){let e=yield gL(t.appConfig);for(;1===e.registrationStatus;)yield lL(100),e=yield gL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield fI(t);return r||n}return e})).apply(this,arguments)}function gL(t){return qc(t,e=>{if(!e)throw mi.create("installation-not-found");return mL(e)})}function mL(t){return function Jee(t){return 1===t.registrationStatus&&t.registrationTime+rL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function yI(){return(yI=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Zee(t,{fid:e}){return`${eI(t)}/${e}/authTokens:generate`}(t,n),i=function cL(t,{refreshToken:e}){const n=uL(t);return n.append("Authorization",function Fee(t){return`${sL} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:iL,appId:t.appId}})},u=yield rI(()=>fetch(r,a));if(u.ok)return aL(yield u.json());throw yield tI("Generate Auth Token",u)})).apply(this,arguments)}function _I(t){return vI.apply(this,arguments)}function vI(){return vI=m(function*(t,e=!1){let n;const r=yield qc(t.appConfig,s=>{if(!_L(s))throw mi.create("not-registered");const o=s.authToken;if(!e&&function nte(t){return 2===t.requestStatus&&!function rte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Nee}(t)}(o))return s;if(1===o.requestStatus)return n=function ete(t,e){return wI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw mi.create("app-offline");const a=function ite(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function tte(t,e){return II.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),vI.apply(this,arguments)}function wI(){return(wI=m(function*(t,e){let n=yield yL(t.appConfig);for(;1===n.authToken.requestStatus;)yield lL(100),n=yield yL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?_I(t,e):r})).apply(this,arguments)}function yL(t){return qc(t,e=>{if(!_L(e))throw mi.create("not-registered");return function ste(t){return 1===t.requestStatus&&t.requestTime+rL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function II(){return II=m(function*(t,e){try{const n=yield function Xee(t,e){return yI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Qf(t.appConfig,r),n}catch(n){if(!oL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Qf(t.appConfig,r)}else yield lI(t.appConfig);throw n}}),II.apply(this,arguments)}function _L(t){return void 0!==t&&2===t.registrationStatus}function EI(){return(EI=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield fI(e);return r?r.catch(console.error):_I(e).catch(console.error),n.fid})).apply(this,arguments)}function DI(){return DI=m(function*(t,e=!1){const n=t;return yield function ute(t){return CI.apply(this,arguments)}(n),(yield _I(n,e)).token}),DI.apply(this,arguments)}function CI(){return(CI=m(function*(t){const{registrationPromise:e}=yield fI(t);e&&(yield e)})).apply(this,arguments)}function SI(t){return mi.create("missing-app-config-values",{valueName:t})}const vL="installations",fte=t=>{const e=t.getProvider("app").getImmediate(),n=function dte(t){if(!t||!t.options)throw SI("App Configuration");if(!t.name)throw SI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw SI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:$w(e,"heartbeat"),_delete:()=>Promise.resolve()}},pte=t=>{const n=$w(t.getProvider("app").getImmediate(),vL).getImmediate();return{getId:()=>function ote(t){return EI.apply(this,arguments)}(n),getToken:i=>function ate(t){return DI.apply(this,arguments)}(n,i)}};(function gte(){nr(new mt(vL,fte,"PUBLIC")),nr(new mt("installations-internal",pte,"PRIVATE"))})(),rr(nL,Zw),rr(nL,Zw,"esm2017");const AI="@firebase/remote-config",Sn=new mr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Ste(t=navigator){return t.languages&&t.languages[0]||t.language}class Ate{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Ste()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",_(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),Sn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw Sn.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw Sn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Nte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function Mte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function xte(t){if(!(t instanceof $n&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Aw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Ote{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jf(t,e){const n=t.target.error||void 0;return Sn.create(e,{originalErrorMessage:n&&n?.message})}const Js="app_namespace_store";class Vte{constructor(e,n,r,i=function Lte(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Jf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Js,{keyPath:"compositeKey"})}}catch(n){e(Sn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Js],"readonly").objectStore(Js),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Jf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Sn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Js],"readwrite").objectStore(Js),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Jf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Sn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Js],"readwrite").objectStore(Js),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Jf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Sn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Bte{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function jte(){return kI.apply(this,arguments)}function kI(){return(kI=m(function*(){if(!Ji())return!1;try{return yield Ra()}catch{return!1}})).apply(this,arguments)}!function Ute(){nr(new mt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sn.create("registration-window");if(!Ji())throw Sn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Sn.create("registration-project-id");if(!o)throw Sn.create("registration-api-key");if(!a)throw Sn.create("registration-app-id");const u=new Vte(a,r.name,n=n||"firebase"),c=new Bte(u),l=new Gs(AI);l.logLevel=pe.ERROR;const d=new Ate(i,"10.4.0",n,s,o,a),h=new Nte(d,u),f=new Tte(h,u,c,l),p=new Ote(r,f,c,u,l);return function Dte(t){const e=Tn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),rr(AI,"0.4.4"),rr(AI,"0.4.4","esm2017")}();const $te=(t,e)=>e.some(n=>t instanceof n);let DL,CL;const bL=new WeakMap,OI=new WeakMap,TL=new WeakMap,PI=new WeakMap,FI=new WeakMap;let LI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return OI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||TL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qte(t){return"function"==typeof t?function Kte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gte(){return CL||(CL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(VI(this),e),yi(bL.get(this))}:function(...e){return yi(t.apply(VI(this),e))}:function(e,...n){const r=t.call(VI(this),e,...n);return TL.set(r,e.sort?e.sort():[e]),yi(r)}}(t):(t instanceof IDBTransaction&&function qte(t){if(OI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});OI.set(t,e)}(t),$te(t,function Hte(){return DL||(DL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,LI):t)}function yi(t){if(t instanceof IDBRequest)return function zte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bL.set(n,t)}).catch(()=>{}),FI.set(e,t),e}(t);if(PI.has(t))return PI.get(t);const e=Qte(t);return e!==t&&(PI.set(t,e),FI.set(e,t)),e}const VI=t=>FI.get(t);function SL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=yi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(yi(o.result),u.oldVersion,u.newVersion,yi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function BI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),yi(n).then(()=>{})}const Yte=["get","getKey","getAll","getAllKeys","count"],Jte=["put","add","delete","clear"],UI=new Map;function AL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(UI.get(e))return UI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yte.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return UI.set(e,s),s}!function Wte(t){LI=t(LI)}(t=>({...t,get:(e,n,r)=>AL(e,n)||t.get(e,n,r),has:(e,n)=>!!AL(e,n)||t.has(e,n)}));const Xte="/firebase-messaging-sw.js",Zte="/firebase-cloud-messaging-push-scope",ML="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ene="https://fcmregistrations.googleapis.com/v1",xL="google.c.a.c_id",tne="google.c.a.c_l",nne="google.c.a.ts";var Xf=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Xf||{});function _i(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const jI="fcm_token_details_db",one=5,NL="fcm_token_object_Store";function $I(){return $I=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(jI))return null;let e=null;return(yield SL(jI,one,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(NL))return;const c=a.objectStore(NL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:_i(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:_i(d.auth),p256dh:_i(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:_i(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:_i(d.auth),p256dh:_i(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:_i(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield BI(jI),yield BI("fcm_vapid_details_db"),yield BI("undefined"),function une(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),$I.apply(this,arguments)}const cne="firebase-messaging-database",lne=1,Xs="firebase-messaging-store";let HI=null;function GI(){return HI||(HI=SL(cne,lne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xs)}})),HI}function RL(t){return zI.apply(this,arguments)}function zI(){return zI=m(function*(t){const e=QI(t),r=yield(yield GI()).transaction(Xs).objectStore(Xs).get(e);if(r)return r;{const i=yield function ane(t){return $I.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield qI(t,i),i}}),zI.apply(this,arguments)}function qI(t,e){return WI.apply(this,arguments)}function WI(){return(WI=m(function*(t,e){const n=QI(t),i=(yield GI()).transaction(Xs,"readwrite");return yield i.objectStore(Xs).put(e,n),yield i.done,e})).apply(this,arguments)}function KI(){return(KI=m(function*(t){const e=QI(t),r=(yield GI()).transaction(Xs,"readwrite");yield r.objectStore(Xs).delete(e),yield r.done})).apply(this,arguments)}function QI({appConfig:t}){return t.appId}const kt=new mr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fne(t,e){return YI.apply(this,arguments)}function YI(){return(YI=m(function*(t,e){const n=yield eE(t),r=OL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(ZI(t.appConfig),i)).json()}catch(o){throw kt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw kt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw kt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function JI(){return(JI=m(function*(t,e){const n=yield eE(t),r=OL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${ZI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw kt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw kt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw kt.create("token-update-no-token");return s.token})).apply(this,arguments)}function kL(t,e){return XI.apply(this,arguments)}function XI(){return(XI=m(function*(t,e){const r={method:"DELETE",headers:yield eE(t)};try{const s=yield(yield fetch(`${ZI(t.appConfig)}/${e}`,r)).json();if(s.error)throw kt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw kt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function ZI({projectId:t}){return`${ene}/projects/${t}/registrations`}function eE(t){return tE.apply(this,arguments)}function tE(){return(tE=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function OL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==ML&&(i.web.applicationPubKey=r),i}const gne=6048e5;function nE(){return nE=m(function*(t){const e=yield function _ne(t,e){return oE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:_i(e.getKey("auth")),p256dh:_i(e.getKey("p256dh"))},r=yield RL(t.firebaseDependencies);if(r){if(function vne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+gne?function yne(t,e){return iE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield kL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return FL(t.firebaseDependencies,n)}return FL(t.firebaseDependencies,n)}),nE.apply(this,arguments)}function rE(){return rE=m(function*(t){const e=yield RL(t.firebaseDependencies);e&&(yield kL(t.firebaseDependencies,e.token),yield function dne(t){return KI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),rE.apply(this,arguments)}function iE(){return iE=m(function*(t,e){try{const n=yield function pne(t,e){return JI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield qI(t.firebaseDependencies,r),n}catch(n){throw yield function PL(t){return rE.apply(this,arguments)}(t),n}}),iE.apply(this,arguments)}function FL(t,e){return sE.apply(this,arguments)}function sE(){return(sE=m(function*(t,e){const r={token:yield fne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield qI(t,r),r.token})).apply(this,arguments)}function oE(){return(oE=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sne(e)})})).apply(this,arguments)}function LL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function wne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Ine(t,e){e.data&&(t.data=e.data)}(e,t),function Ene(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function VL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function aE(t){return kt.create("missing-app-config-values",{valueName:t})}VL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),VL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Cne(t){if(!t||!t.options)throw aE("App Configuration Object");if(!t.name)throw aE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw aE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function uE(){return(uE=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Xte,{scope:Zte}),t.swRegistration.update().catch(()=>{})}catch(e){throw kt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function cE(){return(cE=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function BL(t){return uE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw kt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function lE(){return(lE=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=ML)})).apply(this,arguments)}function dE(){return dE=m(function*(t,e){if(!navigator)throw kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kt.create("permission-blocked");return yield function Sne(t,e){return lE.apply(this,arguments)}(t,e?.vapidKey),yield function Tne(t,e){return cE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function mne(t){return nE.apply(this,arguments)}(t)}),dE.apply(this,arguments)}function hE(){return(hE=m(function*(t,e,n){const r=function Mne(t){switch(t){case Xf.NOTIFICATION_CLICKED:return"notification_open";case Xf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[xL],message_name:n[tne],message_time:n[nne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fE(){return fE=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Xf.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(LL(n)):t.onMessageHandler.next(LL(n)));const r=n.data;(function Dne(t){return"object"==typeof t&&!!t&&xL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Ane(t,e,n){return hE.apply(this,arguments)}(t,n.messageType,r))}),fE.apply(this,arguments)}const jL="@firebase/messaging",Nne=t=>{const e=new bne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function xne(t,e){return fE.apply(this,arguments)}(e,n)),e},Rne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function UL(t,e){return dE.apply(this,arguments)}(e,r)}};function HL(){return pE.apply(this,arguments)}function pE(){return(pE=m(function*(){try{yield Ra()}catch{return!1}return typeof window<"u"&&Ji()&&Cw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kne(){nr(new mt("messaging",Nne,"PUBLIC")),nr(new mt("messaging-internal",Rne,"PRIVATE")),rr(jL,"0.12.4"),rr(jL,"0.12.4","esm2017")}();const Zf="analytics",Fne="firebase_id",Lne="origin",Vne=6e4,Bne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yE="https://www.googletagmanager.com/gtag/js",wt=new Gs("@firebase/analytics"),ln=new mr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jne(t){if(!t.startsWith(yE)){const e=ln.create("invalid-gtag-resource",{gtagURL:t});return wt.warn(e.message),""}return t}function GL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _E(){return(_E=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield GL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){wt.error(a)}t("config",i,s)})).apply(this,arguments)}function vE(){return(vE=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield GL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){wt.error(s)}})).apply(this,arguments)}const Yne=30,zL=new class Xne{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Zne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function wE(){return(wE=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Zne(r)},s=Bne.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw ln.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function IE(){return(IE=m(function*(t,e=zL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ln.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ln.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ire;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:Vne),qL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function qL(t,e,n){return EE.apply(this,arguments)}function EE(){return EE=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=zL){var s;const{appId:o,measurementId:a}=t;try{yield function nre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function ere(t){return wE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function rre(t){if(!(t instanceof $n&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Aw(n,i.intervalMillis,Yne):Aw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),wt.debug(`Calling attemptFetch again in ${l} millis`),qL(t,d,r,i)}}),EE.apply(this,arguments)}class ire{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let DE,xE;function CE(){return(CE=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function NE(){return(NE=m(function*(){if(!Ji())return wt.warn(ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ra()}catch(t){return wt.warn(ln.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function RE(){return RE=m(function*(t,e,n,r,i,s,o){var a;const u=function tre(t){return IE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&wt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>wt.error(f)),e.push(u);const c=function dre(){return NE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Qne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yE)&&n.src.includes(t))return n;return null})(s)||function Hne(t,e){const n=function $ne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:jne}),r=document.createElement("script"),i=`${yE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),xE&&(i("consent","default",xE),function WL(t){xE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Lne]="firebase",h.update=!0,null!=d&&(h[Fne]=d),i("config",l.measurementId,h),DE&&(i("set",DE),function KL(t){DE=t}(void 0)),l.measurementId}),RE.apply(this,arguments)}class fre{constructor(e){this.app=e}_delete(){return delete Vr[this.app.options.appId],Promise.resolve()}}let Vr={},QL=[];const YL={};let XL,Br,ep="dataLayer",kE=!1;function gre(t,e,n){!function pre(){const t=[];if(Dw()&&t.push("This is a browser extension environment."),Cw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ln.create("invalid-analytics-context",{errorInfo:e});wt.warn(n.message)}}();const r=t.options.appId;if(!r)throw ln.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ln.create("no-api-key");wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vr[r])throw ln.create("already-exists",{id:r});if(!kE){!function Gne(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ep);const{wrappedGtag:s,gtagCore:o}=function Kne(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Wne(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function qne(t,e,n,r,i){return vE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function zne(t,e,n,r,i,s){return _E.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){wt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Vr,QL,YL,ep,"gtag");Br=s,XL=o,kE=!0}return Vr[r]=function hre(t,e,n,r,i,s,o){return RE.apply(this,arguments)}(t,QL,YL,e,XL,ep,n),new fre(t)}function yre(){return OE.apply(this,arguments)}function OE(){return(OE=m(function*(){if(Dw()||!Cw()||!Ji())return!1;try{return yield Ra()}catch{return!1}})).apply(this,arguments)}const ZL="@firebase/analytics";!function vre(){nr(new mt(Zf,(e,{options:n})=>gre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),nr(new mt("analytics-internal",function t(e){try{const n=e.getProvider(Zf).getImmediate();return{logEvent:(r,i,s)=>function _re(t,e,n,r){t=Tn(t),function sre(t,e,n,r,i){return CE.apply(this,arguments)}(Br,Vr[t.app.options.appId],e,n,r).catch(i=>wt.error(i))}(n,r,i,s)}}catch(n){throw ln.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),rr(ZL,"0.10.0"),rr(ZL,"0.10.0","esm2017")}();class wre extends fn{constructor(e,n){super()}schedule(e,n=0){return this}}const tp={setInterval(t,e,...n){const{delegate:r}=tp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=tp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class t2 extends wre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return tp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&tp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Nd(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const n2={now:()=>(n2.delegate||Date).now(),delegate:void 0};class Wc{constructor(e,n=Wc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Wc.now=n2.now;class r2 extends Wc{constructor(e,n=Wc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Dre=new class Ere extends r2{}(class Ire extends t2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Cre=new r2(t2);function Ot(t,e,n){const r=be(t)||e||n?{next:t,error:e,complete:n}:t;return r?ht((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(at(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ki}const FE=new ua("7.6.1"),LE="__angularfire_symbol__analyticsIsSupportedValue",VE="__angularfire_symbol__analyticsIsSupported",BE="__angularfire_symbol__remoteConfigIsSupportedValue",UE="__angularfire_symbol__remoteConfigIsSupported",jE="__angularfire_symbol__messagingIsSupportedValue",$E="__angularfire_symbol__messagingIsSupported";globalThis[VE]||(globalThis[VE]=yre().then(t=>globalThis[LE]=t).catch(()=>globalThis[LE]=!1)),globalThis[$E]||(globalThis[$E]=HL().then(t=>globalThis[jE]=t).catch(()=>globalThis[jE]=!1)),globalThis[UE]||(globalThis[UE]=jte().then(t=>globalThis[BE]=t).catch(()=>globalThis[BE]=!1));const zE=(t,e)=>{const n=e?[e]:BF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Fa(){}class i2{constructor(e,n=Dre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class bre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fa,{},Fa,Fa)),n.pipe(Ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let s2=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new i2(Zone.current)),this.insideAngular=n.run(()=>new i2(Zone.current,Cre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(U(we))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function eo(t){return Zs().ngZone.run(()=>t())}function Sre(t){return Zs(),function Are(t){return function(n){return(n=n.lift(new bre(t.ngZone))).pipe(Fd(t.outsideAngular),Pd(t.insideAngular))}}(Zs())(t)}const Mre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),eo(()=>t.apply(void 0,r))},es=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fa,{},Fa,Fa)))),r[s]=Mre(r[s],n));const i=function Tre(t){return Zs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ze){const s=Zs();return i.pipe(Fd(s.outsideAngular),Pd(s.insideAngular))}return eo(()=>i)}return i instanceof ze?i.pipe(Sre):i instanceof Promise?eo(()=>new Promise((s,o)=>i.then(a=>eo(()=>s(a)),a=>eo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:eo(()=>i)};class La{constructor(e){return e}}class o2{constructor(){return BF()}}const qE=new P("angularfire2._apps"),Nre={provide:La,useFactory:function xre(t){return t&&1===t.length?t[0]:new La(VF())},deps:[[new wn,qE]]},Rre={provide:o2,deps:[[new wn,qE]]};function kre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new La(r)}}let Ore=(()=>{class t{constructor(n){tr("angularfire",FE.full,"core"),tr("angularfire",FE.full,"app"),tr("angular",aN.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(U($i))},t.\u0275mod=mn({type:t}),t.\u0275inj=Zt({providers:[Nre,Rre]}),t})();function Pre(t,...e){return{ngModule:Ore,providers:[{provide:qE,useFactory:kre(t),multi:!0,deps:[we,Ht,s2,...e]}]}}const Fre=es(LF,!0);const Lre=function a2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},u2=new mr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),np=new Gs("@firebase/auth");function rp(t,...e){np.logLevel<=pe.ERROR&&np.error(`Auth (${qf}): ${t}`,...e)}function An(t,...e){throw WE(t,...e)}function Ur(t,...e){return WE(t,...e)}function WE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return u2.create(t,...e)}function A(t,e,...n){if(!t)throw WE(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rp(e),new Error(e)}function ts(t,e){t||jr(e)}function l2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=function hX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}()||function pX(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Bre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function KE(){return"http:"===l2()||"https:"===l2()}()||Dw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class d2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$re=new Qc(3e4,6e4);function Ke(t,e,n,r){return YE.apply(this,arguments)}function YE(){return(YE=m(function*(t,e,n,r,i={}){return h2(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=SF(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),d2.fetch()(f2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function h2(t,e,n){return JE.apply(this,arguments)}function JE(){return(JE=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jre),e);try{const i=new Hre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Yc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Yc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Yc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Yc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function c2(t,e,n){const r=Object.assign(Object.assign({},Lre()),{[e]:n});return new mr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);An(t,l)}}catch(i){if(i instanceof $n)throw i;An(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function f2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function QE(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Hre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),$re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}function ZE(){return(ZE=m(function*(t,e){return Ke(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function tD(){return(tD=m(function*(t,e){return Ke(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nD(){return(nD=m(function*(t,e=!1){const n=Tn(t),r=yield n.getIdToken(e),i=ip(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Jc(rD(i.auth_time)),issuedAtTime:Jc(rD(i.iat)),expirationTime:Jc(rD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function rD(t){return 1e3*Number(t)}function ip(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return rp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Uf(n);return i?JSON.parse(i):(rp("Failed to decode base64 JWT payload"),null)}catch(i){return rp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wi(t,e){return iD.apply(this,arguments)}function iD(){return(iD=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof $n&&function Qre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Yre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class p2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xc(t){return sD.apply(this,arguments)}function sD(){return sD=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield wi(t,function qre(t,e){return tD.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Zre(t){return t.map(e=>{var{providerId:n}=e,r=Sm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Xre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new p2(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),sD.apply(this,arguments)}function oD(){return(oD=m(function*(t){const e=Tn(t);yield Xc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function aD(){return(aD=m(function*(t,e){const n=yield h2(t,{},m(function*(){const r=SF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=f2(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",d2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Kre(t){const e=ip(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function eie(t,e){return aD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zc,this.toJSON())}_performRefresh(){return jr("not implemented")}}function ns(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class to{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new p2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield wi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Wre(t){return nD.apply(this,arguments)}(this,e)}reload(){return function Jre(t){return oD.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new to(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Xc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield wi(e,function Gre(t,e){return ZE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:k,isAnonymous:V,providerData:Z,stsTokenManager:Ae}=n;A(T&&Ae,e,"internal-error");const Xt=Zc.fromJSON(this.name,Ae);A("string"==typeof T,e,"internal-error"),ns(d,e.name),ns(h,e.name),A("boolean"==typeof k,e,"internal-error"),A("boolean"==typeof V,e,"internal-error"),ns(f,e.name),ns(p,e.name),ns(g,e.name),ns(y,e.name),ns(w,e.name),ns(_,e.name);const Xr=new to({uid:T,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Xt,createdAt:w,lastLoginAt:_});return Z&&Array.isArray(Z)&&(Xr.providerData=Z.map(ZS=>Object.assign({},ZS))),y&&(Xr._redirectEventId=y),Xr}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Zc;i.updateFromServerResponse(n);const s=new to({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xc(s),s})()}}const g2=new Map;function Ii(t){ts(t instanceof Function,"Expected a class definition");let e=g2.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g2.set(t,e),e)}const m2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function sp(t,e,n){return`firebase:${t}:${e}:${n}`}class Ba{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sp(this.userKey,i.apiKey,s),this.fullPersistenceKey=sp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?to._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Ba(Ii(m2),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ii(m2);const o=sp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=to._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ba(s,e,r)):new Ba(s,e,r)})()}}function y2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function w2(t=jn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function _2(t=jn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function E2(t=jn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function D2(t=jn()){return/webos/i.test(t)}(e))return"Webos";if(function uD(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function v2(t=jn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function I2(t=jn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function C2(t,e=[]){let n;switch(t){case"Browser":n=y2(jn());break;case"Worker":n=`${y2(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qf}/${r}`}function b2(t,e){return lD.apply(this,arguments)}function lD(){return(lD=m(function*(t,e){return Ke(t,"GET","/v2/recaptchaConfig",function He(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function S2(t){return void 0!==t&&void 0!==t.enterprise}class A2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class x2{constructor(e){this.type="recaptcha-enterprise",this.auth=It(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){b2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new A2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;S2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&S2(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function dD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ur("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function iie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class uie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class cie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N2(this),this.idTokenSubscription=new N2(this),this.beforeStateQueue=new uie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ba.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Xc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ure(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Tn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Ii(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield b2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new A2(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new x2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Ii(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Ba.create(n,[Ii(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Vre(t,...e){np.logLevel<=pe.WARN&&np.warn(`Auth (${qf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function It(t){return Tn(t)}class N2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function _X(t,e){const n=new vX(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function M2(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Qc(3e4,6e4),new Qc(2e3,1e4),new Qc(3e4,6e4),new Qc(5e3,15e3),encodeURIComponent("fac");var oV="@firebase/auth";class toe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}jf(),function roe(t){ka(new mt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C2(t)},c=new cie(r,i,s,u);return function die(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ka(new mt("auth-internal",e=>{const n=It(e.getProvider("auth").getImmediate());return new toe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(oV,"0.23.2",function noe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),tr(oV,"0.23.2","esm2017")}("Browser");class lV{constructor(){return zE("auth")}}const ZC=new Map,dV={activated:!1,tokenObservers:[]},loe={initialized:!1,enabled:!1};function Qe(t){return ZC.get(t)||Object.assign({},dV)}function _p(){return loe}const eb="https://content-firebaseappcheck.googleapis.com/v1",poe="exchangeDebugToken",hV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class moe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new $f,yield function yoe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new $f,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Pt=new mr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tb(t){if(!Qe(t).activated)throw Pt.create("use-before-activation",{appName:t.name})}function Ip(t,e){return rb.apply(this,arguments)}function rb(){return rb=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Pt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Pt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Pt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Pt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),rb.apply(this,arguments)}function fV(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${eb}/projects/${n}/apps/${r}:${poe}?key=${i}`,body:{debug_token:e}}}const Ioe="firebase-app-check-database",Eoe=1,il="firebase-app-check-store";let Ep=null;function ib(){return ib=m(function*(t,e){const r=(yield function gV(){return Ep||(Ep=new Promise((t,e)=>{try{const n=indexedDB.open(Ioe,Eoe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Pt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(il,{keyPath:"compositeKey"})}}catch(n){e(Pt.create("storage-open",{originalErrorMessage:n?.message}))}}),Ep)}()).transaction(il,"readwrite"),s=r.objectStore(il).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Pt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),ib.apply(this,arguments)}const sl=new Gs("@firebase/app-check");function ab(t,e){return Ji()?function Coe(t,e){return function mV(t,e){return ib.apply(this,arguments)}(function _V(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{sl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function cb(){return _p().enabled}function lb(){return db.apply(this,arguments)}function db(){return db=m(function*(){const t=_p();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),db.apply(this,arguments)}const xoe={error:"UNKNOWN_ERROR"};function Noe(t){return Ew.encodeString(JSON.stringify(t),!1)}function Dp(t){return hb.apply(this,arguments)}function hb(){return hb=m(function*(t,e=!1){const n=t.app;tb(n);const r=Qe(n);let s,i=r.token;if(i&&!ja(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ja(u)?i=u:yield ab(n,void 0))}if(!e&&i&&ja(i))return{token:i.token};let a,o=!1;if(cb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ip(fV(n,yield lb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield ab(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Qe(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?sl.warn(u.message):sl.error(u),s=u}return i?s?a=ja(i)?{token:i.token,internalError:s}:EV(s):(a={token:i.token},r.token=i,yield ab(n,i)):a=EV(s),o&&function IV(t,e){const n=Qe(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),hb.apply(this,arguments)}function fb(){return fb=m(function*(t){const e=t.app;tb(e);const{provider:n}=Qe(e);if(cb()){const r=yield lb(),{token:i}=yield Ip(fV(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),fb.apply(this,arguments)}function gb(t,e){const n=Qe(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wV(t){const{app:e}=t,n=Qe(e);let r=n.tokenRefresher;r||(r=function Roe(t){const{app:e}=t;return new moe(m(function*(){let r;if(r=Qe(e).token?yield Dp(t,!0):yield Dp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Qe(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},hV.RETRIAL_MIN_WAIT,hV.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ja(t){return t.expireTimeMillis-Date.now()>0}function EV(t){return{token:Noe(xoe),error:t}}class koe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Qe(this.app);for(const n of e)gb(this.app,n.next);return Promise.resolve()}}const xV="app-check-internal";!function Woe(){nr(new mt("app-check",t=>function Ooe(t,e){return new koe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(xV).initialize()})),nr(new mt(xV,t=>function Poe(t){return{getToken:e=>Dp(t,e),getLimitedUseToken:()=>function vV(t){return fb.apply(this,arguments)}(t),addTokenListener:e=>function pb(t,e,n,r){const{app:i}=t,s=Qe(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ja(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),wV(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>wV(t))}(t,"INTERNAL",e),removeTokenListener:e=>gb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),rr("@firebase/app-check","0.8.0")}();class RV{constructor(){return zE("app-check")}}typeof window<"u"&&window;var N,Xoe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={},wb=wb||{},J=Xoe||self;function bp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ol(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ib="closure_uid_"+(1e9*Math.random()>>>0),eae=0;function tae(t,e,n){return t.call.apply(t.bind,arguments)}function nae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return(Wt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tae:nae).apply(null,arguments)}function Tp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function is(){this.s=this.s,this.o=this.o}is.prototype.s=!1,is.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Zoe(t){Object.prototype.hasOwnProperty.call(t,Ib)&&t[Ib]||(t[Ib]=++eae)}(this)},is.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Eb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function OV(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(bp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var iae=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function al(t){return/^[\s\xa0]*$/.test(t)}function Sp(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function $r(t){return-1!=Sp().indexOf(t)}function Db(t){return Db[" "](t),t}Db[" "]=function(){};var bb,oae=$r("Opera"),$a=$r("Trident")||$r("MSIE"),PV=$r("Edge"),Cb=PV||$a,FV=$r("Gecko")&&!(-1!=Sp().toLowerCase().indexOf("webkit")&&!$r("Edge"))&&!($r("Trident")||$r("MSIE"))&&!$r("Edge"),aae=-1!=Sp().toLowerCase().indexOf("webkit")&&!$r("Edge");function LV(){var t=J.document;return t?t.documentMode:void 0}e:{var Tb="",Sb=function(){var t=Sp();return FV?/rv:([^\);]+)(\)|;)/.exec(t):PV?/Edge\/([\d\.]+)/.exec(t):$a?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):aae?/WebKit\/(\S+)/.exec(t):oae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Sb&&(Tb=Sb?Sb[1]:""),$a){var Ab=LV();if(null!=Ab&&Ab>parseFloat(Tb)){bb=String(Ab);break e}}bb=Tb}var uae=J.document&&$a&&(LV()||parseInt(bb,10))||void 0;function ul(t,e){if(Kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(FV){e:{try{Db(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:cae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ul.$.h.call(this)}}Et(ul,Kt);var cae={2:"touch",3:"pen",4:"mouse"};ul.prototype.h=function(){ul.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cl="closure_listenable_"+(1e6*Math.random()|0),lae=0;function dae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lae,this.fa=this.ia=!1}function Ap(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function BV(t){const e={};for(const n in t)e[n]=t[n];return e}const UV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jV(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<UV.length;s++)n=UV[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mp(t){this.src=t,this.g={},this.h=0}function Nb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=kV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ap(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Rb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Mp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Rb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new dae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var kb="closure_lm_"+(1e6*Math.random()|0),Ob={};function $V(t,e,n,r,i){if(r&&r.once)return GV(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$V(t,e[s],n,r,i);return null}return n=Vb(n),t&&t[cl]?t.O(e,n,ol(r)?!!r.capture:!!r,i):HV(t,e,n,!1,r,i)}function HV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ol(i)?!!i.capture:!!i,a=Fb(t);if(a||(t[kb]=a=new Mp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function fae(){const e=pae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qV(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function GV(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)GV(t,e[s],n,r,i);return null}return n=Vb(n),t&&t[cl]?t.P(e,n,ol(r)?!!r.capture:!!r,i):HV(t,e,n,!0,r,i)}function zV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zV(t,e[s],n,r,i);else r=ol(r)?!!r.capture:!!r,n=Vb(n),t&&t[cl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Rb(s=t.g[e],n,r,i))&&(Ap(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Fb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Rb(e,n,r,i)),(n=-1<t?e[t]:null)&&Pb(n))}function Pb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[cl])Nb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fb(e))?(Nb(n,t),0==n.h&&(n.src=null,e[kb]=null)):Ap(t)}}}function qV(t){return t in Ob?Ob[t]:Ob[t]="on"+t}function pae(t,e){if(t.fa)t=!0;else{e=new ul(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Pb(t),t=n.call(r,e)}return t}function Fb(t){return(t=t[kb])instanceof Mp?t:null}var Lb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vb(t){return"function"==typeof t?t:(t[Lb]||(t[Lb]=function(e){return t.handleEvent(e)}),t[Lb])}function Dt(){is.call(this),this.i=new Mp(this),this.S=this,this.J=null}function Ft(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Kt(e,t);else if(e instanceof Kt)e.target=e.target||t;else{var i=e;jV(e=new Kt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=xp(o,r,!0,e)&&i}if(i=xp(o=e.g=t,r,!0,e)&&i,i=xp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=xp(o=e.g=n[s],r,!1,e)&&i}function xp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Nb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Et(Dt,is),Dt.prototype[cl]=!0,Dt.prototype.removeEventListener=function(t,e,n,r){zV(this,t,e,n,r)},Dt.prototype.N=function(){if(Dt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ap(n[r]);delete t.g[e],t.h--}}this.J=null},Dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Dt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Bb=J.JSON.stringify;function mae(){var t=Ub;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var WV=new class gae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _ae,t=>t.reset());class _ae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function vae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function wae(t){J.setTimeout(()=>{throw t},0)}let ll,dl=!1,Ub=new class yae{constructor(){this.h=this.g=null}add(e,n){const r=WV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},KV=()=>{const t=J.Promise.resolve(void 0);ll=()=>{t.then(Iae)}};var Iae=()=>{for(var t;t=mae();){try{t.h.call(t.g)}catch(n){wae(n)}var e=WV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}dl=!1};function Np(t,e){Dt.call(this),this.h=t||1,this.g=e||J,this.j=Wt(this.qb,this),this.l=Date.now()}function jb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function $b(t,e,n){if("function"==typeof t)n&&(t=Wt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Wt(t.handleEvent,t)}return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function QV(t){t.g=$b(()=>{t.g=null,t.i&&(t.i=!1,QV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Et(Np,Dt),(N=Np.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ft(this,"tick"),this.ga&&(jb(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Np.$.N.call(this),jb(this),delete this.g};class Eae extends is{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QV(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hl(t){is.call(this),this.h=t,this.g={}}Et(hl,is);var YV=[];function JV(t,e,n,r){Array.isArray(n)||(n&&(YV[0]=n.toString()),n=YV);for(var i=0;i<n.length;i++){var s=$V(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function XV(t){xb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Pb(e)},t),t.g={}}function Rp(){this.g=!0}function Ha(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Tae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Bb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}hl.prototype.N=function(){hl.$.N.call(this),XV(this)},hl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rp.prototype.Ea=function(){this.g=!1},Rp.prototype.info=function(){};var so={},ZV=null;function kp(){return ZV=ZV||new Dt}function eB(t){Kt.call(this,so.Ta,t)}function fl(t){const e=kp();Ft(e,new eB(e))}function tB(t,e){Kt.call(this,so.STAT_EVENT,t),this.stat=e}function dn(t){const e=kp();Ft(e,new tB(e,t))}function nB(t,e){Kt.call(this,so.Ua,t),this.size=e}function pl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}so.Ta="serverreachability",Et(eB,Kt),so.STAT_EVENT="statevent",Et(tB,Kt),so.Ua="timingevent",Et(nB,Kt);var Op={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hb(){}function sB(){}Hb.prototype.h=null;var qb,gl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gb(){Kt.call(this,"d")}function zb(){Kt.call(this,"c")}function Pp(){}function ml(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new hl(this),this.P=Sae,this.V=new Np(t=Cb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oB}function oB(){this.i=null,this.g="",this.h=!1}Et(Gb,Kt),Et(zb,Kt),Et(Pp,Hb),Pp.prototype.g=function(){return new XMLHttpRequest},Pp.prototype.i=function(){return{}},qb=new Pp;var Sae=45e3,Wb={},Fp={};function Kb(t,e,n){t.L=1,t.v=Up(Di(e)),t.s=n,t.S=!0,aB(t,null)}function aB(t,e){t.G=Date.now(),yl(t),t.A=Di(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),yB(n.i,"t",r),t.C=0,n=t.l.J,t.h=new oB,t.g=jB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Eae(Wt(t.Pa,t,t.g),t.O)),JV(t.U,t.g,"readystatechange",t.nb),e=t.I?BV(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),fl(),function Dae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function uB(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function cB(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Aae(t,n),i==Fp){4==e&&(t.o=4,dn(14),r=!1),Ha(t.j,t.m,null,"[Incomplete Response]");break}if(i==Wb){t.o=4,dn(15),Ha(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ha(t.j,t.m,i,null),Qb(t,i)}uB(t)&&i!=Fp&&i!=Wb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,dn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nT(e),e.M=!0,dn(11))):(Ha(t.j,t.m,n,"[Invalid Chunked Response]"),oo(t),_l(t))}function Aae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Fp:(n=Number(e.substring(n,r)),isNaN(n)?Wb:(r+=1)+n>e.length?Fp:(e=e.slice(r,r+n),t.C=r+n,e))}function yl(t){t.Y=Date.now()+t.P,lB(t,t.P)}function lB(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=pl(Wt(t.lb,t),e)}function Lp(t){t.B&&(J.clearTimeout(t.B),t.B=null)}function _l(t){0==t.l.H||t.J||LB(t.l,t)}function oo(t){Lp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,jb(t.V),XV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Qb(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Yb(n.i,t)))if(!t.K&&Yb(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;qp(n),Gp(n)}tT(n),dn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=pl(Wt(n.ib,n),6e3));if(1>=wB(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else uo(n,11)}else if((t.K||n.g==t)&&qp(n),!al(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Jb(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Pe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=UB(r,r.J?r.pa:null,r.Y),o.K){IB(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Lp(a),yl(a)),r.g=o}else PB(r);0<n.j.length&&zp(n)}else"stop"!=c[0]&&"close"!=c[0]||uo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?uo(n,7):eT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}fl()}catch{}}function dB(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(bp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function xae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(bp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Mae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(bp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=ml.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Hr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Hr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Cb||this.g&&(this.h.h||this.g.ja()||MB(this.g)))){this.J||4!=l||7==e||fl(),Lp(this);var n=this.g.da();this.ca=n;t:if(uB(this)){var r=MB(this.g);t="";var i=r.length,s=4==Hr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),_l(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Cae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!al(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,dn(12),oo(this),_l(this);break e}Ha(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qb(this,n)}this.S?(cB(this,l,o),Cb&&this.i&&3==l&&(JV(this.U,this.V,"tick",this.mb),this.V.start())):(Ha(this.j,this.m,o,null),Qb(this,o)),4==l&&oo(this),this.i&&!this.J&&(4==l?LB(this.l,this):(this.i=!1,yl(this)))}else(function Kae(t){const e={};t=(t.g&&2<=Hr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(al(t[r]))continue;var n=vae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function hae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,dn(12)):(this.o=0,dn(13)),oo(this),_l(this)}}}catch{}},N.mb=function(){if(this.g){var t=Hr(this.g),e=this.g.ja();this.C<e.length&&(Lp(this),cB(this,t,e),this.i&&4!=t&&yl(this))}},N.cancel=function(){this.J=!0,oo(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function bae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(fl(),dn(17)),oo(this),this.o=2,_l(this)):lB(this,this.Y-t)};var hB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ao){this.h=t.h,Vp(this,t.j),this.s=t.s,this.g=t.g,Bp(this,t.m),this.l=t.l;var e=t.i,n=new Il;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fB(this,n),this.o=t.o}else t&&(e=String(t).match(hB))?(this.h=!1,Vp(this,e[1]||"",!0),this.s=vl(e[2]||""),this.g=vl(e[3]||"",!0),Bp(this,e[4]),this.l=vl(e[5]||"",!0),fB(this,e[6]||"",!0),this.o=vl(e[7]||"")):(this.h=!1,this.i=new Il(null,this.h))}function Di(t){return new ao(t)}function Vp(t,e,n){t.j=n?vl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Bp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fB(t,e,n){e instanceof Il?(t.i=e,function Lae(t,e){e&&!t.j&&(ss(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gB(this,r),yB(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=wl(e,Pae)),t.i=new Il(e,t.h))}function Pe(t,e,n){t.i.set(e,n)}function Up(t){return Pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function vl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Rae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ao.prototype.toString=function(){var t=[],e=this.j;e&&t.push(wl(e,pB,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(wl(e,pB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(wl(n,"/"==n.charAt(0)?Oae:kae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",wl(n,Fae)),t.join("")};var pB=/[#\/\?@]/g,kae=/[#\?:]/g,Oae=/[#\?]/g,Pae=/[#\?@]/g,Fae=/#/g;function Il(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ss(t){t.g||(t.g=new Map,t.h=0,t.i&&function Nae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gB(t,e){ss(t),e=Ga(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mB(t,e){return ss(t),e=Ga(t,e),t.g.has(e)}function yB(t,e,n){gB(t,e),0<n.length&&(t.i=null,t.g.set(Ga(t,e),Eb(n)),t.h+=n.length)}function Ga(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _B(t){this.l=t||Bae,t=J.PerformanceNavigationTiming?0<(t=J.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Il.prototype).add=function(t,e){ss(this),this.i=null,t=Ga(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){ss(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){ss(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){ss(this);let e=[];if("string"==typeof t)mB(this,t)&&(e=e.concat(this.g.get(Ga(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return ss(this),this.i=null,mB(this,t=Ga(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Bae=10;function vB(t){return!!t.h||!!t.g&&t.g.size>=t.j}function wB(t){return t.h?1:t.g?t.g.size:0}function Yb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Jb(t,e){t.g?t.g.add(e):t.h=e}function IB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function EB(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Eb(t.i)}_B.prototype.cancel=function(){if(this.i=EB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Uae=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function jae(){this.g=new Uae}function $ae(t,e,n){const r=n||"";try{dB(t,function(i,s){let o=i;ol(i)&&(o=Bb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function El(t){this.l=t.fc||null,this.j=t.ob||!1}function $p(t,e){Dt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(El,Hb),El.prototype.g=function(){return new $p(this.l,this.j)},El.prototype.i=function(t){return function(){return t}}({}),Et($p,Dt);var Xb=0;function DB(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Dl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Cl(t)}function Cl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=$p.prototype).open=function(t,e){if(this.readyState!=Xb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Cl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dl(this)),this.readyState=Xb},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Cl(this)),this.g&&(this.readyState=3,Cl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DB(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Dl(this):Cl(this),3==this.readyState&&DB(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Dl(this))},N.Ya=function(t){this.g&&(this.response=t,Dl(this))},N.ka=function(){this.g&&Dl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty($p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Gae=J.JSON.parse;function Ye(t){Dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CB,this.L=this.M=!1}Et(Ye,Dt);var CB="",zae=/^https?$/i,qae=["POST","PUT"];function bB(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,TB(t),Hp(t)}function TB(t){t.F||(t.F=!0,Ft(t,"complete"),Ft(t,"error"))}function SB(t){if(t.h&&typeof wb<"u"&&(!t.C[1]||4!=Hr(t)||2!=t.da()))if(t.v&&4==Hr(t))$b(t.La,0,t);else if(Ft(t,"readystatechange"),4==Hr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(hB)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!zae.test(i?i.toLowerCase():"")}n=r}if(n)Ft(t,"complete"),Ft(t,"success");else{t.m=6;try{var s=2<Hr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",TB(t)}}finally{Hp(t)}}}function Hp(t,e){if(t.g){AB(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ft(t,"ready");try{n.onreadystatechange=r}catch{}}}function AB(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function Hr(t){return t.g?t.g.readyState:0}function MB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function xB(t){let e="";return xb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Zb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xB(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Pe(t,e,n))}function bl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function NB(t){this.Ga=0,this.j=[],this.l=new Rp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bl("baseRetryDelayMs",5e3,t),this.hb=bl("retryDelaySeedMs",1e4,t),this.eb=bl("forwardChannelMaxRetries",2,t),this.xa=bl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new _B(t&&t.concurrentRequestLimit),this.Ja=new jae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eT(t){if(RB(t),3==t.H){var e=t.W++,n=Di(t.I);if(Pe(n,"SID",t.K),Pe(n,"RID",e),Pe(n,"TYPE","terminate"),Tl(t,n),(e=new ml(t,t.l,e)).L=2,e.v=Up(Di(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&((new Image).src=e.v,n=!0),n||(e.g=jB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),yl(e)}BB(t)}function Gp(t){t.g&&(nT(t),t.g.cancel(),t.g=null)}function RB(t){Gp(t),t.u&&(J.clearTimeout(t.u),t.u=null),qp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&J.clearTimeout(t.m),t.m=null)}function zp(t){if(!vB(t.i)&&!t.m){t.m=!0;var e=t.Na;ll||KV(),dl||(ll(),dl=!0),Ub.add(e,t),t.C=0}}function kB(t,e){var n;n=e?e.m:t.W++;const r=Di(t.I);Pe(r,"SID",t.K),Pe(r,"RID",n),Pe(r,"AID",t.V),Tl(t,r),t.o&&t.s&&Zb(r,t.o,t.s),n=new ml(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=OB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Jb(t.i,n),Kb(n,r,e)}function Tl(t,e){t.na&&xb(t.na,function(n,r){Pe(e,r,n)}),t.h&&dB({},function(n,r){Pe(e,r,n)})}function OB(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Wt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{$ae(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function PB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ll||KV(),dl||(ll(),dl=!0),Ub.add(e,t),t.A=0}}function tT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=pl(Wt(t.Ma,t),VB(t,t.A)),t.A++,0))}function nT(t){null!=t.B&&(J.clearTimeout(t.B),t.B=null)}function FB(t){t.g=new ml(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Di(t.wa);Pe(e,"RID","rpc"),Pe(e,"SID",t.K),Pe(e,"AID",t.V),Pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pe(e,"TO",t.qa),Pe(e,"TYPE","xmlhttp"),Tl(t,e),t.o&&t.s&&Zb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Up(Di(e)),n.s=null,n.S=!0,aB(n,t)}function qp(t){null!=t.v&&(J.clearTimeout(t.v),t.v=null)}function LB(t,e){var n=null;if(t.g==e){qp(t),nT(t),t.g=null;var r=2}else{if(!Yb(t.i,e))return;n=e.F,IB(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ft(r=kp(),new nB(r,n)),zp(t)}else PB(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Qae(t,e){return!(wB(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=pl(Wt(t.Na,t,e),VB(t,t.C)),t.C++,0)))}(t,e)||2==r&&tT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:uo(t,5);break;case 4:uo(t,10);break;case 3:uo(t,6);break;default:uo(t,2)}}function VB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function uo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Wt(t.pb,t);n||(n=new ao("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||Vp(n,"https"),Up(n)),function Hae(t,e){const n=new Rp;if(J.Image){const r=new Image;r.onload=Tp(jp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Tp(jp,n,r,"TestLoadImage: error",!1,e),r.onabort=Tp(jp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tp(jp,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else dn(2);t.H=0,t.h&&t.h.za(e),BB(t),RB(t)}function BB(t){if(t.H=0,t.ma=[],t.h){const e=EB(t.i);(0!=e.length||0!=t.j.length)&&(OV(t.ma,e),OV(t.ma,t.j),t.i.i.length=0,Eb(t.j),t.j.length=0),t.h.ya()}}function UB(t,e,n){var r=n instanceof ao?Di(n):new ao(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Bp(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ao(null);r&&Vp(s,r),e&&(s.g=e),i&&Bp(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Pe(r,n,e),Pe(r,"VER",t.ra),Tl(t,r),r}function jB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ye(n&&t.Ha&&!t.va?new El({ob:!0}):t.va)).Oa(t.J),e}function $B(){}function Wp(){if($a&&!(10<=Number(uae)))throw Error("Environmental error: no available transport.")}function Hn(t,e){Dt.call(this),this.g=new NB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!al(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!al(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new za(this)}function HB(t){Gb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function GB(){zb.call(this),this.status=1}function za(t){this.g=t}function _r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=Ye.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qb.g(),this.C=function iB(t){return t.h||(t.h=t.i())}(this.u?this.u:qb),this.g.onreadystatechange=Wt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void bB(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=J.FormData&&t instanceof J.FormData,!(0<=kV(qae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{AB(this),0<this.B&&((this.L=function Wae(t){return $a&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.ua,this)):this.A=$b(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){bB(this,s)}},N.ua=function(){typeof wb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ft(this,"complete"),Ft(this,"abort"),Hp(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hp(this,!0)),Ye.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?SB(this):this.kb())},N.kb=function(){SB(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Gae(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=NB.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ml(this,this.l,t);let s=this.s;if(this.U&&(s?(s=BV(s),jV(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=OB(this,i,e),Pe(n=Di(this.I),"RID",t),Pe(n,"CVER",22),this.F&&Pe(n,"X-HTTP-Session-Id",this.F),Tl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(xB(s)))+"&"+e:this.o&&Zb(n,this.o,s)),Jb(this.i,i),this.bb&&Pe(n,"TYPE","init"),this.P?(Pe(n,"$req",e),Pe(n,"SID","null"),i.aa=!0,Kb(i,n,null)):Kb(i,n,e),this.H=2}}else 3==this.H&&(t?kB(this,t):0==this.j.length||vB(this.i)||kB(this))},N.Ma=function(){if(this.u=null,FB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=pl(Wt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dn(10),Gp(this),FB(this))},N.ib=function(){null!=this.v&&(this.v=null,Gp(this),tT(this),dn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),dn(2)):(this.l.info("Failed to ping google.com"),dn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=$B.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Wp.prototype.g=function(t,e){return new Hn(t,e)},Et(Hn,Dt),Hn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;dn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=UB(t,null,t.Y),zp(t)},Hn.prototype.close=function(){eT(this.g)},Hn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Bb(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&zp(e)},Hn.prototype.N=function(){this.g.h=null,delete this.j,eT(this.g),delete this.g,Hn.$.N.call(this)},Et(HB,Gb),Et(GB,zb),Et(za,$B),za.prototype.Ba=function(){Ft(this.g,"a")},za.prototype.Aa=function(t){Ft(this.g,new HB(t))},za.prototype.za=function(t){Ft(this.g,new GB)},za.prototype.ya=function(){Ft(this.g,"b")},Et(_r,function Yae(){this.blockSize=-1}),_r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_r.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)rT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){rT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){rT(this,r),i=0;break}}this.h=i,this.i+=e},_r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Jae={};function iT(t){return-128<=t&&128>t?function sae(t,e){var n=Jae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ee([0|e],0>e?-1:0)}):new Ee([0|t],0>t?-1:0)}function Gr(t){if(isNaN(t)||!isFinite(t))return qa;if(0>t)return Lt(Gr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=sT;return new Ee(e,0)}var sT=4294967296,qa=iT(0),oT=iT(1),qB=iT(16777216);function Ci(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function sr(t){return-1==t.h}function Lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(oT)}function Kp(t,e){return t.add(Lt(e))}function Qp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sl(t,e){this.g=t,this.h=e}function Yp(t,e){if(Ci(e))throw Error("division by zero");if(Ci(t))return new Sl(qa,qa);if(sr(t))return e=Yp(Lt(t),e),new Sl(Lt(e.g),Lt(e.h));if(sr(e))return e=Yp(t,Lt(e)),new Sl(Lt(e.g),e.h);if(30<t.g.length){if(sr(t)||sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=oT,r=e;0>=r.X(t);)n=WB(n),r=WB(r);var i=Wa(n,1),s=Wa(r,1);for(r=Wa(r,2),n=Wa(n,2);!Ci(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Wa(r,1),n=Wa(n,1)}return e=Kp(t,i.R(e)),new Sl(i,e)}for(i=qa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Gr(n)).R(e);sr(o)||0<o.X(t);)o=(s=Gr(n-=r)).R(e);Ci(s)&&(s=oT),i=i.add(s),t=Kp(t,o)}return new Sl(i,t)}function WB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Wa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ee(i,t.h)}(N=Ee.prototype).ea=function(){if(sr(this))return-Lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:sT+r)*e,e*=sT}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ci(this))return"0";if(sr(this))return"-"+Lt(this).toString(t);for(var e=Gr(Math.pow(t,6)),n=this,r="";;){var i=Yp(n,e).g,s=((0<(n=Kp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ci(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return sr(t=Kp(this,t))?-1:Ci(t)?0:1},N.abs=function(){return sr(this)?Lt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ee(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Ci(this)||Ci(t))return qa;if(sr(this))return sr(t)?Lt(this).R(Lt(t)):Lt(Lt(this).R(t));if(sr(t))return Lt(this.R(Lt(t)));if(0>this.X(qB)&&0>t.X(qB))return Gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Qp(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Qp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)},N.gb=function(t){return Yp(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)},Wp.prototype.createWebChannel=Wp.prototype.g,Hn.prototype.send=Hn.prototype.u,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,Op.NO_ERROR=0,Op.TIMEOUT=8,Op.HTTP_ERROR=6,rB.COMPLETE="complete",sB.EventType=gl,gl.OPEN="a",gl.CLOSE="b",gl.ERROR="c",gl.MESSAGE="d",Dt.prototype.listen=Dt.prototype.O,Ye.prototype.listenOnce=Ye.prototype.P,Ye.prototype.getLastError=Ye.prototype.Sa,Ye.prototype.getLastErrorCode=Ye.prototype.Ia,Ye.prototype.getStatus=Ye.prototype.da,Ye.prototype.getResponseJson=Ye.prototype.Wa,Ye.prototype.getResponseText=Ye.prototype.ja,Ye.prototype.send=Ye.prototype.ha,Ye.prototype.setWithCredentials=Ye.prototype.Oa,_r.prototype.digest=_r.prototype.l,_r.prototype.reset=_r.prototype.reset,_r.prototype.update=_r.prototype.j,Ee.prototype.add=Ee.prototype.add,Ee.prototype.multiply=Ee.prototype.R,Ee.prototype.modulo=Ee.prototype.gb,Ee.prototype.compare=Ee.prototype.X,Ee.prototype.toNumber=Ee.prototype.ea,Ee.prototype.toString=Ee.prototype.toString,Ee.prototype.getBits=Ee.prototype.D,Ee.fromNumber=Gr,Ee.fromString=function zB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Lt(zB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Gr(Math.pow(e,8)),r=qa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Gr(Math.pow(e,s)),r=r.R(s).add(Gr(o))):r=(r=r.R(n)).add(Gr(o))}return r};var Xae=yr.createWebChannelTransport=function(){return new Wp},Zae=yr.getStatEventTarget=function(){return kp()},aT=yr.ErrorCode=Op,eue=yr.EventType=rB,tue=yr.Event=so,KB=yr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nue=yr.FetchXmlHttpFactory=El,Jp=yr.WebChannel=sB,rue=yr.XhrIo=Ye,iue=yr.Md5=_r,Ka=yr.Integer=Ee;const QB="@firebase/firestore";class Ct{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");let Qa="9.23.0";const os=new Gs("@firebase/firestore");function uT(){return os.logLevel}function S(t,...e){if(os.logLevel<=pe.DEBUG){const n=e.map(cT);os.debug(`Firestore (${Qa}): ${t}`,...n)}}function rt(t,...e){if(os.logLevel<=pe.ERROR){const n=e.map(cT);os.error(`Firestore (${Qa}): ${t}`,...n)}}function vr(t,...e){if(os.logLevel<=pe.WARN){const n=e.map(cT);os.warn(`Firestore (${Qa}): ${t}`,...n)}}function cT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function L(t,e){t||F()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends $n{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class YB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class oue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aue{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new YB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new Ct(e)}}class uue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new uue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.T=n.token,new JB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function due(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class XB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=due(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function Ya(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Ge(0,0))}static max(){return new B(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Al{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Al.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Al{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const hue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Al{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return hue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(he.fromString(e))}static fromName(e){return new M(he.fromString(e).popFirst(5))}static empty(){return new M(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new he(e.slice()))}}function tU(t){return new Gn(t.readTime,t.key,-1)}class Gn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gn(B.min(),M.empty(),-1)}static max(){return new Gn(B.max(),M.empty(),-1)}}function dT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}const nU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function as(t){return hT.apply(this,arguments)}function hT(){return hT=m(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==nU)throw t;S("LocalStore","Unexpectedly lost primary lease")}),hT.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function us(t){return"IndexedDbTransactionError"===t.name}let zn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Nl(t){return null==t}function Rl(t){return 0===t&&1/t==-1/0}function dU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Oe{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ng(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ng(this.root,e,this.comparator,!1)}getReverseIterator(){return new ng(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ng(this.root,e,this.comparator,!0)}}class ng{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=s??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1,Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Vt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fU(this.data.getIterator())}getIteratorFrom(e){return new fU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class fU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Fe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class pU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pU("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const Vue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(t){if(L(!!t),"string"==typeof t){let e=0;const n=Vue.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bi(t){return"string"==typeof t?_t.fromBase64String(t):_t.fromUint8Array(t)}function rg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ig(t){const e=t.mapValue.fields.__previous_value__;return rg(e)?ig(e):e}function kl(t){const e=ls(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}class Bue{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ho{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ho("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}const ds={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rg(t)?4:_U(t)?9007199254740991:10:F()}function qr(t,e){if(t===e)return!0;const n=hs(t);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ls(r.timestampValue),o=ls(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,bi(t.bytesValue).isEqual(bi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Je(r.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(r.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Je(r.integerValue)===Je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Je(r.doubleValue),o=Je(i.doubleValue);return s===o?Rl(s)===Rl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ya(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(dU(s)!==dU(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!qr(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Ol(t,e){return void 0!==(t.values||[]).find(n=>qr(n,e))}function fs(t,e){if(t===e)return 0;const n=hs(t),r=hs(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Je(i.integerValue||i.doubleValue),a=Je(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return gU(t.timestampValue,e.timestampValue);case 4:return gU(kl(t),kl(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=bi(i),a=bi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=K(o[u],a[u]);if(0!==c)return c}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(Je(i.latitude),Je(s.latitude));return 0!==o?o:K(Je(i.longitude),Je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=fs(o[u],a[u]);if(c)return c}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ds.mapValue&&s===ds.mapValue)return 0;if(i===ds.mapValue)return 1;if(s===ds.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=K(a[l],c[l]);if(0!==d)return d;const h=fs(o[a[l]],u[c[l]]);if(0!==h)return h}return K(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function gU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=ls(t),r=ls(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function Xa(t){return gT(t)}function gT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ls(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bi(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=gT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${gT(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function mT(t){return!!t&&"integerValue"in t}function Pl(t){return!!t&&"arrayValue"in t}function mU(t){return!!t&&"nullValue"in t}function yU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ag(t){return!!t&&"mapValue"in t}function Fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _U(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ag(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Fl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ag(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Bt(Fl(this.value))}}function IU(t){const e=[];return cs(t.fields,(n,r)=>{const i=new it([n]);if(ag(r)){const s=IU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}class Le{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Le(e,0,B.min(),B.min(),B.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,i){return new Le(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Le(e,2,n,B.min(),B.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new Le(e,3,n,B.min(),B.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Le&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ps{constructor(e,n){this.position=e,this.inclusive=n}}function EU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):fs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function DU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}class Za{constructor(e,n="asc"){this.field=e,this.dir=n}}function $ue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class CU{}class se extends CU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Hue(e,n,r):"array-contains"===n?new que(e,r):"in"===n?new xU(e,r):"not-in"===n?new Wue(e,r):"array-contains-any"===n?new Kue(e,r):new se(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Gue(e,r):new zue(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(fs(n,this.value)):null!==n&&hs(this.value)===hs(n)&&this.matchesComparison(fs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class De extends CU{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new De(e,n)}matches(e){return eu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function eu(t){return"and"===t.op}function _T(t){return function bU(t){for(const e of t.filters)if(e instanceof De)return!1;return!0}(t)&&eu(t)}function vT(t){if(t instanceof se)return t.field.canonicalString()+t.op.toString()+Xa(t.value);if(_T(t))return t.filters.map(e=>vT(e)).join(",");{const e=t.filters.map(n=>vT(n)).join(",");return`${t.op}(${e})`}}function TU(t,e){return t instanceof se?(n=t,(r=e)instanceof se&&n.op===r.op&&n.field.isEqual(r.field)&&qr(n.value,r.value)):t instanceof De?function(n,r){return r instanceof De&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&TU(s,r.filters[o]),!0)}(t,e):void F();var n,r}function AU(t){return t instanceof se?function(e){return`${e.field.canonicalString()} ${e.op} ${Xa(e.value)}`}(t):t instanceof De?function(e){return e.op.toString()+" {"+e.getFilters().map(AU).join(" ,")+"}"}(t):"Filter"}class Hue extends se{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gue extends se{constructor(e,n){super(e,"in",n),this.keys=MU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zue extends se{constructor(e,n){super(e,"not-in",n),this.keys=MU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class que extends se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pl(n)&&Ol(n.arrayValue,this.value)}}class xU extends se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ol(this.value.arrayValue,n)}}class Wue extends se{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ol(this.value.arrayValue,n)}}class Kue extends se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}class Que{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function wT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Que(t,e,n,r,i,s,o)}function po(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Nl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xa(r)).join(",")),e.dt=n}return e.dt}function Ll(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$ue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DU(t.startAt,e.startAt)&&DU(t.endAt,e.endAt)}function ug(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ti{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function tu(t){return new Ti(t)}function OU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function go(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function lg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function IT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Za(n)),e.wt.push(new Za(it.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Za(it.keyField(),s))}}}return e.wt}function hn(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=wT(e.path,e.collectionGroup,go(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of go(e))n.push(new Za(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ps(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ps(e.startAt.position,e.startAt.inclusive):null;e._t=wT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function dg(t,e,n){return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vl(t,e){return Ll(hn(t),hn(e))&&t.limitType===e.limitType}function PU(t){return`${po(hn(t))}|lt:${t.limitType}`}function CT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>AU(r)).join(", ")}]`),Nl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xa(r)).join(",")),`Target(${n})`}(hn(t))}; limitType=${t.limitType})`}function Bl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of go(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=EU(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,go(n),r)||n.endAt&&!function(i,s,o){const a=EU(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,go(n),r)));var n,r}function LU(t){return(e,n)=>{let r=!1;for(const i of go(t)){const s=Yue(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Yue(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?fs(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hU(this.inner)}size(){return this.innerSize}}const Jue=new Oe(M.comparator);function xn(){return Jue}const VU=new Oe(M.comparator);function Ul(...t){let e=VU;for(const n of t)e=e.insert(n.key,n);return e}function BU(t){let e=VU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return jl()}function UU(){return jl()}function jl(){return new Si(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xue=new Oe(M.comparator),Zue=new Fe(M.comparator);function te(...t){let e=Zue;for(const n of t)e=e.add(n);return e}const ece=new Fe(K);function jU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rl(e)?"-0":e}}function $U(t){return{integerValue:""+t}}function HU(t,e){return function iU(t){return"number"==typeof t&&Number.isInteger(t)&&!Rl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?$U(e):jU(t,e)}class hg{constructor(){this._=void 0}}function tce(t,e,n){return t instanceof nu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&rg(i)&&(i=ig(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof mo?zU(t,e):t instanceof yo?qU(t,e):function(r,i){const s=GU(r,i),o=WU(s)+WU(r.gt);return mT(s)&&mT(r.gt)?$U(o):jU(r.serializer,o)}(t,e)}function nce(t,e,n){return t instanceof mo?zU(t,e):t instanceof yo?qU(t,e):n}function GU(t,e){return t instanceof ru?mT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class nu extends hg{}class mo extends hg{constructor(e){super(),this.elements=e}}function zU(t,e){const n=KU(e);for(const r of t.elements)n.some(i=>qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class yo extends hg{constructor(e){super(),this.elements=e}}function qU(t,e){let n=KU(e);for(const r of t.elements)n=n.filter(i=>!qr(i,r));return{arrayValue:{values:n}}}class ru extends hg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function WU(t){return Je(t.integerValue||t.doubleValue)}function KU(t){return Pl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ice{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class pg{}function QU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new su(t.key,je.none()):new iu(t.key,t.data,je.none());{const n=t.data,r=Bt.empty();let i=new Fe(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ai(t.key,r,new Mn(i.toArray()),je.none())}}function sce(t,e,n){t instanceof iu?function(r,i,s){const o=r.value.clone(),a=XU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ai?function(r,i,s){if(!fg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=XU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(JU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Hl(t,e,n,r){return t instanceof iu?function(i,s,o,a){if(!fg(i.precondition,s))return o;const u=i.value.clone(),c=ZU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ai?function(i,s,o,a){if(!fg(i.precondition,s))return o;const u=ZU(i.fieldTransforms,a,s),c=s.data;return c.setAll(JU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,fg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function oce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=GU(r.transform,i||null);null!=s&&(null===n&&(n=Bt.empty()),n.set(r.field,s))}return n||null}function YU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ya(n,r,(i,s)=>function rce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof mo&&r instanceof mo||n instanceof yo&&r instanceof yo?Ya(n.elements,r.elements,qr):n instanceof ru&&r instanceof ru?qr(n.gt,r.gt):n instanceof nu&&r instanceof nu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class iu extends pg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ai extends pg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XU(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nce(o,a,n[i]))}return r}function ZU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tce(s,o,e))}return r}class su extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TT extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ST{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=QU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(n,r)=>YU(n,r))&&Ya(this.baseMutations,e.baseMutations,(n,r)=>YU(n,r))}}class AT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){L(e.mutations.length===r.length);let i=Xue;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new AT(e,n,r,i)}}class MT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uce{constructor(e,n){this.count=e,this.unchangedNames=n}}var lt,fe;function tj(t){if(void 0===t)return rt("GRPC error has no .code"),I.UNKNOWN;switch(t){case lt.OK:return I.OK;case lt.CANCELLED:return I.CANCELLED;case lt.UNKNOWN:return I.UNKNOWN;case lt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case lt.INTERNAL:return I.INTERNAL;case lt.UNAVAILABLE:return I.UNAVAILABLE;case lt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case lt.NOT_FOUND:return I.NOT_FOUND;case lt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case lt.ABORTED:return I.ABORTED;case lt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case lt.DATA_LOSS:return I.DATA_LOSS;default:return F()}}(fe=lt||(lt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class xT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gg}static getOrCreateInstance(){return null===gg&&(gg=new xT),gg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let gg=null;const cce=new Ka([4294967295,4294967295],0);function rj(t){const e=function nj(){return new TextEncoder}().encode(t),n=new iue;return n.update(e),new Uint8Array(n.digest())}function ij(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ka([n,r],0),new Ka([i,s],0)]}class NT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(r<0)throw new Gl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Gl(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ka.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ka.fromNumber(r)));return 1===i.compare(cce)&&(i=new Ka([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=rj(e),[r,i]=ij(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new NT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=rj(e),[r,i]=ij(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zl(B.min(),i,new Oe(K),xn(),te())}}class ql{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ql(r,n,te(),te(),te())}}class mg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class sj{constructor(e,n){this.targetId=e,this.Vt=n}}class oj{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aj{constructor(){this.St=0,this.Dt=cj(),this.Ct=_t.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=te(),n=te(),r=te();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new ql(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=cj()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=xn(),this.zt=uj(),this.Wt=new Oe(K)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(ug(o))if(0===i){const a=new M(o.path);this.Yt(r,a,Le.newNoDocument(a,B.min()))}else L(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=xT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},T=d.unchangedNames;return T&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=T?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=T?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(y=T?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=bi(s).toUint8Array()}catch(l){if(l instanceof pU)return vr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new NT(u,o,a)}catch(l){return vr(l instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&ug(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Le.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=te();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new zl(e,n,this.Wt,this.jt,r);return this.jt=xn(),this.zt=uj(),this.Wt=new Oe(K),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new aj,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Fe(K),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new aj),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function uj(){return new Oe(M.comparator)}function cj(){return new Oe(M.comparator)}const dce={asc:"ASCENDING",desc:"DESCENDING"},hce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fce={and:"AND",or:"OR"};class pce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function RT(t,e){return t.useProto3Json||Nl(e)?e:{value:e}}function ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gce(t,e){return ou(t,e.toTimestamp())}function st(t){return L(!!t),B.fromTimestamp(function(e){const n=ls(e);return new Ge(n.seconds,n.nanos)}(t))}function kT(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function dj(t){const e=he.fromString(t);return L(wj(e)),e}function Wl(t,e){return kT(t.databaseId,e.path)}function Kr(t,e){const n=dj(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(fj(n))}function OT(t,e){return kT(t.databaseId,e)}function Kl(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fj(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function pj(t,e,n){return{name:Wl(t,e),fields:n.value.mapValue.fields}}function mj(t,e){return{documents:[OT(t,e.path)]}}function FT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=OT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=OT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return vj(De.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:gs((l=c).field),direction:wce(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=RT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function yj(t){let e=function hj(t){const e=dj(t);return 4===e.length?he.emptyPath():fj(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=_j(l);return d instanceof De&&_T(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Za(au((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Nl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ps((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ps(l.values||[],!l.before)}(n.endAt)),function kU(t,e,n,r,i,s,o,a){return new Ti(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function _j(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=au(e.unaryFilter.field);return se.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=au(e.unaryFilter.field);return se.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=au(e.unaryFilter.field);return se.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=au(e.unaryFilter.field);return se.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?function(e){return se.create(au(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return De.create(e.compositeFilter.filters.map(n=>_j(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F()}function wce(t){return dce[t]}function Ice(t){return hce[t]}function Ece(t){return fce[t]}function gs(t){return{fieldPath:t.canonicalString()}}function au(t){return it.fromServerFormat(t.fieldPath)}function vj(t){return t instanceof se?function(e){if("=="===e.op){if(yU(e.value))return{unaryFilter:{field:gs(e.field),op:"IS_NAN"}};if(mU(e.value))return{unaryFilter:{field:gs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yU(e.value))return{unaryFilter:{field:gs(e.field),op:"IS_NOT_NAN"}};if(mU(e.value))return{unaryFilter:{field:gs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(e.field),op:Ice(e.op),value:e.value}}}(t):t instanceof De?function(e){const n=e.getFilters().map(r=>vj(r));return 1===n.length?n[0]:{compositeFilter:{op:Ece(e.op),filters:n}}}(t):F()}function Dce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Mi{constructor(e,n,r,i,s=B.min(),o=B.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ij{constructor(e){this.fe=e}}function LT(t){const e=yj({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?dg(e,e.limit,"L"):e}class Io{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Je(e.integerValue));else if("doubleValue"in e){const r=Je(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Rl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(bi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?_U(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Io.Ve=new Io;class Rce{constructor(){this.rn=new HT}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Gn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Gn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class HT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(he.comparator)).toArray()}}new Uint8Array(0);class Yt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);class Do{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Do(0)}static Mn(){return new Do(-1)}}class Vce{constructor(){this.changes=new Si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Le.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jce{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Wj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Hl(r.mutation,i,Mn.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ul();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xn();const o=jl(),a=jl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ai)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Hl(l.mutation,c,l.mutation.getFieldMask(),Ge.now())):o.set(c.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new jce(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=jl();let i=new Oe((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Mn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||te()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=UU();l.forEach(h=>{if(!s.has(h)){const f=QU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function ET(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Wr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,te())).next(l=>({batchId:a,changes:BU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Ul();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ul();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ti(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Le.newInvalidDocument(c)))});let o=Ul();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Hl(c.mutation,u,Mn.empty(),Ge.now()),Bl(n,u)&&(o=o.insert(a,u))}),o})}}class $ce{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:st(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:LT(r.bundledQuery),readTime:st(r.readTime)}),v.resolve();var r}}class Hce{constructor(){this.overlays=new Oe(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Wr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Wr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Wr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new MT(n,r));let s=this.ls.get(n);void 0===s&&(s=te(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class GT{constructor(){this.fs=new Fe(Tt.ds),this.ws=new Fe(Tt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Tt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new he([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new he([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=te();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||K(e.As,n.As)}static _s(e,n){return K(e.As,n.As)||M.comparator(e.key,n.key)}}class Gce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Fe(Tt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new ST(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(K);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new M(s),0);let a=new Fe(K);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Tt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zce{constructor(e){this.Ds=e,this.docs=new Oe(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Le.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Le.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xn();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dT(tU(l),r)<=0||(i.has(l.key)||Bl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qce(this)}getSize(e){return v.resolve(this.size)}}class qce extends Vce{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Wce{constructor(e){this.persistence=e,this.xs=new Si(n=>po(n),Ll),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new GT,this.targetCount=0,this.Ms=Do.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class zT{constructor(e,n){this.$s={},this.overlays={},this.Os=new zn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wce(this),this.indexManager=new Rce,this.remoteDocumentCache=new zce(r=>this.referenceDelegate.Ls(r)),this.serializer=new Ij(n),this.qs=new $ce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Gce(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new Kce(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Kce extends gue{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Qs=new GT,this.js=null}static zs(e){return new bg(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class QT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new QT(e,n.fromCache,r,i)}}class Qj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(OU(n))return v.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=dg(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=te(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,dg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return OU(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(uT()<=pe.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),CT(n)),this.Wi(e,o,n,function eU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Ge(n+1,0):new Ge(n,r));return new Gn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Fe(LU(e));return n.forEach((i,s)=>{Bl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return uT()<=pe.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",CT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Gn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Yce{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Oe(K),this.Yi=new Si(s=>po(s),Ll),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Jj(t,e){return YT.apply(this,arguments)}function YT(){return YT=m(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=te();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),YT.apply(this,arguments)}function Xj(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Zce(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function du(t,e,n){return JT.apply(this,arguments)}function JT(){return JT=m(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!us(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),JT.apply(this,arguments)}function Ag(t,e,n){const r=x(t);let i=B.min(),s=te();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:te())).next(a=>(function n$(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function FU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class n0{constructor(){this.activeTargetIds=function bT(){return ece}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s${constructor(){this.Hr=new n0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new n0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nle{Yr(e){}shutdown(){}}class o${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ng=null;function s0(){return null===Ng?Ng=268435456+Math.round(2147483648*Math.random()):Ng++,"0x"+Ng.toString(16)}const rle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ile{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Jt="WebChannelConnection";class sle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=s0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw vr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${rle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=s0();return new Promise((o,a)=>{const u=new rue;u.setWithCredentials(!0),u.listenOnce(eue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case aT.NO_ERROR:const l=u.getResponseJson();S(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case aT.TIMEOUT:S(Jt,`RPC '${e}' ${s} timed out`),a(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case aT.HTTP_ERROR:const d=u.getStatus();if(S(Jt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(I.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(Jt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(Jt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=s0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xae(),a=Zae(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new nue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(Jt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new ile({ro:y=>{f?S(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(Jt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(Jt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,w,_)=>{y.listen(w,T=>{try{_(T)}catch(k){setTimeout(()=>{throw k},0)}})};return g(d,Jp.EventType.OPEN,()=>{f||S(Jt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Jp.EventType.CLOSE,()=>{f||(f=!0,S(Jt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Jp.EventType.ERROR,y=>{f||(f=!0,vr(Jt,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new C(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Jp.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];L(!!_);const k=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(k){S(Jt,`RPC '${e}' stream ${i} received error:`,k);const V=k.status;let Z=function(Xt){const Xr=lt[Xt];if(void 0!==Xr)return tj(Xr)}(V),Ae=k.message;void 0===Z&&(Z=I.INTERNAL,Ae="Unknown error status: "+V+" with message "+k.message),f=!0,p.wo(new C(Z,Ae)),d.close()}else S(Jt,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,tue.STAT_EVENT,y=>{y.stat===KB.PROXY?S(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===KB.NOPROXY&&S(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Rg(){return typeof document<"u"?document:null}function id(t){return new pce(t,!0)}class o0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class u${constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new o0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ole extends u${constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function yce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(L(void 0===c||"string"==typeof c),_t.fromBase64String(c||"")):(L(void 0===c||c instanceof Uint8Array),_t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:tj(u.code);return new C(c,u.message||"")}(o);n=new oj(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Kr(t,r.document.name),s=st(r.document.updateTime),o=r.document.createTime?st(r.document.createTime):B.min(),a=new Bt({mapValue:{fields:r.document.fields}}),u=Le.newFoundDocument(i,s,o,a);n=new mg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Kr(t,r.document),s=r.readTime?st(r.readTime):B.min(),o=Le.newNoDocument(i,s);n=new mg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Kr(t,r.document);n=new mg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new uce(i,s);n=new sj(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?st(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Kl(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=ug(a)?{documents:mj(i,a)}:{query:FT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=lj(i,s.resumeToken);const u=RT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=ou(i,s.snapshotVersion.toTimestamp());const u=RT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function vce(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Kl(this.serializer),n.removeTarget=e,this.Wo(n)}}class ale extends u${constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function _ce(t,e){return t&&t.length>0?(L(void 0!==e),t.map(n=>function(r,i){let s=st(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=st(i)),new ice(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=st(e.commitTime);return this.listener.cu(r,n)}return L(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ql(t,e){let n;if(e instanceof iu)n={update:pj(t,e.key,e.value)};else if(e instanceof su)n={delete:Wl(t,e.key)};else if(e instanceof Ai)n={update:pj(t,e.key,e.data),updateMask:Dce(e.fieldMask)};else{if(!(e instanceof TT))return F();n={verify:Wl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof nu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof mo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof yo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ru)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:gce(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.serializer,r))};this.Wo(n)}}class ule extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class lle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rt(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class dle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;vs(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=x(c);l.vu.add(4),yield hu(l),l.bu.set("Unknown"),l.vu.delete(4),yield sd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new lle(r,i)}}function sd(t){return u0.apply(this,arguments)}function u0(){return u0=m(function*(t){if(vs(t))for(const e of t.Ru)yield e(!0)}),u0.apply(this,arguments)}function hu(t){return c0.apply(this,arguments)}function c0(){return c0=m(function*(t){for(const e of t.Ru)yield e(!1)}),c0.apply(this,arguments)}function kg(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),h0(n)?d0(n):pu(n).Ko()&&l0(n,e))}function od(t,e){const n=x(t),r=pu(n);n.Au.delete(e),r.Ko()&&c$(n,e),0===n.Au.size&&(r.Ko()?r.jo():vs(n)&&n.bu.set("Unknown"))}function l0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pu(t).su(e)}function c$(t,e){t.Vu.qt(e),pu(t).iu(e)}function d0(t){t.Vu=new lce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),pu(t).start(),t.bu.gu()}function h0(t){return vs(t)&&!pu(t).Uo()&&t.Au.size>0}function vs(t){return 0===x(t).vu.size}function l$(t){t.Vu=void 0}function hle(t){return f0.apply(this,arguments)}function f0(){return f0=m(function*(t){t.Au.forEach((e,n)=>{l0(t,e)})}),f0.apply(this,arguments)}function fle(t,e){return p0.apply(this,arguments)}function p0(){return p0=m(function*(t,e){l$(t),h0(t)?(t.bu.Iu(e),d0(t)):t.bu.set("Unknown")}),p0.apply(this,arguments)}function ple(t,e,n){return g0.apply(this,arguments)}function g0(){return g0=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof oj&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Og(t,r)}else if(e instanceof mg?t.Vu.Ht(e):e instanceof sj?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield Xj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(_t.EMPTY_BYTE_STRING,c.snapshotVersion)),c$(i,a);const l=new Mi(c.target,a,u,c.sequenceNumber);l0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Og(t,r)}var r}),g0.apply(this,arguments)}function Og(t,e,n){return m0.apply(this,arguments)}function m0(){return m0=m(function*(t,e,n){if(!us(e))throw e;t.vu.add(1),yield hu(t),t.bu.set("Offline"),n||(n=()=>Xj(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield sd(t)}))}),m0.apply(this,arguments)}function d$(t,e){return e().catch(n=>Og(t,n,e))}function fu(t){return y0.apply(this,arguments)}function y0(){return y0=m(function*(t){const e=x(t),n=ws(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;gle(e);)try{const i=yield Zce(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,mle(e,i)}catch(i){yield Og(e,i)}h$(e)&&f$(e)}),y0.apply(this,arguments)}function gle(t){return vs(t)&&t.Eu.length<10}function mle(t,e){t.Eu.push(e);const n=ws(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function h$(t){return vs(t)&&!ws(t).Uo()&&t.Eu.length>0}function f$(t){ws(t).start()}function yle(t){return _0.apply(this,arguments)}function _0(){return _0=m(function*(t){ws(t).hu()}),_0.apply(this,arguments)}function _le(t){return v0.apply(this,arguments)}function v0(){return v0=m(function*(t){const e=ws(t);for(const n of t.Eu)e.uu(n.mutations)}),v0.apply(this,arguments)}function vle(t,e,n){return w0.apply(this,arguments)}function w0(){return w0=m(function*(t,e,n){const r=t.Eu.shift(),i=AT.from(r,e,n);yield d$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield fu(t)}),w0.apply(this,arguments)}function wle(t,e){return I0.apply(this,arguments)}function I0(){return I0=m(function*(t,e){var n;e&&ws(t).ou&&(yield(n=m(function*(r,i){if(function ej(t){switch(t){default:return F();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();ws(r).Qo(),yield d$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield fu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),h$(t)&&f$(t)}),I0.apply(this,arguments)}function p$(t,e){return E0.apply(this,arguments)}function E0(){return E0=m(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=vs(n);n.vu.add(3),yield hu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield sd(n)}),E0.apply(this,arguments)}function C0(){return C0=m(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield sd(n)):e||(n.vu.add(2),yield hu(n),n.bu.set("Unknown"))}),C0.apply(this,arguments)}function pu(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new ole(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:hle.bind(null,t),ao:fle.bind(null,t),nu:ple.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),h0(t)?d0(t):t.bu.set("Unknown")):(yield t.Su.stop(),l$(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ws(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new ale(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:yle.bind(null,t),ao:wle.bind(null,t),au:_le.bind(null,t),cu:vle.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield fu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class b0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new b0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gu(t,e){if(rt("AsyncQueue",`${e}: ${t}`),us(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}class mu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Ul(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new mu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new mu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class g${constructor(){this.Cu=new Oe(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class yu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new yu(e,n,mu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ile{constructor(){this.Nu=void 0,this.listeners=[]}}class Ele{constructor(){this.queries=new Si(e=>PU(e),Vl),this.onlineState="Unknown",this.ku=new Set}}function S0(){return S0=m(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ile),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=gu(o,`Initialization of query '${CT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&x0(n)}),S0.apply(this,arguments)}function M0(){return M0=m(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),M0.apply(this,arguments)}function Dle(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&x0(n)}function Cle(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function x0(t){t.ku.forEach(e=>{e.next()})}class N0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class _${constructor(e){this.key=e}}class v${constructor(e){this.key=e}}class w${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=te(),this.mutatedKeys=te(),this.tc=LU(e),this.ec=new mu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new g$,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Bl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new yu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new g$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=te(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new v$(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new _$(r))}),n}hc(e){this.Yu=e.ir,this.Zu=te();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return yu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Sle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ale{constructor(e){this.key=e,this.fc=!1}}class Mle{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Si(a=>PU(a),Vl),this._c=new Map,this.mc=new Set,this.gc=new Oe(M.comparator),this.yc=new Map,this.Ic=new GT,this.Tc={},this.Ec=new Map,this.Ac=Do.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function xle(t,e){return R0.apply(this,arguments)}function R0(){return R0=m(function*(t,e){const n=function tS(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ble.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kle.bind(null,e),e.dc.nu=Dle.bind(null,e.eventManager),e.dc.Pc=Cle.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function lu(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,hn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function k0(t,e,n,r,i){return O0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&kg(n.remoteStore,o)}return i}),R0.apply(this,arguments)}function O0(){return O0=m(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=m(function*(g,y,w,_){let T=y.view.sc(w);T.zi&&(T=yield Ag(g.localStore,y.query,!1).then(({documents:Z})=>y.view.sc(Z,T)));const k=_&&_.targetChanges.get(y.targetId),V=y.view.applyChanges(T,g.isPrimaryClient,k);return G0(g,y.targetId,V.cc),V.snapshot}),function(g,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Ag(t.localStore,e,!0),o=new w$(e,s.ir),a=o.sc(s.documents),u=ql.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);G0(t,n,c.cc);const l=new Sle(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),O0.apply(this,arguments)}function Nle(t,e){return P0.apply(this,arguments)}function P0(){return P0=m(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Vl(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield du(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),od(n.remoteStore,r.targetId),_u(n,r.targetId)}).catch(as))):(_u(n,r.targetId),yield du(n.localStore,r.targetId,!0))}),P0.apply(this,arguments)}function F0(){return F0=m(function*(t,e,n){const r=function nS(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ole.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ple.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=Ge.now(),c=o.reduce((h,f)=>h.add(f.key),te());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=xn(),p=te();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const w of o){const _=oce(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Ai(w.key,_,IU(_.value.mapValue),je.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:BU(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Oe(K)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield xi(r,i.changes),yield fu(r.remoteStore)}catch(i){const s=gu(i,"Failed to persist write");n.reject(s)}}),F0.apply(this,arguments)}function I$(t,e){return L0.apply(this,arguments)}function L0(){return L0=m(function*(t,e){const n=x(t);try{const r=yield function Xce(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(_t.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=xn(),c=te();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function Zj(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?L(o.fc):i.removedDocuments.size>0&&(L(o.fc),o.fc=!1))}),yield xi(n,r,e)}catch(r){yield as(r)}}),L0.apply(this,arguments)}function E$(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&x0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kle(t,e,n){return V0.apply(this,arguments)}function V0(){return V0=m(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Oe(M.comparator);o=o.insert(s,Le.newNoDocument(s,B.min()));const a=te().add(s),u=new zl(B.min(),new Map,new Oe(K),o,a);yield I$(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),z0(r)}else yield du(r.localStore,e,!1).then(()=>_u(r,e,n)).catch(as)}),V0.apply(this,arguments)}function Ole(t,e){return B0.apply(this,arguments)}function B0(){return B0=m(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function Jce(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);L(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=te();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);H0(n,r,null),$0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield xi(n,i)}catch(i){yield as(i)}}),B0.apply(this,arguments)}function Ple(t,e,n){return U0.apply(this,arguments)}function U0(){return U0=m(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(L(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);H0(r,e,n),$0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield xi(r,i)}catch(i){yield as(i)}}),U0.apply(this,arguments)}function $0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function H0(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function _u(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||D$(t,r)})}function D$(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(od(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),z0(t))}function G0(t,e,n){for(const r of n)r instanceof _$?(t.Ic.addReference(r.key,e),Lle(t,r)):r instanceof v$?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||D$(t,r.key)):F()}function Lle(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),z0(t))}function z0(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(he.fromString(e)),r=t.Ac.next();t.yc.set(r,new Ale(n)),t.gc=t.gc.insert(n,r),kg(t.remoteStore,new Mi(hn(tu(n.path)),r,"TargetPurposeLimboResolution",zn.ct))}}function xi(t,e,n){return q0.apply(this,arguments)}function q0(){return q0=m(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=QT.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!us(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),q0.apply(this,arguments)}function Vle(t,e){return W0.apply(this,arguments)}function W0(){return W0=m(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield Jj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xi(n,r.er)}var i}),W0.apply(this,arguments)}function Ble(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return te().add(r.key);{let i=te();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Pg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=id(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Yj(t,e,n,r){return new Yce(t,e,n,r)}(this.persistence,new Qj,e.initialUser,this.serializer)}createPersistence(e){return new zT(bg.zs,this.serializer)}createSharedClientState(e){return new s$}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vu{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>E$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Vle.bind(null,r.syncEngine),yield function D0(t,e){return C0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ele}createDatastore(e){const n=id(e.databaseInfo.databaseId),r=new sle(e.databaseInfo);return new ule(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>E$(this.syncEngine,a,0),o=o$.D()?new o$:new nle,new dle(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Mle(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=x(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield hu(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Xle{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=XB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=gu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Lg(t,e){return rS.apply(this,arguments)}function rS(){return rS=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield Jj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),rS.apply(this,arguments)}function iS(t,e){return sS.apply(this,arguments)}function sS(){return sS=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function oS(t){return aS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>p$(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>p$(e.remoteStore,s)),t._onlineComponents=e}),sS.apply(this,arguments)}function aS(){return aS=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function M$(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;vr("Error using user provided cache. Falling back to memory cache: "+n),yield Lg(t,new Pg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Lg(t,new Pg);return t._offlineComponents}),aS.apply(this,arguments)}function Vg(t){return uS.apply(this,arguments)}function uS(){return uS=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield iS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield iS(t,new vu))),t._onlineComponents}),uS.apply(this,arguments)}function lS(){return lS=m(function*(t){const e=yield Vg(t),n=e.eventManager;return n.onListen=xle.bind(null,e.syncEngine),n.onUnlisten=Nle.bind(null,e.syncEngine),n}),lS.apply(this,arguments)}function O$(t,e,n={}){const r=new yt;return t.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new Fg({next:d=>{s.enqueueAndForget(()=>function A0(t,e){return M0.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new C(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new N0(o,c,{includeMetadataChanges:!0,Ku:!0});return function T0(t,e){return S0.apply(this,arguments)}(i,l)}(yield function wu(t){return lS.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function P$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const F$=new Map;function dS(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L$(t){if(!M.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V$(t){if(M.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ug(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ug(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class U${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ade(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=P$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ad{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new sue;switch(n.type){case"firstParty":return new cue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=F$.get(e);n&&(S("ComponentProvider","Removing Datastore"),F$.delete(e),n.terminate())}(this),Promise.resolve()}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}}class Ut{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ut(this.firestore,e,this._query)}}class Qr extends Ut{constructor(e,n,r){super(e,n,tu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new M(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function cde(t,e,...n){if(t=Tn(t),dS("collection","path",e),t instanceof ad){const r=he.fromString(e,...n);return V$(r),new Qr(t,null,r)}{if(!(t instanceof ot||t instanceof Qr))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return V$(r),new Qr(t.firestore,null,r)}}function j$(t,e,...n){if(t=Tn(t),1===arguments.length&&(e=XB.A()),dS("doc","path",e),t instanceof ad){const r=he.fromString(e,...n);return L$(r),new ot(t,null,new M(r))}{if(!(t instanceof ot||t instanceof Qr))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return L$(r),new ot(t.firestore,t instanceof Qr?t.converter:null,new M(r))}}class lde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new o0(this,"async_queue_retry"),this.Xc=()=>{const n=Rg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Rg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Rg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new yt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!us(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=b0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ve extends ad{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||H$(this),this._firestoreClient.terminate()}}function hde(t,e){const r="string"==typeof t?t:e||"(default)",i=function FF(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:VF(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=jf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function ude(t,e,n,r={}){var i;const s=(t=oe(t,ad))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ct.MOCK_USER;else{a=function dX(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Na(JSON.stringify({alg:"none",type:"JWT"})),Na(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ct(c)}t._authCredentials=new oue(new YB(a,u))}}(i,...s)}return i}function dt(t){return t._firestoreClient||H$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function H$(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Bue(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,P$(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Xle(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(_t.fromBase64String(e))}catch(n){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Iu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fS{constructor(e){this._methodName=e}}class pS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const pde=/^__.*__$/;class gde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class q${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function W$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class jg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new jg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Hg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(W$(this.ca)&&pde.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||id(e)}ya(e,n,r,i=!1){return new jg({ca:e,methodName:n,ga:r,path:it.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eu(t){const e=t._freezeSettings(),n=id(t._databaseId);return new mde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);yS("Data must be an object, but it was:",o,r);const a=X$(r,o);let u,c;if(s.merge)u=new Mn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=ld(e,d,n);if(!o.contains(h))throw new C(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);eH(l,h)||l.push(h)}u=new Mn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new gde(new Bt(a),u,c)}class cd extends fS{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}function To(t,e){if(Z$(t=Tn(t)))return yS("Unsupported field value:",e,t),X$(t,e);if(t instanceof fS)return function(n,r){if(!W$(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=To(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Tn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return HU(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ge.fromDate(n);return{timestampValue:ou(r.serializer,i)}}if(n instanceof Ge){const i=new Ge(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ou(r.serializer,i)}}if(n instanceof pS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bo)return{bytesValue:lj(r.serializer,n._byteString)};if(n instanceof ot){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Ug(n)}`)}(t,e)}function X$(t,e){const n={};return hU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(r,i)=>{const s=To(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Z$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof pS||t instanceof bo||t instanceof ot||t instanceof fS)}function yS(t,e,n){if(!Z$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ug(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function ld(t,e,n){if((e=Tn(e))instanceof Iu)return e._internalPath;if("string"==typeof e)return $g(t,e);throw Hg("Field path arguments must be of type string or ",t,!1,void 0,n)}const wde=new RegExp("[~\\*/\\[\\]]");function $g(t,e,n){if(e.search(wde)>=0)throw Hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iu(...e.split("."))._internalPath}catch{throw Hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}function eH(t,e){return t.some(n=>n.isEqual(e))}class _S{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ide(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ide extends _S{data(){return super.data()}}function Gg(t,e){return"string"==typeof e?$g(t,e):e instanceof Iu?e._internalPath:e._delegate._internalPath}class Dde{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new pS(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ig(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=ls(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);L(wj(r));const i=new ho(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class So{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cu extends _S{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kg extends Cu{data(e={}){return super.data(e)}}class bu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new So(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kg(this._firestore,this._userDataWriter,r.key,r,new So(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Kg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new So(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Kg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new So(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:bde(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Is extends Dde{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function Tde(t){t=oe(t,Ut);const e=oe(t.firestore,Ve),n=dt(e),r=new Is(e);return function tH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),O$(n,t._query).then(i=>new bu(e,r,t,i))}function Sde(t,e,n,...r){t=oe(t,ot);const i=oe(t.firestore,Ve),s=Eu(i);let o;return o="string"==typeof(e=Tn(e))||e instanceof Iu?function Y$(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[ld(e,r,n)],u=[i];if(s.length%2!=0)throw new C(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(ld(e,s[h])),u.push(s[h+1]);const c=[],l=Bt.empty();for(let h=a.length-1;h>=0;--h)if(!eH(c,a[h])){const f=a[h];let p=u[h];p=Tn(p);const g=o.da(f);if(p instanceof cd)c.push(f);else{const y=To(p,g);null!=y&&(c.push(f),l.set(f,y))}}const d=new Mn(c);return new q$(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function Q$(t,e,n,r){const i=t.ya(1,e,n);yS("Data must be an object, but it was:",i,r);const s=[],o=Bt.empty();cs(r,(u,c)=>{const l=$g(e,u,n);c=Tn(c);const d=i.da(l);if(c instanceof cd)s.push(l);else{const h=To(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Mn(s);return new q$(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),hd(i,[o.toMutation(t._key,je.exists(!0))])}function Ade(t){return hd(oe(t.firestore,Ve),[new su(t._key,je.none())])}function Mde(t,e){const n=oe(t.firestore,Ve),r=j$(t),i=function wS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return hd(n,[gS(Eu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}function hd(t,e){return function(n,r){const i=new yt;return n.asyncQueue.enqueueAndForget(m(function*(){return function Rle(t,e,n){return F0.apply(this,arguments)}(yield function cS(t){return Vg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(dt(t),e)}!function(t,e=!0){Qa=qf,ka(new mt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ve(new aue(n.getProvider("auth-internal")),new lue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),tr(QB,"3.13.0",t),tr(QB,"3.13.0","esm2017")}();class Yg{constructor(e){return e}}const cH="firestore",ES=new P("angularfire2.firestore-instances");function Hde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Yg(r)}}const Gde={provide:class jde{constructor(){return zE(cH)}},deps:[[new wn,ES]]},zde={provide:Yg,useFactory:function $de(t,e){const n=function GE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(cH,t,e);return n&&new Yg(n)},deps:[[new wn,ES],La]};let qde=(()=>{class t{constructor(){tr("angularfire",FE.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mn({type:t}),t.\u0275inj=Zt({providers:[zde,Gde]}),t})();function Wde(t,...e){return{ngModule:qde,providers:[{provide:ES,useFactory:Hde(t),multi:!0,deps:[we,Ht,s2,o2,[new wn,lV],[new wn,RV],...e]}]}}const Kde=es(Mde,!0),lH=es(cde,!0),Qde=es(Ade,!0),dH=es(j$,!0),Yde=es(Tde,!0),Jde=es(hde,!0),Xde=es(Sde,!0);let hH=(()=>{class t{constructor(){this.firestore=O(Yg)}guardarDatosEnFirebase(n){var r=this;return m(function*(){return""==n.id?yield Kde(lH(r.firestore,"entradas"),{ccolor:""==n.ccolor?"#FFFFFFF":n.ccolor,title:n.title,citas:n.citas,content:n.content}):yield Xde(dH(r.firestore,"entradas",n.id),{ccolor:""==n.ccolor?"#FFFFFFF":n.ccolor,title:n.title,citas:n.citas,content:n.content})})()}getData(){var n=this;return m(function*(){const r=lH(n.firestore,"entradas");return yield Yde(r)})()}deleteItem(n){var r=this;return m(function*(){yield Qde(dH(r.firestore,"entradas",n))})()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ehe=function(){function t(e,n,r){this.el=e,this.vcr=n,this.renderer=r,this.dtOptions={}}return t.prototype.ngOnInit=function(){var e=this;this.dtTrigger?this.dtTrigger.subscribe(function(n){e.displayTable(n)}):this.displayTable(null)},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(e){var n=this;e&&(this.dtOptions=e),this.dtInstance=new Promise(function(r,i){Promise.resolve(n.dtOptions).then(function(s){0===Object.keys(s).length&&0===$("tbody tr",n.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):setTimeout(function(){var a={rowCallback:function(u,c,l){if(s.columns){var d=s.columns;n.applyNgPipeTransform(u,d),n.applyNgRefTemplate(u,d,c)}s.rowCallback&&s.rowCallback(u,c,l)}};a=Object.assign({},s,a),n.dt=$(n.el.nativeElement).DataTable(a),r(n.dt)})})})},t.prototype.applyNgPipeTransform=function(e,n){n.filter(function(i){return i.ngPipeInstance&&!i.ngTemplateRef}).forEach(function(i){var s=i.ngPipeInstance,o=i.ngPipeArgs||[],a=n.filter(function(d){return!1!==d.visible}).findIndex(function(d){return d.data===i.data}),u=e.childNodes.item(a),c=$(u).text(),l=s.transform.apply(s,function(t,e,n){if(n||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}([c],o,!1));$(u).text(l)})},t.prototype.applyNgRefTemplate=function(e,n,r){var i=this;n.filter(function(o){return o.ngTemplateRef&&!o.ngPipeInstance}).forEach(function(o){var a,u=(a=o.ngTemplateRef).ref,c=a.context,l=n.filter(function(p){return!1!==p.visible}).findIndex(function(p){return p.data===o.data}),d=e.childNodes.item(l);$(d).html("");var h=Object.assign({},c,c?.userData,{adtData:r}),f=i.vcr.createEmbeddedView(u,h);i.renderer.appendChild(d,f.rootNodes[0])})},t.\u0275fac=function(n){return new(n||t)(D(En),D(Bn),D(Nr))},t.\u0275dir=H({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),the=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mn({type:t}),t.\u0275inj=Zt({imports:[zv]}),t}();function Jg(t){return ht((e,n)=>{Nn(t).subscribe(at(n,()=>n.complete(),vm)),!n.closed&&e.subscribe(n)})}const DS=new P("@sweetalert2/ngx-sweetalert2#swalProvider"),CS=new P("@sweetalert2/ngx-sweetalert2#fireOnInit"),bS=new P("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let TS=(()=>{class t{swalProvider;swalPromiseCache;constructor(n){this.swalProvider=n}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const n=function r(s){return"function"==typeof s&&void 0===s.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=n.then(s=>function i(s){return"function"==typeof s}(s)?s:s.default)}static \u0275fac=function(r){return new(r||t)(U(DS))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),fH=(()=>{class t{sweetAlert2Loader;moduleLevelFireOnInit;moduleLevelDismissOnDestroy;title;titleText;text;html;footer;icon;iconColor;iconHtml;backdrop;toast;target;input;width;padding;background;position;grow;showClass;hideClass;customClass;timer;timerProgressBar;heightAuto;allowOutsideClick;allowEscapeKey;allowEnterKey;stopKeydownPropagation;keydownListenerCapture;showConfirmButton;showDenyButton;showCancelButton;confirmButtonText;denyButtonText;cancelButtonText;confirmButtonColor;denyButtonColor;cancelButtonColor;confirmButtonAriaLabel;denyButtonAriaLabel;cancelButtonAriaLabel;buttonsStyling;reverseButtons;focusConfirm;focusDeny;focusCancel;showCloseButton;closeButtonHtml;closeButtonAriaLabel;loaderHtml;showLoaderOnConfirm;preConfirm;preDeny;imageUrl;imageWidth;imageHeight;imageAlt;inputLabel;inputPlaceholder;inputValue;inputOptions;inputAutoTrim;inputAttributes;inputValidator;returnInputValueOnDeny;validationMessage;progressSteps;currentProgressStep;progressStepsDistance;scrollbarPadding;set swalOptions(n){Object.assign(this,n),Object.keys(n).forEach(this.markTouched)}get swalOptions(){return[...this.touchedProps].reduce((n,r)=>({...n,[r]:this[r]}),{})}swalFireOnInit;swalDismissOnDestroy;set swalVisible(n){n?this.fire():this.close()}get swalVisible(){return this.isCurrentlyShown}willOpen=new ce;didOpen=new ce;didRender=new ce;willClose=new ce;didClose=new ce;didDestroy=new ce;confirm=new ce;deny=new ce;dismiss=new ce;touchedProps=new Set;markTouched=this.touchedProps.add.bind(this.touchedProps);isCurrentlyShown=!1;constructor(n,r,i){this.sweetAlert2Loader=n,this.moduleLevelFireOnInit=r,this.moduleLevelDismissOnDestroy=i}ngOnInit(){this.sweetAlert2Loader.preloadSweetAlertLibrary()}ngAfterViewInit(){(void 0===this.swalFireOnInit?this.moduleLevelFireOnInit:this.swalFireOnInit)&&this.fire()}ngOnChanges(n){Object.keys(n).filter(r=>!r.startsWith("swal")).forEach(this.markTouched),this.update()}ngOnDestroy(){(void 0===this.swalDismissOnDestroy?this.moduleLevelDismissOnDestroy:this.swalDismissOnDestroy)&&this.close()}fire(){var n=this;return m(function*(){const r=yield n.sweetAlert2Loader.swal,i=n.swalOptions,s={...i,willOpen:a(i.willOpen,u=>{n.willOpen.emit({modalElement:u})}),didOpen:a(i.didOpen,u=>{n.isCurrentlyShown=!0,n.didOpen.emit({modalElement:u})}),didRender:a(i.didRender,u=>{n.didRender.emit({modalElement:u})}),willClose:a(i.willClose,u=>{n.isCurrentlyShown=!1,n.willClose.emit({modalElement:u})}),didClose:a(i.didClose,()=>{n.didClose.emit()}),didDestroy:a(i.didDestroy,()=>{n.didDestroy.emit()})},o=yield r.fire(s);switch(!0){case o.isConfirmed:n.confirm.emit(o.value);break;case o.isDenied:n.deny.emit();break;case o.isDismissed:n.dismiss.emit(o.dismiss)}return o;function a(u,c){return(...l)=>(c(...l),u?.(...l))}})()}close(n){var r=this;return m(function*(){r.isCurrentlyShown&&(yield r.sweetAlert2Loader.swal).close(n)})()}update(n){var r=this;return m(function*(){if(n&&(r.swalOptions=n),!r.isCurrentlyShown)return;const i=yield r.sweetAlert2Loader.swal,s=r.swalOptions,o=Object.keys(s).filter(i.isUpdatableParameter).reduce((a,u)=>({...a,[u]:s[u]}),{});i.update(o)})()}static \u0275fac=function(r){return new(r||t)(D(TS),D(CS),D(bS))};static \u0275cmp=Oo({type:t,selectors:[["swal"]],inputs:{title:"title",titleText:"titleText",text:"text",html:"html",footer:"footer",icon:"icon",iconColor:"iconColor",iconHtml:"iconHtml",backdrop:"backdrop",toast:"toast",target:"target",input:"input",width:"width",padding:"padding",background:"background",position:"position",grow:"grow",showClass:"showClass",hideClass:"hideClass",customClass:"customClass",timer:"timer",timerProgressBar:"timerProgressBar",heightAuto:"heightAuto",allowOutsideClick:"allowOutsideClick",allowEscapeKey:"allowEscapeKey",allowEnterKey:"allowEnterKey",stopKeydownPropagation:"stopKeydownPropagation",keydownListenerCapture:"keydownListenerCapture",showConfirmButton:"showConfirmButton",showDenyButton:"showDenyButton",showCancelButton:"showCancelButton",confirmButtonText:"confirmButtonText",denyButtonText:"denyButtonText",cancelButtonText:"cancelButtonText",confirmButtonColor:"confirmButtonColor",denyButtonColor:"denyButtonColor",cancelButtonColor:"cancelButtonColor",confirmButtonAriaLabel:"confirmButtonAriaLabel",denyButtonAriaLabel:"denyButtonAriaLabel",cancelButtonAriaLabel:"cancelButtonAriaLabel",buttonsStyling:"buttonsStyling",reverseButtons:"reverseButtons",focusConfirm:"focusConfirm",focusDeny:"focusDeny",focusCancel:"focusCancel",showCloseButton:"showCloseButton",closeButtonHtml:"closeButtonHtml",closeButtonAriaLabel:"closeButtonAriaLabel",loaderHtml:"loaderHtml",showLoaderOnConfirm:"showLoaderOnConfirm",preConfirm:"preConfirm",preDeny:"preDeny",imageUrl:"imageUrl",imageWidth:"imageWidth",imageHeight:"imageHeight",imageAlt:"imageAlt",inputLabel:"inputLabel",inputPlaceholder:"inputPlaceholder",inputValue:"inputValue",inputOptions:"inputOptions",inputAutoTrim:"inputAutoTrim",inputAttributes:"inputAttributes",inputValidator:"inputValidator",returnInputValueOnDeny:"returnInputValueOnDeny",validationMessage:"validationMessage",progressSteps:"progressSteps",currentProgressStep:"currentProgressStep",progressStepsDistance:"progressStepsDistance",scrollbarPadding:"scrollbarPadding",swalOptions:"swalOptions",swalFireOnInit:"swalFireOnInit",swalDismissOnDestroy:"swalDismissOnDestroy",swalVisible:"swalVisible"},outputs:{willOpen:"willOpen",didOpen:"didOpen",didRender:"didRender",willClose:"willClose",didClose:"didClose",didDestroy:"didDestroy",confirm:"confirm",deny:"deny",dismiss:"dismiss"},features:[On],decls:0,vars:0,template:function(r,i){},encapsulation:2,changeDetection:0})}return t})(),nhe=(()=>{class t{viewContainerRef;resolver;set swal(n){n instanceof fH?this.swalInstance=n:function r(i){return Array.isArray(n)}()?(this.swalOptions={},[this.swalOptions.title,this.swalOptions.text,this.swalOptions.icon]=n):this.swalOptions=n}confirm=new ce;deny=new ce;dismiss=new ce;swalRef;swalInstance;swalOptions;constructor(n,r){this.viewContainerRef=n,this.resolver=r}ngOnInit(){if(!this.swalInstance){const n=this.resolver.resolveComponentFactory(fH);this.swalRef=this.viewContainerRef.createComponent(n),this.swalInstance=this.swalRef.instance}}ngOnDestroy(){this.swalRef&&this.swalRef.destroy()}onClick(n){if(n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation(),!this.swalInstance)return;this.swalOptions&&(this.swalInstance.swalOptions=this.swalOptions);const r=new pn;this.swalInstance.confirm.asObservable().pipe(Jg(r)).subscribe(i=>this.confirm.emit(i)),this.swalInstance.deny.asObservable().pipe(Jg(r)).subscribe(i=>this.deny.emit(i)),this.swalInstance.dismiss.asObservable().pipe(Jg(r)).subscribe(i=>this.dismiss.emit(i)),this.swalInstance.fire().then(()=>r.next())}static \u0275fac=function(r){return new(r||t)(D(Bn),D(fc))};static \u0275dir=H({type:t,selectors:[["","swal",""]],hostBindings:function(r,i){1&r&&et("click",function(o){return i.onClick(o)})},inputs:{swal:"swal"},outputs:{confirm:"confirm",deny:"deny",dismiss:"dismiss"}})}return t})();function rhe(){return xd.e(519).then(xd.t.bind(xd,519,19))}let ihe=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[TS,{provide:DS,useValue:n.provideSwal||rhe},{provide:CS,useValue:n.fireOnInit||!1},{provide:bS,useValue:n.dismissOnDestroy||!0}]}}static forChild(n={}){return{ngModule:t,providers:[...n.provideSwal?[TS,{provide:DS,useValue:n.provideSwal}]:[],...void 0!==n.fireOnInit?[{provide:CS,useValue:n.fireOnInit}]:[],...void 0!==n.dismissOnDestroy?[{provide:bS,useValue:n.dismissOnDestroy}]:[]]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=mn({type:t});static \u0275inj=Zt({imports:[zv]})}return t})();function she(t,e){if(1&t&&(le(0,"span")(1,"a",33),tt(2),de()()),2&t){const n=e.$implicit,r=e.index;Gt(1),L_("href",n,Hy),Gt(1),Jh("Link #",r,"")}}const ohe=function(){return{title:"Borrar",text:"\xbfEstas segura?",showCancelButton:!0}};function ahe(t,e){if(1&t){const n=function DR(){return E()}();le(0,"tr")(1,"td",29),Hi(2,"i",30),de(),le(3,"td"),tt(4),de(),le(5,"td"),tt(6),de(),le(7,"td"),R_(8,she,3,2,"span",28),de(),le(9,"td")(10,"button",31),et("click",function(){const s=ry(n).$implicit;return iy(F_().editarItem(s))}),tt(11,"Editar"),de(),le(12,"button",32),et("confirm",function(){const s=ry(n).$implicit;return iy(F_().deleteItem(s.id))}),tt(13,"Borrar"),de()()()}if(2&t){const n=e.$implicit;Gt(2),$_("background-color",n.ccolor),Gt(2),bc(n.title),Gt(2),bc(n.citas),Gt(2),dr("ngForOf",n.content.split(" ")),Gt(4),dr("swal",Zk(6,ohe))}}let pH=(()=>{class t{constructor(n){this.sanitizer=n,this.nuevoValor={id:"",ccolor:"",title:"",citas:"",content:""},this.datGuada="",this.dtOptions={},this.dtTrigger=new pn,this.globalValues=[],this.firebaseService=O(hH)}ngOnInit(){var n=this;return m(function*(){n.dtOptions={pagingType:"full_numbers",language:{processing:"Procesando...",search:"Buscar:",lengthMenu:"Mostrar _MENU_ elementos",info:"Mostrando desde _START_ al _END_ de _TOTAL_ elementos",infoEmpty:"Mostrando ning\xfan elemento.",infoFiltered:"(filtrado _MAX_ elementos total)",infoPostFix:"",loadingRecords:"Cargando registros...",zeroRecords:"No se encontraron registros",emptyTable:"No hay datos disponibles en la tabla",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"\xdaltimo"},aria:{sortAscending:": Activar para ordenar la tabla en orden ascendente",sortDescending:": Activar para ordenar la tabla en orden descendente"}}},(yield n.firebaseService.getData()).forEach(i=>{n.globalValues.push({id:i.id,ccolor:i.data().ccolor,title:i.data().title,citas:i.data().citas,content:i.data().content})}),n.dtTrigger.next(null)})()}guardarValorGlobal(){this.datGuada="",this.firebaseService.guardarDatosEnFirebase(this.nuevoValor).then(n=>{let r="guardados";""!=this.nuevoValor.id&&(r="modificados"),this.datGuada="Datos "+r+" con \xe9xito en Firebase",this.nuevoValor={id:"",ccolor:"",title:"",citas:"",content:""},window.location.reload()}).catch(n=>{console.error("Error al guardar los datos en Firebase:",n),this.datGuada=""})}editarItem(n){this.nuevoValor={id:n.id,ccolor:n.ccolor,title:n.title,citas:n.citas,content:n.content}}deleteItem(n){this.firebaseService.deleteItem(n),window.location.reload()}static#e=this.\u0275fac=function(r){return new(r||t)(D(cP))};static#t=this.\u0275cmp=Oo({type:t,selectors:[["app-new-tema"]],decls:56,vars:9,consts:[[1,"card","card-pink"],[1,"card-header"],[1,"card-title"],[3,"submit"],["type","hidden","id","id","name","id",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-body"],[1,"row"],[1,"col-1"],[1,"form-group"],["for","ccolor"],["type","color","id","ccolor","name","ccolor",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3"],["for","title"],["type","text","id","title","name","title","placeholder","Ingresa el T\xedtulo",1,"form-control",3,"ngModel","ngModelChange"],["for","citas"],["type","text","id","citas","name","citas","placeholder","Citas y/o Palabras Claves",1,"form-control",3,"ngModel","ngModelChange"],["for","content"],["id","content","name","content","placeholder","Ingresa el/los link(s)",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-2"],["for","content",1,"d-block"],["type","submit",1,"btn","btn-outline-danger"],[1,"ml-5"],[1,""],["datatable","",1,"table","table-bordered","table-sm","table-striped","table-hover",3,"dtOptions","dtTrigger"],[1,"",2,"width","5%"],[1,"",2,"width","30%"],[1,"",2,"width","25%"],[1,"",2,"width","10%"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"fa","fa-2x","fa-500px","rounded-circle"],[1,"btn","btn-xs","btn-outline-danger","ml-3","mr-3",3,"click"],[1,"btn","btn-xs","btn-outline-dark","ml-3","mr-3",3,"swal","confirm"],["target","_blank",1,"btn","btn-outline-warning","btn-sm","ml-2","mb-2",3,"href"]],template:function(r,i){1&r&&(le(0,"div",0)(1,"div",1)(2,"h5",2),tt(3,"Formulario"),de()(),le(4,"form",3),et("submit",function(){return i.guardarValorGlobal()}),le(5,"input",4),et("ngModelChange",function(o){return i.nuevoValor.id=o}),de(),le(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),tt(11,"CC"),de(),le(12,"input",10),et("ngModelChange",function(o){return i.nuevoValor.ccolor=o}),de()()(),le(13,"div",11)(14,"div",8)(15,"label",12),tt(16,"T\xedtulo"),de(),le(17,"input",13),et("ngModelChange",function(o){return i.nuevoValor.title=o}),de()()(),le(18,"div",11)(19,"div",8)(20,"label",14),tt(21,"Citas/Palabras Claves"),de(),le(22,"input",15),et("ngModelChange",function(o){return i.nuevoValor.citas=o}),de()()(),le(23,"div",11)(24,"div",8)(25,"label",16),tt(26,"Links"),de(),le(27,"textarea",17),et("ngModelChange",function(o){return i.nuevoValor.content=o}),de()()(),le(28,"div",18)(29,"div",8)(30,"label",19),tt(31,"\xa0"),de(),le(32,"button",20),tt(33,"Guardar"),de()()(),le(34,"label",21),tt(35),de()()()()(),le(36,"div",0)(37,"div",1)(38,"h5",2),tt(39,"Resultados"),de()(),le(40,"div",5)(41,"div",22)(42,"table",23)(43,"thead")(44,"tr")(45,"th",24),tt(46,"CC"),de(),le(47,"th",25),tt(48,"T\xedtulo"),de(),le(49,"th",25),tt(50,"Citas/Palabras Claves"),de(),le(51,"th",26),tt(52,"Links"),de(),Hi(53,"th",27),de()(),le(54,"tbody"),R_(55,ahe,14,7,"tr",28),de()()()()()),2&r&&(Gt(5),dr("ngModel",i.nuevoValor.id),Gt(7),dr("ngModel",i.nuevoValor.ccolor),Gt(5),dr("ngModel",i.nuevoValor.title),Gt(5),dr("ngModel",i.nuevoValor.citas),Gt(5),dr("ngModel",i.nuevoValor.content),Gt(8),bc(i.datGuada),Gt(7),dr("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),Gt(13),dr("ngForOf",i.globalValues))},dependencies:[FO,tF,Af,UP,jP,pw,Bf,ehe,nhe]})}return t})(),uhe=(()=>{class t{constructor(){this.title="finderluzy"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Oo({type:t,selectors:[["app-root"]],decls:20,vars:0,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],[1,"hold-transition","sidebar-mini"],[1,"wrapper"],[1,""],[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12","text-center"],[1,"h4"],[1,"content"],[1,"col-12"],[1,"control-sidebar","control-sidebar-dark"]],template:function(r,i){1&r&&(le(0,"html",0)(1,"head"),Hi(2,"meta",1)(3,"meta",2),le(4,"title"),tt(5,"Buscador Luzy"),de()(),le(6,"body",3)(7,"div",4)(8,"div",5)(9,"section",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"span",10),tt(14,"Buscador B\xedblico"),de()()()()(),le(15,"section",11)(16,"div",7)(17,"div",8),Hi(18,"app-new-tema",12),de()()()(),Hi(19,"aside",13),de()()())},dependencies:[pH]})}return t})();function SS(...t){const e=Lu(t),n=DA(t),{args:r,keys:i}=hP(t);if(0===r.length)return vt([],e);const s=new ze(function lhe(t,e,n=ki){return r=>{gH(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)gH(e,()=>{const c=vt(t[u],e);let l=!1;c.subscribe(at(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>pP(i,o):ki));return n?s.pipe(fP(n)):s}function gH(t,e,n){t?Zr(n,t,e):e()}const Xg=ym(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function AS(...t){return function dhe(){return Ro(1)}()(vt(t,Lu(t)))}function mH(t){return new ze(e=>{Nn(t()).subscribe(e)})}function fd(t,e){const n=be(t)?t:()=>t,r=i=>i.error(n());return new ze(e?i=>e.schedule(r,0,i):r)}function MS(){return ht((t,e)=>{let n=null;t._refCount++;const r=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class yH extends ze{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,uA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fn;const n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fn.EMPTY)}return e}refCount(){return MS()(this)}}function Tu(t){return t<=0?()=>Er:ht((e,n)=>{let r=0;e.subscribe(at(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Es(t,e){return ht((n,r)=>{let i=0;n.subscribe(at(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zg(t){return ht((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _H(t=fhe){return ht((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fhe(){return new Xg}function Ao(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Es((i,s)=>t(i,s,r)):ki,Tu(1),n?Zg(e):_H(()=>new Xg))}function pd(t,e){return be(e)?St(t,e,1):St(t,1)}function Mo(t){return ht((e,n)=>{let s,r=null,i=!1;r=e.subscribe(at(n,void 0,void 0,o=>{s=Nn(t(o,Mo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function xS(t){return t<=0?()=>Er:ht((e,n)=>{let r=[];e.subscribe(at(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function NS(t){return ht((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ne="primary",gd=Symbol("RouteTitle");class _he{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Su(t){return new _he(t)}function vhe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Yr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vH(t[i],e[i]))return!1;return!0}function vH(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function wH(t){return t.length>0?t[t.length-1]:null}function Ds(t){return function che(t){return!!t&&(t instanceof ze||be(t.lift)&&be(t.subscribe))}(t)?t:Dc(t)?vt(Promise.resolve(t)):W(t)}const Ihe={exact:function DH(t,e,n){if(!xo(t.segments,e.segments)||!em(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!DH(t.children[r],e.children[r],n))return!1;return!0},subset:CH},IH={exact:function Ehe(t,e){return Yr(t,e)},subset:function Dhe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vH(t[n],e[n]))},ignored:()=>!0};function EH(t,e,n){return Ihe[n.paths](t.root,e.root,n.matrixParams)&&IH[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function CH(t,e,n){return bH(t,e,e.segments,n)}function bH(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!xo(i,n)||e.hasChildren()||!em(i,n,r))}if(t.segments.length===n.length){if(!xo(t.segments,n)||!em(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!CH(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(xo(t.segments,i)&&em(t.segments,i,r)&&t.children[ne])&&bH(t.children[ne],e,s,r)}}function em(t,e,n){return e.every((r,i)=>IH[n](t[i].parameters,r.parameters))}class Au{constructor(e=new Ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Su(this.queryParams)),this._queryParamMap}toString(){return The.serialize(this)}}class Ce{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tm(this)}}class md{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Su(this.parameters)),this._parameterMap}toString(){return AH(this)}}function xo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let yd=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new RS},providedIn:"root"})}return t})();class RS{parse(e){const n=new Lhe(e);return new Au(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${_d(e.root,!0)}`,r=function Mhe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${nm(n)}=${nm(i)}`).join("&"):`${nm(n)}=${nm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function She(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const The=new RS;function tm(t){return t.segments.map(e=>AH(e)).join("/")}function _d(t,e){if(!t.hasChildren())return tm(t);if(e){const n=t.children[ne]?_d(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${_d(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function bhe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ne?[_d(t.children[ne],!1)]:[`${i}:${_d(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ne]?`${tm(t)}/${n[0]}`:`${tm(t)}/(${n.join("//")})`}}function TH(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nm(t){return TH(t).replace(/%3B/gi,";")}function kS(t){return TH(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rm(t){return decodeURIComponent(t)}function SH(t){return rm(t.replace(/\+/g,"%20"))}function AH(t){return`${kS(t.path)}${function Ahe(t){return Object.keys(t).map(e=>`;${kS(e)}=${kS(t[e])}`).join("")}(t.parameters)}`}const xhe=/^[^\/()?;#]+/;function OS(t){const e=t.match(xhe);return e?e[0]:""}const Nhe=/^[^\/()?;=#]+/,khe=/^[^=?&#]+/,Phe=/^[^&#]+/;class Lhe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new Ce(e,n)),r}parseSegment(){const e=OS(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new md(rm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Rhe(t){const e=t.match(Nhe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=OS(this.remaining);i&&(r=i,this.capture(r))}e[rm(n)]=rm(r)}parseQueryParam(e){const n=function Ohe(t){const e=t.match(khe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Fhe(t){const e=t.match(Phe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=SH(n),s=SH(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=OS(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ne]:new Ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function MH(t){return t.segments.length>0?new Ce([],{[ne]:t}):t}function xH(t){const e={};for(const r of Object.keys(t.children)){const s=xH(t.children[r]);if(r===ne&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Vhe(t){if(1===t.numberOfChildren&&t.children[ne]){const e=t.children[ne];return new Ce(t.segments.concat(e.segments),e.children)}return t}(new Ce(t.segments,e))}function No(t){return t instanceof Au}function NH(t){let e;const i=MH(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ce(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function RH(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return PS(i,i,i,n,r);const s=function Uhe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new OH(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new OH(n,e,r)}(e);if(s.toRoot())return PS(i,i,new Ce([],{}),n,r);const o=function jhe(t,e,n){if(t.isAbsolute)return new sm(e,!0,0);if(!n)return new sm(e,!1,NaN);if(null===n.parent)return new sm(n,!0,0);const r=im(t.commands[0])?0:1;return function $he(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new sm(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?wd(o.segmentGroup,o.index,s.commands):PH(o.segmentGroup,o.index,s.commands);return PS(i,o.segmentGroup,a,n,r)}function im(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function vd(t){return"object"==typeof t&&null!=t&&t.outlets}function PS(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:kH(t,e,n);const a=MH(xH(o));return new Au(a,s,i)}function kH(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:kH(s,e,n)}),new Ce(t.segments,r)}class OH{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&im(r[0]))throw new b(4003,!1);const i=r.find(vd);if(i&&i!==wH(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function PH(t,e,n){if(t||(t=new Ce([],{})),0===t.segments.length&&t.hasChildren())return wd(t,e,n);const r=function Ghe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(vd(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!LH(u,c,o))return s;r+=2}else{if(!LH(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ce(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new Ce(t.segments.slice(r.pathIndex),t.children),wd(s,0,i)}return r.match&&0===i.length?new Ce(t.segments,{}):r.match&&!t.hasChildren()?FS(t,e,n):r.match?wd(t,0,i):FS(t,e,n)}function wd(t,e,n){if(0===n.length)return new Ce(t.segments,{});{const r=function Hhe(t){return vd(t[0])?t[0].outlets:{[ne]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&1===t.numberOfChildren&&0===t.children[ne].segments.length){const s=wd(t.children[ne],e,n);return new Ce(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=PH(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ce(t.segments,i)}}function FS(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(vd(s)){const u=zhe(s.outlets);return new Ce(r,u)}if(0===i&&im(n[0])){r.push(new md(t.segments[e].path,FH(n[0]))),i++;continue}const o=vd(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&im(a)?(r.push(new md(o,FH(a))),i+=2):(r.push(new md(o,{})),i++)}return new Ce(r,{})}function zhe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=FS(new Ce([],{}),0,r))}),e}function FH(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function LH(t,e,n){return t==n.path&&Yr(e,n.parameters)}const Id="imperative";class Jr{constructor(e,n){this.id=e,this.url=n}}class om extends Jr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cs extends Jr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ed extends Jr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mu extends Jr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class am extends Jr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VH extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qhe extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Whe extends Jr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Khe extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qhe extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yhe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jhe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xhe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zhe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class efe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tfe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BH{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LS{}class VS{constructor(e){this.url=e}}class nfe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Dd,this.attachRef=null}}let Dd=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nfe,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class UH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=BS(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=BS(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=US(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return US(e,this._root).map(n=>n.value)}}function BS(t,e){if(t===e.value)return e;for(const n of e.children){const r=BS(t,n);if(r)return r}return null}function US(t,e){if(t===e.value)return[e];for(const n of e.children){const r=US(t,n);if(r.length)return r.unshift(e),r}return[]}class Ni{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function xu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class jH extends UH{constructor(e,n){super(e),this.snapshot=n,jS(this,e)}toString(){return this.snapshot.toString()}}function $H(t,e){const n=function rfe(t,e){const o=new um([],{},{},"",{},ne,e,null,{});return new GH("",new Ni(o,[]))}(0,e),r=new qn([new md("",{})]),i=new qn({}),s=new qn({}),o=new qn({}),a=new qn(""),u=new Nu(r,i,o,a,s,ne,e,n.root);return u.snapshot=n.root,new jH(new Ni(u,[]),n)}class Nu{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Te(c=>c[gd]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>Su(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>Su(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HH(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ife(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class um{get title(){return this.data?.[gd]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Su(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Su(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GH extends UH{constructor(e,n){super(n),this.url=e,jS(this,n)}toString(){return zH(this._root)}}function jS(t,e){e.value._routerState=t,e.children.forEach(n=>jS(t,n))}function zH(t){const e=t.children.length>0?` { ${t.children.map(zH).join(", ")} } `:"";return`${t.value}${e}`}function $S(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yr(e.params,n.params)||t.paramsSubject.next(n.params),function whe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Yr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function HS(t,e){const n=Yr(t.params,e.params)&&function Che(t,e){return xo(t,e)&&t.every((n,r)=>Yr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||HS(t.parent,e.parent))}let qH=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new ce,this.deactivateEvents=new ce,this.attachEvents=new ce,this.detachEvents=new ce,this.parentContexts=O(Dd),this.location=O(Bn),this.changeDetector=O(lf),this.environmentInjector=O(Jn),this.inputBinder=O(cm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new sfe(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[On]})}return t})();class sfe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Nu?this.route:e===Dd?this.childContexts:this.parent.get(e,n)}}const cm=new P("");let WH=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=SS([r.queryParams,r.params,r.data]).pipe(Dr(([s,o,a],u)=>(a={...s,...o,...a},0===u?W(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function EK(t){const e=ae(t);if(!e)return null;const n=new _c(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function Cd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function afe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Cd(t,r,i);return Cd(t,r)})}(t,e,n);return new Ni(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Cd(t,a)),o}}const r=function ufe(t){return new Nu(new qn(t.url),new qn(t.params),new qn(t.queryParams),new qn(t.fragment),new qn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Cd(t,s));return new Ni(r,i)}}const GS="ngNavigationCancelingError";function KH(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=No(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QH(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function QH(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[GS]=!0,r.cancellationCode=e,n&&(r.url=n),r}function YH(t){return t&&t[GS]}let JH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Oo({type:t,selectors:[["ng-component"]],standalone:!0,features:[qk],decls:1,vars:0,template:function(r,i){1&r&&Hi(0,"router-outlet")},dependencies:[qH],encapsulation:2})}return t})();function zS(t){const e=t.children&&t.children.map(zS),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=JH),n}function Ir(t){return t.outlet||ne}function bd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class mfe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),$S(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=xu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=xu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=xu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=xu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tfe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Zhe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if($S(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),$S(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=bd(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class XH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lm{constructor(e,n){this.component=e,this.route=n}}function yfe(t,e,n){const r=t._root;return Td(r,e?e._root:null,n,[r.value])}function Ru(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function S4(t){return null!==Bd(t)}(t)?e.get(t):t:r}function Td(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xu(e);return t.children.forEach(o=>{(function vfe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function wfe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xo(t.url,e.url)||!Yr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HS(t,e)||!Yr(t.queryParams,e.queryParams);default:return!HS(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new XH(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Td(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new lm(a.outlet.component,o))}else o&&Sd(e,a,i),i.canActivateChecks.push(new XH(r)),Td(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Sd(a,n.getContext(o),i)),i}function Sd(t,e,n){const r=xu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Sd(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new lm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ad(t){return"function"==typeof t}function ZH(t){return t instanceof Xg||"EmptyError"===t?.name}const dm=Symbol("INITIAL_VALUE");function ku(){return Dr(t=>SS(t.map(e=>e.pipe(Tu(1),function hhe(...t){const e=Lu(t);return ht((n,r)=>{(e?AS(t,n,e):AS(t,n)).subscribe(r)})}(dm)))).pipe(Te(e=>{for(const n of e)if(!0!==n){if(n===dm)return dm;if(!1===n||n instanceof Au)return n}return!0}),Es(e=>e!==dm),Tu(1)))}function eG(t){return function xG(...t){return sA(t)}(Ot(e=>{if(No(e))throw KH(0,e)}),Te(e=>!0===e))}class hm{constructor(e){this.segmentGroup=e||null}}class tG{constructor(e){this.urlTree=e}}function Ou(t){return fd(new hm(t))}function nG(t){return fd(new tG(t))}class Ufe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[ne])return fd(new b(4e3,!1));i=i.children[ne]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Au(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ce(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const qS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jfe(t,e,n,r,i){const s=WS(t,e,n);return s.matched?(r=function lfe(t,e){return t.providers&&!t._injector&&(t._injector=X_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Lfe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=Ru(o,t);return Ds(function Tfe(t){return t&&Ad(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ku(),eG()):W(!0)}(r,e,n).pipe(Te(o=>!0===o?s:{...qS}))):W(s)}function WS(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...qS}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||vhe)(n,t,e);if(!i)return{...qS};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function rG(t,e,n,r){return n.length>0&&function Gfe(t,e,n){return n.some(r=>fm(t,e,r)&&Ir(r)!==ne)}(t,n,r)?{segmentGroup:new Ce(e,Hfe(r,new Ce(n,t.children))),slicedSegments:[]}:0===n.length&&function zfe(t,e,n){return n.some(r=>fm(t,e,r))}(t,n,r)?{segmentGroup:new Ce(t.segments,$fe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ce(t.segments,t.children),slicedSegments:n}}function $fe(t,e,n,r,i){const s={};for(const o of r)if(fm(t,n,o)&&!i[Ir(o)]){const a=new Ce([],{});s[Ir(o)]=a}return{...i,...s}}function Hfe(t,e){const n={};n[ne]=e;for(const r of t)if(""===r.path&&Ir(r)!==ne){const i=new Ce([],{});n[Ir(r)]=i}return n}function fm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Qfe{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Ufe(this.urlSerializer,this.urlTree)}noMatchError(e){return new b(4002,!1)}recognize(){const e=rG(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(Mo(n=>{if(n instanceof tG)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof hm?this.noMatchError(n):n}),Te(n=>{const r=new um([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new Ni(r,n),s=new GH("",i),o=function Bhe(t,e,n=null,r=null){return RH(NH(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ne).pipe(Mo(r=>{throw r instanceof hm?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=HH(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return vt(i).pipe(pd(s=>{const o=r.children[s],a=function pfe(t,e){const n=t.filter(r=>Ir(r)===e);return n.push(...t.filter(r=>Ir(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function ghe(t,e){return ht(function phe(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(at(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Zg(null),function mhe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Es((i,s)=>t(i,s,r)):ki,xS(1),n?Zg(e):_H(()=>new Xg))}(),St(s=>{if(null===s)return Ou(r);const o=iG(s);return function Yfe(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}(o),W(o)}))}processSegment(e,n,r,i,s,o){return vt(n).pipe(pd(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Mo(u=>{if(u instanceof hm)return W(null);throw u}))),Ao(a=>!!a),Mo(a=>{if(ZH(a))return function Wfe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?W([]):Ou(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function qfe(t,e,n,r){return!!(Ir(t)===r||r!==ne&&fm(e,n,t))&&("**"===t.path||WS(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ou(i):Ou(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nG(s):this.applyRedirects.lineralizeSegments(r,s).pipe(St(o=>{const a=new Ce(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=WS(n,i,s);if(!a)return Ou(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?nG(d):this.applyRedirects.lineralizeSegments(i,d).pipe(St(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?wH(i).parameters:{};a=W({snapshot:new um(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sG(r),Ir(r),r.component??r._loadedComponent??null,r,oG(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=jfe(n,r,i,e).pipe(Te(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new um(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sG(r),Ir(r),r.component??r._loadedComponent??null,r,oG(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Dr(u=>null===u?Ou(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Dr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=rG(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Te(w=>null===w?null:[new Ni(d,w)]));if(0===c.length&&0===g.length)return W([new Ni(d,[])]);const y=Ir(r)===s;return this.processSegment(l,c,p,g,y?ne:s,!0).pipe(Te(w=>[new Ni(d,w)]))}))))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?W({routes:n._loadedRoutes,injector:n._loadedInjector}):function Ffe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=Ru(o,t);return Ds(function Efe(t){return t&&Ad(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ku(),eG())}(e,n,r).pipe(St(i=>i?this.configLoader.loadChildren(e,n).pipe(Ot(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Bfe(t){return fd(QH(!1,3))}())):W({routes:[],injector:e})}}function Jfe(t){const e=t.value.routeConfig;return e&&""===e.path}function iG(t){const e=[],n=new Set;for(const r of t){if(!Jfe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=iG(r.children);e.push(new Ni(r.value,i))}return e.filter(r=>!n.has(r))}function sG(t){return t.data||{}}function oG(t){return t.resolve||{}}function aG(t){return"string"==typeof t.title||null===t.title}function KS(t){return Dr(e=>{const n=t(e);return n?vt(n).pipe(Te(()=>e)):W(e)})}const Pu=new P("ROUTES");let QS=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(j1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ds(n.loadComponent()).pipe(Te(uG),Ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),NS(()=>{this.componentLoaders.delete(n)})),i=new yH(r,()=>new pn).pipe(MS());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function ipe(t,e,n,r){return Ds(t.loadChildren()).pipe(Te(uG),St(i=>i instanceof Gk||Array.isArray(i)?W(i):vt(e.compileModuleAsync(i))),Te(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Pu,[],{optional:!0,self:!0}).flat()),{routes:o.map(zS),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(NS(()=>{this.childrenLoaders.delete(r)})),o=new yH(s,()=>new pn).pipe(MS());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uG(t){return function spe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let pm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pn,this.transitionAbortSubject=new pn,this.configLoader=O(QS),this.environmentInjector=O(Jn),this.urlSerializer=O(yd),this.rootContexts=O(Dd),this.inputBindingEnabled=null!==O(cm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Jhe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Yhe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new qn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Id,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Es(s=>0!==s.id),Te(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Dr(s=>{this.currentTransition=s;let o=!1,a=!1;return W(s).pipe(Ot(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Dr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Mu(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Er}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(Dr(h=>{const f=this.transitions?.getValue();return this.events.next(new om(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Er:Promise.resolve(h)}),function Xfe(t,e,n,r,i,s){return St(o=>function Kfe(t,e,n,r,i,s,o="emptyOnly"){return new Qfe(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Te(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ot(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new VH(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=u,w=new om(h,this.urlSerializer.serialize(f),p,g);this.events.next(w);const _=$H(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},W(s)}{const h="";return this.events.next(new Mu(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Er}}),Ot(u=>{const c=new qhe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Te(u=>(this.currentTransition=s={...u,guards:yfe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function Afe(t,e){return St(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?W({...n,guardsResult:!0}):function Mfe(t,e,n,r){return vt(t).pipe(St(i=>function Pfe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const u=bd(e)??i,c=Ru(a,u);return Ds(function bfe(t){return t&&Ad(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Ao())})).pipe(ku()):W(!0)}(i.component,i.route,n,e,r)),Ao(i=>!0!==i,!0))}(o,r,i,t).pipe(St(a=>a&&function Ife(t){return"boolean"==typeof t}(a)?function xfe(t,e,n,r){return vt(e).pipe(pd(i=>AS(function Rfe(t,e){return null!==t&&e&&e(new Xhe(t)),W(!0)}(i.route.parent,r),function Nfe(t,e){return null!==t&&e&&e(new efe(t)),W(!0)}(i.route,r),function Ofe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function _fe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>mH(()=>W(o.guards.map(u=>{const c=bd(o.node)??n,l=Ru(u,c);return Ds(function Cfe(t){return t&&Ad(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Ao())})).pipe(ku())));return W(s).pipe(ku())}(t,i.path,n),function kfe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>mH(()=>{const o=bd(e)??n,a=Ru(s,o);return Ds(function Dfe(t){return t&&Ad(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ao())}));return W(i).pipe(ku())}(t,i.route,n))),Ao(i=>!0!==i,!0))}(r,s,t,e):W(a)),Te(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Ot(u=>{if(s.guardsResult=u.guardsResult,No(u.guardsResult))throw KH(0,u.guardsResult);const c=new Whe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Es(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),KS(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(Ot(c=>{const l=new Khe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Dr(c=>{let l=!1;return W(c).pipe(function Zfe(t,e){return St(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=0;return vt(i).pipe(pd(o=>function epe(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!aG(i)&&(s[gd]=i.title),function tpe(t,e,n,r){const i=function npe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return W({});const s={};return vt(i).pipe(St(o=>function rpe(t,e,n,r){const i=bd(e)??r,s=Ru(t,i);return Ds(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ao(),Ot(a=>{s[o]=a}))),xS(1),function yhe(t){return Te(()=>t)}(s),Mo(o=>ZH(o)?Er:fd(o)))}(s,t,e,r).pipe(Te(o=>(t._resolvedData=o,t.data=HH(t,n).resolve,i&&aG(i)&&(t.data[gd]=i.title),null)))}(o.route,r,t,e)),Ot(()=>s++),xS(1),St(o=>s===i.length?W(n):Er))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ot({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Ot(c=>{const l=new Qhe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),KS(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ot(h=>{l.component=h}),Te(()=>{})));for(const h of l.children)d.push(...c(h));return d};return SS(c(u.targetSnapshot.root)).pipe(Zg(),Tu(1))}),KS(()=>this.afterPreactivation()),Te(u=>{const c=function ofe(t,e,n){const r=Cd(t,e._root,n?n._root:void 0);return new jH(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),Ot(()=>{this.events.next(new LS)}),((t,e,n,r)=>Te(i=>(new mfe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Tu(1),Ot({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Jg(this.transitionAbortSubject.pipe(Ot(u=>{throw u}))),NS(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Mo(u=>{if(a=!0,YH(u))this.events.next(new Ed(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function cfe(t){return YH(t)&&No(t.url)}(u)?this.events.next(new VS(u.url)):s.resolve(!1);else{this.events.next(new am(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Er}))}))}cancelNavigationTransition(n,r,i){const s=new Ed(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cG(t){return t!==Id}let lG=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[gd]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return O(ope)},providedIn:"root"})}return t})(),ope=(()=>{class t extends lG{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(U(oP))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ape=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return O(cpe)},providedIn:"root"})}return t})();class upe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let cpe=(()=>{class t extends upe{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Rt(t)))(i||t)}}();static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gm=new P("",{providedIn:"root",factory:()=>({})});let lpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return O(dpe)},providedIn:"root"})}return t})(),dpe=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Md=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Md||{});function dG(t,e){t.events.pipe(Es(n=>n instanceof Cs||n instanceof Ed||n instanceof am||n instanceof Mu),Te(n=>n instanceof Cs||n instanceof Mu?Md.COMPLETE:n instanceof Ed&&(0===n.code||1===n.code)?Md.REDIRECTING:Md.FAILED),Es(n=>n!==Md.REDIRECTING),Tu(1)).subscribe(()=>{e()})}function hpe(t){throw t}function fpe(t,e,n){return e.parse("/")}const ppe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=O(B1),this.isNgZoneEnabled=!1,this._events=new pn,this.options=O(gm,{optional:!0})||{},this.pendingTasks=O(U1),this.errorHandler=this.options.errorHandler||hpe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fpe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=O(lpe),this.routeReuseStrategy=O(ape),this.titleStrategy=O(lG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=O(Pu,{optional:!0})?.flat()??[],this.navigationTransitions=O(pm),this.urlSerializer=O(yd),this.location=O(xv),this.componentInputBindingEnabled=!!O(cm,{optional:!0}),this.eventsSubscription=new fn,this.isNgZoneEnabled=O(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Au,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$H(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(hG(r)&&this._events.next(r));if(r instanceof om)cG(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Mu)this.rawUrlTree=i.rawUrl;else if(r instanceof VH){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof LS)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ed)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof VS){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cG(i.source)};this.scheduleNavigation(s,Id,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof am&&this.restoreHistory(i,!0),r instanceof Cs&&(this.navigated=!0),hG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Id,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(zS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=NH(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return RH(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=No(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Id,null,r)}navigate(n,r={skipLocationChange:!1}){return function mpe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...ppe}:!1===r?{...gpe}:r,No(n))return EH(this.currentUrlTree,n,i);const s=this.parseUrl(n);return EH(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return dG(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hG(t){return!(t instanceof LS||t instanceof VS)}class fG{}let vpe=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Es(n=>n instanceof Cs),pd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=X_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return vt(i).pipe(Ro())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):W(null);const s=i.pipe(St(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?vt([s,this.loader.loadComponent(r)]).pipe(Ro()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(U(or),U(j1),U(Jn),U(fG),U(QS))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const JS=new P("");let pG=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof om?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Cs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Mu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof BH&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BH(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function RN(){throw new Error("invalid")}()};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function Ri(t,e){return{\u0275kind:t,\u0275providers:e}}function mG(){const t=O(Ht);return e=>{const n=t.get(Ta);if(e!==n.components[0])return;const r=t.get(or),i=t.get(yG);1===t.get(XS)&&r.initialNavigation(),t.get(_G,null,re.Optional)?.setUpPreloading(),t.get(JS,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yG=new P("",{factory:()=>new pn}),XS=new P("",{providedIn:"root",factory:()=>1}),_G=new P("");function Dpe(t){return Ri(0,[{provide:_G,useExisting:vpe},{provide:fG,useExisting:t}])}const vG=new P("ROUTER_FORROOT_GUARD"),bpe=[xv,{provide:yd,useClass:RS},or,Dd,{provide:Nu,useFactory:function gG(t){return t.routerState.root},deps:[or]},QS,[]];function Tpe(){return new K1("Router",or)}let wG=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[bpe,[],{provide:Pu,multi:!0,useValue:n},{provide:vG,useFactory:xpe,deps:[[or,new wn,new ch]]},{provide:gm,useValue:r||{}},r?.useHash?{provide:Us,useClass:SK}:{provide:Us,useClass:CO},{provide:JS,useFactory:()=>{const t=O(WQ),e=O(we),n=O(gm),r=O(pm),i=O(yd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new pG(i,r,t,e,n)}},r?.preloadingStrategy?Dpe(r.preloadingStrategy).\u0275providers:[],{provide:K1,multi:!0,useFactory:Tpe},r?.initialNavigation?Npe(r):[],r?.bindToComponentInputs?Ri(8,[WH,{provide:cm,useExisting:WH}]).\u0275providers:[],[{provide:IG,useFactory:mG},{provide:wv,multi:!0,useExisting:IG}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Pu,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(vG,8))};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=Zt({})}return t})();function xpe(t){return"guarded"}function Npe(t){return["disabled"===t.initialNavigation?Ri(3,[{provide:hv,multi:!0,useFactory:()=>{const e=O(or);return()=>{e.setUpLocationChangeListener()}}},{provide:XS,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ri(2,[{provide:XS,useValue:0},{provide:hv,multi:!0,deps:[Ht],useFactory:e=>{const n=e.get(bK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(or),s=e.get(yG);dG(i,()=>{r(!0)}),e.get(pm).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const IG=new P(""),kpe=[{path:"new-tema",component:pH},{path:"resultados-tema",component:(()=>{class t{constructor(){this.dtOptions={},this.dtTrigger=new pn,this.firebaseService=O(hH)}ngOnInit(){this.dtOptions={pagingType:"full_numbers"},this.dtTrigger.next(null)}ngOnDestroy(){this.dtTrigger.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Oo({type:t,selectors:[["app-resultados-tema"]],decls:0,vars:0,template:function(r,i){}})}return t})()}];let Ope=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=Zt({imports:[wG.forRoot(kpe),wG]})}return t})();const Ppe_firebase={projectId:"finderluzy",appId:"1:554925423172:web:95849be8b724a981eb1a11",databaseURL:"https://finderluzy-default-rtdb.firebaseio.com",storageBucket:"finderluzy.appspot.com",apiKey:"AIzaSyCFe3f49FtHC5uNtqV8JDZRs05JEjwOm_Y",authDomain:"finderluzy.firebaseapp.com",messagingSenderId:"554925423172"};let Fpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t,bootstrap:[uhe]});static#n=this.\u0275inj=Zt({imports:[jY,Ope,JJ,the,Pre(()=>Fre(Ppe_firebase)),Wde(()=>Jde()),ihe.forRoot()]})}return t})();BY().bootstrapModule(Fpe).catch(t=>console.error(t))}},mm=>{mm(mm.s=160)}]);